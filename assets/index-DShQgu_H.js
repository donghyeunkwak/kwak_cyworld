(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Jd={exports:{}},Cl={};var X_;function jR(){if(X_)return Cl;X_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=t,Cl.jsx=i,Cl.jsxs=i,Cl}var Z_;function qR(){return Z_||(Z_=1,Jd.exports=jR()),Jd.exports}var J=qR(),Wd={exports:{}},St={};var $_;function HR(){if($_)return St;$_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,j={};function X(O,W,lt){this.props=O,this.context=W,this.refs=j,this.updater=lt||U}X.prototype.isReactComponent={},X.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},X.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function nt(){}nt.prototype=X.prototype;function Q(O,W,lt){this.props=O,this.context=W,this.refs=j,this.updater=lt||U}var ot=Q.prototype=new nt;ot.constructor=Q,H(ot,X.prototype),ot.isPureReactComponent=!0;var at=Array.isArray;function ut(){}var w={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(O,W,lt){var ht=lt.ref;return{$$typeof:n,type:O,key:W,ref:ht!==void 0?ht:null,props:lt}}function N(O,W){return D(O.type,W,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function L(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(lt){return W[lt]})}var x=/\/+/g;function Wt(O,W){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):W.toString(36)}function he(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ut,ut):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,W,lt,ht,Et){var Dt=typeof O;(Dt==="undefined"||Dt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(Dt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case n:case t:kt=!0;break;case v:return kt=O._init,Y(kt(O._payload),W,lt,ht,Et)}}if(kt)return Et=Et(O),kt=ht===""?"."+Wt(O,0):ht,at(Et)?(lt="",kt!=null&&(lt=kt.replace(x,"$&/")+"/"),Y(Et,W,lt,"",function(or){return or})):Et!=null&&(M(Et)&&(Et=N(Et,lt+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(x,"$&/")+"/")+kt)),W.push(Et)),1;kt=0;var Ne=ht===""?".":ht+":";if(at(O))for(var re=0;re<O.length;re++)ht=O[re],Dt=Ne+Wt(ht,re),kt+=Y(ht,W,lt,Dt,Et);else if(re=C(O),typeof re=="function")for(O=re.call(O),re=0;!(ht=O.next()).done;)ht=ht.value,Dt=Ne+Wt(ht,re++),kt+=Y(ht,W,lt,Dt,Et);else if(Dt==="object"){if(typeof O.then=="function")return Y(he(O),W,lt,ht,Et);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return kt}function it(O,W,lt){if(O==null)return O;var ht=[],Et=0;return Y(O,ht,"","",function(Dt){return W.call(lt,Dt,Et++)}),ht}function ft(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(lt){(O._status===0||O._status===-1)&&(O._status=1,O._result=lt)},function(lt){(O._status===0||O._status===-1)&&(O._status=2,O._result=lt)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var Ct=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},It={map:it,forEach:function(O,W,lt){it(O,function(){W.apply(this,arguments)},lt)},count:function(O){var W=0;return it(O,function(){W++}),W},toArray:function(O){return it(O,function(W){return W})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=E,St.Children=It,St.Component=X,St.Fragment=i,St.Profiler=o,St.PureComponent=Q,St.StrictMode=r,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,W,lt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ht=H({},O.props),Et=O.key;if(W!=null)for(Dt in W.key!==void 0&&(Et=""+W.key),W)!R.call(W,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&W.ref===void 0||(ht[Dt]=W[Dt]);var Dt=arguments.length-2;if(Dt===1)ht.children=lt;else if(1<Dt){for(var kt=Array(Dt),Ne=0;Ne<Dt;Ne++)kt[Ne]=arguments[Ne+2];ht.children=kt}return D(O.type,Et,ht)},St.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},St.createElement=function(O,W,lt){var ht,Et={},Dt=null;if(W!=null)for(ht in W.key!==void 0&&(Dt=""+W.key),W)R.call(W,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(Et[ht]=W[ht]);var kt=arguments.length-2;if(kt===1)Et.children=lt;else if(1<kt){for(var Ne=Array(kt),re=0;re<kt;re++)Ne[re]=arguments[re+2];Et.children=Ne}if(O&&O.defaultProps)for(ht in kt=O.defaultProps,kt)Et[ht]===void 0&&(Et[ht]=kt[ht]);return D(O,Dt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:m,render:O}},St.isValidElement=M,St.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ft}},St.memo=function(O,W){return{$$typeof:g,type:O,compare:W===void 0?null:W}},St.startTransition=function(O){var W=w.T,lt={};w.T=lt;try{var ht=O(),Et=w.S;Et!==null&&Et(lt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(ut,Ct)}catch(Dt){Ct(Dt)}finally{W!==null&&lt.types!==null&&(W.types=lt.types),w.T=W}},St.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},St.use=function(O){return w.H.use(O)},St.useActionState=function(O,W,lt){return w.H.useActionState(O,W,lt)},St.useCallback=function(O,W){return w.H.useCallback(O,W)},St.useContext=function(O){return w.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,W){return w.H.useDeferredValue(O,W)},St.useEffect=function(O,W){return w.H.useEffect(O,W)},St.useEffectEvent=function(O){return w.H.useEffectEvent(O)},St.useId=function(){return w.H.useId()},St.useImperativeHandle=function(O,W,lt){return w.H.useImperativeHandle(O,W,lt)},St.useInsertionEffect=function(O,W){return w.H.useInsertionEffect(O,W)},St.useLayoutEffect=function(O,W){return w.H.useLayoutEffect(O,W)},St.useMemo=function(O,W){return w.H.useMemo(O,W)},St.useOptimistic=function(O,W){return w.H.useOptimistic(O,W)},St.useReducer=function(O,W,lt){return w.H.useReducer(O,W,lt)},St.useRef=function(O){return w.H.useRef(O)},St.useState=function(O){return w.H.useState(O)},St.useSyncExternalStore=function(O,W,lt){return w.H.useSyncExternalStore(O,W,lt)},St.useTransition=function(){return w.H.useTransition()},St.version="19.2.0",St}var J_;function yp(){return J_||(J_=1,Wd.exports=HR()),Wd.exports}var st=yp(),tm={exports:{}},Dl={},em={exports:{}},nm={};var W_;function FR(){return W_||(W_=1,(function(n){function t(Y,it){var ft=Y.length;Y.push(it);t:for(;0<ft;){var Ct=ft-1>>>1,It=Y[Ct];if(0<o(It,it))Y[Ct]=it,Y[ft]=It,ft=Ct;else break t}}function i(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var it=Y[0],ft=Y.pop();if(ft!==it){Y[0]=ft;t:for(var Ct=0,It=Y.length,O=It>>>1;Ct<O;){var W=2*(Ct+1)-1,lt=Y[W],ht=W+1,Et=Y[ht];if(0>o(lt,ft))ht<It&&0>o(Et,lt)?(Y[Ct]=Et,Y[ht]=ft,Ct=ht):(Y[Ct]=lt,Y[W]=ft,Ct=W);else if(ht<It&&0>o(Et,ft))Y[Ct]=Et,Y[ht]=ft,Ct=ht;else break t}}return it}function o(Y,it){var ft=Y.sortIndex-it.sortIndex;return ft!==0?ft:Y.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,E=null,A=3,C=!1,U=!1,H=!1,j=!1,X=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ot(Y){for(var it=i(g);it!==null;){if(it.callback===null)r(g);else if(it.startTime<=Y)r(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=i(g)}}function at(Y){if(H=!1,ot(Y),!U)if(i(p)!==null)U=!0,ut||(ut=!0,L());else{var it=i(g);it!==null&&he(at,it.startTime-Y)}}var ut=!1,w=-1,R=5,D=-1;function N(){return j?!0:!(n.unstable_now()-D<R)}function M(){if(j=!1,ut){var Y=n.unstable_now();D=Y;var it=!0;try{t:{U=!1,H&&(H=!1,nt(w),w=-1),C=!0;var ft=A;try{e:{for(ot(Y),E=i(p);E!==null&&!(E.expirationTime>Y&&N());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,A=E.priorityLevel;var It=Ct(E.expirationTime<=Y);if(Y=n.unstable_now(),typeof It=="function"){E.callback=It,ot(Y),it=!0;break e}E===i(p)&&r(p),ot(Y)}else r(p);E=i(p)}if(E!==null)it=!0;else{var O=i(g);O!==null&&he(at,O.startTime-Y),it=!1}}break t}finally{E=null,A=ft,C=!1}it=void 0}}finally{it?L():ut=!1}}}var L;if(typeof Q=="function")L=function(){Q(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Wt=x.port2;x.port1.onmessage=M,L=function(){Wt.postMessage(null)}}else L=function(){X(M,0)};function he(Y,it){w=X(function(){Y(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var it=3;break;default:it=A}var ft=A;A=it;try{return Y()}finally{A=ft}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(Y,it){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ft=A;A=Y;try{return it()}finally{A=ft}},n.unstable_scheduleCallback=function(Y,it,ft){var Ct=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ct+ft:Ct):ft=Ct,Y){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=ft+It,Y={id:v++,callback:it,priorityLevel:Y,startTime:ft,expirationTime:It,sortIndex:-1},ft>Ct?(Y.sortIndex=ft,t(g,Y),i(p)===null&&Y===i(g)&&(H?(nt(w),w=-1):H=!0,he(at,ft-Ct))):(Y.sortIndex=It,t(p,Y),U||C||(U=!0,ut||(ut=!0,L()))),Y},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Y){var it=A;return function(){var ft=A;A=it;try{return Y.apply(this,arguments)}finally{A=ft}}}})(nm)),nm}var t0;function GR(){return t0||(t0=1,em.exports=FR()),em.exports}var im={exports:{}},We={};var e0;function KR(){if(e0)return We;e0=1;var n=yp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,We.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},We.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},We.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},We.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},We.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:C}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},We.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},We.requestFormReset=function(p){r.d.r(p)},We.unstable_batchedUpdates=function(p,g){return p(g)},We.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},We.useFormStatus=function(){return c.H.useHostTransitionStatus()},We.version="19.2.0",We}var n0;function YR(){if(n0)return im.exports;n0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),im.exports=KR(),im.exports}var i0;function QR(){if(i0)return Dl;i0=1;var n=GR(),t=yp(),i=YR();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case X:return"Profiler";case j:return"StrictMode";case at:return"Suspense";case ut:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case Q:return e.displayName||"Context";case nt:return(e._context.displayName||"Context")+".Consumer";case ot:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return s=e.displayName||null,s!==null?s:Wt(e.type)||"Memo";case R:s=e._payload,e=e._init;try{return Wt(e(s))}catch{}}return null}var he=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ct=[],It=-1;function O(e){return{current:e}}function W(e){0>It||(e.current=Ct[It],Ct[It]=null,It--)}function lt(e,s){It++,Ct[It]=e.current,e.current=s}var ht=O(null),Et=O(null),Dt=O(null),kt=O(null);function Ne(e,s){switch(lt(Dt,s),lt(Et,e),lt(ht,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?v_(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=v_(s),e=__(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ht),lt(ht,e)}function re(){W(ht),W(Et),W(Dt)}function or(e){e.memoizedState!==null&&lt(kt,e);var s=ht.current,a=__(s,e.type);s!==a&&(lt(Et,e),lt(ht,a))}function ea(e){Et.current===e&&(W(ht),W(Et)),kt.current===e&&(W(kt),Sl._currentValue=ft)}var na,ia;function oi(e){if(na===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);na=s&&s[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+ia}var So=!1;function lr(e,s){if(!e||So)return"";So=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(e,[],$)}else{try{$.call()}catch(G){q=G}e.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var V=_.split(`
`),B=S.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===B.length)for(l=V.length-1,f=B.length-1;1<=l&&0<=f&&V[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==B[f]){var K=`
`+V[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=f);break}}}finally{So=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?oi(a):""}function bo(e,s){switch(e.tag){case 26:case 27:case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return e.child!==s&&s!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return oi("Activity");default:return""}}function Ro(e){try{var s="",a=null;do s+=bo(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Oe=n.unstable_scheduleCallback,fs=n.unstable_cancelCallback,Wh=n.unstable_shouldYield,pu=n.unstable_requestPaint,rn=n.unstable_now,ur=n.unstable_getCurrentPriorityLevel,wo=n.unstable_ImmediatePriority,Co=n.unstable_UserBlockingPriority,ds=n.unstable_NormalPriority,tf=n.unstable_LowPriority,gu=n.unstable_IdlePriority,yu=n.log,vu=n.unstable_setDisableYieldValue,Kn=null,He=null;function Cn(e){if(typeof yu=="function"&&vu(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Kn,e)}catch{}}var pe=Math.clz32?Math.clz32:Tu,_u=Math.log,sa=Math.LN2;function Tu(e){return e>>>=0,e===0?32:31-(_u(e)/sa|0)|0}var li=256,cr=262144,Ae=4194304;function ui(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ui(l):(_&=S,_!==0?f=ui(_):a||(a=S&~e,a!==0&&(f=ui(a))))):(S=l&~d,S!==0?f=ui(S):_!==0?f=ui(_):a||(a=l&~e,a!==0&&(f=ui(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Yn(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function ef(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function hi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function hr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nf(e,s,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,V=e.expirationTimes,B=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-pe(a),$=1<<K;S[K]=0,V[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var G=q[K];G!==null&&(G.lane&=-536870913)}a&=~$}l!==0&&fr(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~s))}function fr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-pe(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Do(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-pe(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function xo(e,s){var a=s&-s;return a=(a&42)!==0?1:dr(a),(a&(e.suspendedLanes|s))!==0?0:a}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Au(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:q_(e.type))}function Qn(e,s){var a=it.p;try{return it.p=e,s()}finally{it.p=a}}var Xn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Xn,ke="__reactProps$"+Xn,fi="__reactContainer$"+Xn,ra="__reactEvents$"+Xn,sf="__reactListeners$"+Xn,Su="__reactHandles$"+Xn,bu="__reactResources$"+Xn,di="__reactMarker$"+Xn;function aa(e){delete e[Se],delete e[ke],delete e[ra],delete e[sf],delete e[Su]}function mi(e){var s=e[Se];if(s)return s;for(var a=e.parentNode;a;){if(s=a[fi]||a[Se]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=w_(e);e!==null;){if(a=e[Se])return a;e=w_(e)}return s}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[Se]||e[fi]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function vn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function pi(e){var s=e[bu];return s||(s=e[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(e){e[di]=!0}var Vo=new Set,Mo={};function gi(e,s){yi(e,s),yi(e+"Capture",s)}function yi(e,s){for(Mo[e]=s,e=0;e<s.length;e++)Vo.add(s[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Oo={};function Ru(e){return Ee.call(Oo,e)?!0:Ee.call(No,e)?!1:Io.test(e)?Oo[e]=!0:(No[e]=!0,!1)}function oa(e,s,a){if(Ru(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function _n(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Re(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Po(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Kt(e){if(!e._valueTracker){var s=ms(e)?"checked":"value";e._valueTracker=Po(e,s,""+e[s])}}function mr(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=ms(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pr=/[\n"\\]/g;function un(e){return e.replace(pr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function la(e,s,a,l,f,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+ze(s)):e.value!==""+ze(s)&&(e.value=""+ze(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?Lo(e,_,ze(s)):a!=null?Lo(e,_,ze(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+ze(S):e.removeAttribute("name")}function wu(e,s,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Kt(e);return}a=a!=null?""+ze(a):"",s=s!=null?""+ze(s):a,S||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function Lo(e,s,a){s==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ps(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Cu(e,s,a){if(s!=null&&(s=""+ze(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+ze(a):""}function gs(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(he(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ze(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function cn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Du.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function ko(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Uo(e,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Uo(e,d,s[d])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var zo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,_i=null;function gr(e){var s=Dn(e);if(s&&(e=s.stateNode)){var a=e[ke]||null;t:switch(e=s.stateNode,s.type){case"input":if(la(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[ke]||null;if(!f)throw Error(r(90));la(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&mr(l)}break t;case"textarea":Cu(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&ps(e,!!a.multiple,s,!1)}}}var ha=!1;function _s(e,s,a){if(ha)return e(s,a);ha=!0;try{var l=e(s);return l}finally{if(ha=!1,(vs!==null||_i!==null)&&(Ac(),vs&&(s=vs,e=_i,_i=vs=null,gr(s),e)))for(s=0;s<e.length;s++)gr(e[s])}}function $n(e,s){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Vn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{yr=!1}var Ti=null,Bo=null,vr=null;function jo(){if(vr)return vr;var e,s=Bo,a=s.length,l,f="value"in Ti?Ti.value:Ti.textContent,d=f.length;for(e=0;e<a&&s[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return vr=f.slice(e,1<l?1-l:void 0)}function _r(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Jn(){return!1}function Fe(e){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:Jn,this.isPropagationStopped=Jn,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),s}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Fe(qi),Ts=E({},qi,{view:0,detail:0}),qo=Fe(Ts),Es,fa,Ai,da=E({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Es=e.screenX-Ai.screenX,fa=e.screenY-Ai.screenY):fa=Es=0,Ai=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Ho=Fe(da),Tr=E({},da,{dataTransfer:0}),Vu=Fe(Tr),Mu=E({},Ts,{relatedTarget:0}),Er=Fe(Mu),Fo=E({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Fe(Fo),ma=E({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=Fe(ma),Ou=E({},qi,{data:0}),Si=Fe(Ou),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Uu[e])?!!s[e]:!1}function As(){return ku}var an=E({},Ts,{key:function(e){if(e.key){var s=Pu[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zu=Fe(an),Bu=E({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Fe(Bu),h=E({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),y=Fe(h),T=E({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Fe(T),k=E({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Fe(k),rt=E({},qi,{newState:0,oldState:0}),Rt=Fe(rt),ge=[9,13,27,32],Ht=Vn&&"CompositionEvent"in window,ae=null;Vn&&"documentMode"in document&&(ae=document.documentMode);var Mn=Vn&&"TextEvent"in window&&!ae,bi=Vn&&(!Ht||ae&&8<ae&&11>=ae),Wn=" ",ti=!1;function Ar(e,s){switch(e){case"keyup":return ge.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function hb(e,s){switch(e){case"compositionend":return pa(s);case"keypress":return s.which!==32?null:(ti=!0,Wn);case"textInput":return e=s.data,e===Wn&&ti?null:e;default:return null}}function fb(e,s){if(ga)return e==="compositionend"||!Ht&&Ar(e,s)?(e=jo(),vr=Bo=Ti=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bi&&s.locale!=="ko"?null:s.data;default:return null}}var db={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!db[e.type]:s==="textarea"}function Vg(e,s,a,l){vs?_i?_i.push(l):_i=[l]:vs=l,s=xc(s,"onChange"),0<s.length&&(a=new Ei("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var Go=null,Ko=null;function mb(e){f_(e,0)}function ju(e){var s=vn(e);if(mr(s))return e}function Mg(e,s){if(e==="change")return s}var Ig=!1;if(Vn){var rf;if(Vn){var af="oninput"in document;if(!af){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),af=typeof Ng.oninput=="function"}rf=af}else rf=!1;Ig=rf&&(!document.documentMode||9<document.documentMode)}function Og(){Go&&(Go.detachEvent("onpropertychange",Pg),Ko=Go=null)}function Pg(e){if(e.propertyName==="value"&&ju(Ko)){var s=[];Vg(s,Ko,e,xn(e)),_s(mb,s)}}function pb(e,s,a){e==="focusin"?(Og(),Go=s,Ko=a,Go.attachEvent("onpropertychange",Pg)):e==="focusout"&&Og()}function gb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ju(Ko)}function yb(e,s){if(e==="click")return ju(s)}function vb(e,s){if(e==="input"||e==="change")return ju(s)}function _b(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Tn=typeof Object.is=="function"?Object.is:_b;function Yo(e,s){if(Tn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ee.call(s,f)||!Tn(e[f],s[f]))return!1}return!0}function Lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,s){var a=Lg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Lg(a)}}function kg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?kg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function zg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=vi(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=vi(e.document)}return s}function of(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Tb=Vn&&"documentMode"in document&&11>=document.documentMode,ya=null,lf=null,Qo=null,uf=!1;function Bg(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||ya==null||ya!==vi(l)||(l=ya,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Yo(Qo,l)||(Qo=l,l=xc(lf,"onSelect"),0<l.length&&(s=new Ei("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=ya)))}function Sr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var va={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},cf={},jg={};Vn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function br(e){if(cf[e])return cf[e];if(!va[e])return e;var s=va[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in jg)return cf[e]=s[a];return e}var qg=br("animationend"),Hg=br("animationiteration"),Fg=br("animationstart"),Eb=br("transitionrun"),Ab=br("transitionstart"),Sb=br("transitioncancel"),Gg=br("transitionend"),Kg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function ei(e,s){Kg.set(e,s),gi(s,[e])}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],_a=0,ff=0;function Hu(){for(var e=_a,s=ff=_a=0;s<e;){var a=In[s];In[s++]=null;var l=In[s];In[s++]=null;var f=In[s];In[s++]=null;var d=In[s];if(In[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Yg(a,f,d)}}function Fu(e,s,a,l){In[_a++]=e,In[_a++]=s,In[_a++]=a,In[_a++]=l,ff|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function df(e,s,a,l){return Fu(e,s,a,l),Gu(e)}function Rr(e,s){return Fu(e,null,null,s),Gu(e)}function Yg(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&s!==null&&(f=31-pe(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Gu(e){if(50<gl)throw gl=0,Ad=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ta={};function bb(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,s,a,l){return new bb(e,s,a,l)}function mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,s){var a=e.alternate;return a===null?(a=En(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qg(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Ku(e,s,a,l,f,d){var _=0;if(l=e,typeof e=="function")mf(e)&&(_=1);else if(typeof e=="string")_=xR(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=En(31,a,s,f),e.elementType=D,e.lanes=d,e;case H:return wr(a.children,f,d,s);case j:_=8,f|=24;break;case X:return e=En(12,a,s,f|2),e.elementType=X,e.lanes=d,e;case at:return e=En(13,a,s,f),e.elementType=at,e.lanes=d,e;case ut:return e=En(19,a,s,f),e.elementType=ut,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:_=10;break t;case nt:_=9;break t;case ot:_=11;break t;case w:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=En(_,a,s,f),s.elementType=e,s.type=l,s.lanes=d,s}function wr(e,s,a,l){return e=En(7,e,l,s),e.lanes=a,e}function pf(e,s,a){return e=En(6,e,null,s),e.lanes=a,e}function Xg(e){var s=En(18,null,null,0);return s.stateNode=e,s}function gf(e,s,a){return s=En(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Zg=new WeakMap;function Nn(e,s){if(typeof e=="object"&&e!==null){var a=Zg.get(e);return a!==void 0?a:(s={value:e,source:s,stack:Ro(s)},Zg.set(e,s),s)}return{value:e,source:s,stack:Ro(s)}}var Ea=[],Aa=0,Yu=null,Xo=0,On=[],Pn=0,Ss=null,Ri=1,wi="";function Gi(e,s){Ea[Aa++]=Xo,Ea[Aa++]=Yu,Yu=e,Xo=s}function $g(e,s,a){On[Pn++]=Ri,On[Pn++]=wi,On[Pn++]=Ss,Ss=e;var l=Ri;e=wi;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var d=32-pe(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-pe(s)+f|a<<f|l,wi=d+e}else Ri=1<<d|a<<f|l,wi=e}function yf(e){e.return!==null&&(Gi(e,1),$g(e,1,0))}function vf(e){for(;e===Yu;)Yu=Ea[--Aa],Ea[Aa]=null,Xo=Ea[--Aa],Ea[Aa]=null;for(;e===Ss;)Ss=On[--Pn],On[Pn]=null,wi=On[--Pn],On[Pn]=null,Ri=On[--Pn],On[Pn]=null}function Jg(e,s){On[Pn++]=Ri,On[Pn++]=wi,On[Pn++]=Ss,Ri=s.id,wi=s.overflow,Ss=e}var Ge=null,ee=null,Ut=!1,bs=null,Ln=!1,_f=Error(r(519));function Rs(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Nn(s,e)),_f}function Wg(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Se]=e,s[ke]=l,a){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(a=0;a<vl.length;a++)Mt(vl[a],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),wu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),gs(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||g_(s.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),l.onScroll!=null&&Mt("scroll",s),l.onScrollEnd!=null&&Mt("scrollend",s),l.onClick!=null&&(s.onclick=Zn),s=!0):s=!1,s||Rs(e,!0)}function ty(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ge=Ge.return}}function Sa(e){if(e!==Ge)return!1;if(!Ut)return ty(e),Ut=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ud(e.type,e.memoizedProps)),a=!a),a&&ee&&Rs(e),ty(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=R_(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ee=R_(e)}else s===27?(s=ee,zs(e.type)?(e=qd,qd=null,ee=e):ee=s):ee=Ge?kn(e.stateNode.nextSibling):null;return!0}function Cr(){ee=Ge=null,Ut=!1}function Tf(){var e=bs;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),bs=null),e}function Zo(e){bs===null?bs=[e]:bs.push(e)}var Ef=O(null),Dr=null,Ki=null;function ws(e,s,a){lt(Ef,s._currentValue),s._currentValue=a}function Yi(e){e._currentValue=Ef.current,W(Ef)}function Af(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function Sf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var V=0;V<s.length;V++)if(S.context===s[V]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Af(d.return,a,e),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Af(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ba(e,s,a,l){e=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var S=f.type;Tn(f.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(f===kt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}f=f.return}e!==null&&Sf(s,e,a,l),s.flags|=262144}function Qu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Dr=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return ey(Dr,e)}function Xu(e,s){return Dr===null&&xr(e),ey(e,s)}function ey(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ki===null){if(e===null)throw Error(r(308));Ki=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Ki=Ki.next=s;return a}var Rb=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},wb=n.unstable_scheduleCallback,Cb=n.unstable_NormalPriority,we={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new Rb,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&wb(Cb,function(){e.controller.abort()})}var Jo=null,Rf=0,Ra=0,wa=null;function Db(e,s){if(Jo===null){var a=Jo=[];Rf=0,Ra=Dd(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,s.then(ny,ny),s}function ny(){if(--Rf===0&&Jo!==null){wa!==null&&(wa.status="fulfilled");var e=Jo;Jo=null,Ra=0,wa=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function xb(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var iy=Y.S;Y.S=function(e,s){Bv=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Db(e,s),iy!==null&&iy(e,s)};var Vr=O(null);function wf(){var e=Vr.current;return e!==null?e:te.pooledCache}function Zu(e,s){s===null?lt(Vr,Vr.current):lt(Vr,s.pool)}function sy(){var e=wf();return e===null?null:{parent:we._currentValue,pool:e}}var Ca=Error(r(460)),Cf=Error(r(474)),$u=Error(r(542)),Ju={then:function(){}};function ry(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ay(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Zn,Zn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,ly(e),e;default:if(typeof s.status=="string")s.then(Zn,Zn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,ly(e),e}throw Ir=s,Ca}}function Mr(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ir=a,Ca):a}}var Ir=null;function oy(){if(Ir===null)throw Error(r(459));var e=Ir;return Ir=null,e}function ly(e){if(e===Ca||e===$u)throw Error(r(483))}var Da=null,Wo=0;function Wu(e){var s=Wo;return Wo+=1,Da===null&&(Da=[]),ay(Da,e,s)}function tl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function tc(e,s){throw s.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function uy(e){function s(P,I){if(e){var z=P.deletions;z===null?(P.deletions=[I],P.flags|=16):z.push(I)}}function a(P,I){if(!e)return null;for(;I!==null;)s(P,I),I=I.sibling;return null}function l(P){for(var I=new Map;P!==null;)P.key!==null?I.set(P.key,P):I.set(P.index,P),P=P.sibling;return I}function f(P,I){return P=Fi(P,I),P.index=0,P.sibling=null,P}function d(P,I,z){return P.index=z,e?(z=P.alternate,z!==null?(z=z.index,z<I?(P.flags|=67108866,I):z):(P.flags|=67108866,I)):(P.flags|=1048576,I)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,I,z,Z){return I===null||I.tag!==6?(I=pf(z,P.mode,Z),I.return=P,I):(I=f(I,z),I.return=P,I)}function V(P,I,z,Z){var gt=z.type;return gt===H?K(P,I,z.props.children,Z,z.key):I!==null&&(I.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&Mr(gt)===I.type)?(I=f(I,z.props),tl(I,z),I.return=P,I):(I=Ku(z.type,z.key,z.props,null,P.mode,Z),tl(I,z),I.return=P,I)}function B(P,I,z,Z){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=gf(z,P.mode,Z),I.return=P,I):(I=f(I,z.children||[]),I.return=P,I)}function K(P,I,z,Z,gt){return I===null||I.tag!==7?(I=wr(z,P.mode,Z,gt),I.return=P,I):(I=f(I,z),I.return=P,I)}function $(P,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=pf(""+I,P.mode,z),I.return=P,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return z=Ku(I.type,I.key,I.props,null,P.mode,z),tl(z,I),z.return=P,z;case U:return I=gf(I,P.mode,z),I.return=P,I;case R:return I=Mr(I),$(P,I,z)}if(he(I)||L(I))return I=wr(I,P.mode,z,null),I.return=P,I;if(typeof I.then=="function")return $(P,Wu(I),z);if(I.$$typeof===Q)return $(P,Xu(P,I),z);tc(P,I)}return null}function q(P,I,z,Z){var gt=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:S(P,I,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return z.key===gt?V(P,I,z,Z):null;case U:return z.key===gt?B(P,I,z,Z):null;case R:return z=Mr(z),q(P,I,z,Z)}if(he(z)||L(z))return gt!==null?null:K(P,I,z,Z,null);if(typeof z.then=="function")return q(P,I,Wu(z),Z);if(z.$$typeof===Q)return q(P,I,Xu(P,z),Z);tc(P,z)}return null}function G(P,I,z,Z,gt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(z)||null,S(I,P,""+Z,gt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return P=P.get(Z.key===null?z:Z.key)||null,V(I,P,Z,gt);case U:return P=P.get(Z.key===null?z:Z.key)||null,B(I,P,Z,gt);case R:return Z=Mr(Z),G(P,I,z,Z,gt)}if(he(Z)||L(Z))return P=P.get(z)||null,K(I,P,Z,gt,null);if(typeof Z.then=="function")return G(P,I,z,Wu(Z),gt);if(Z.$$typeof===Q)return G(P,I,z,Xu(I,Z),gt);tc(I,Z)}return null}function dt(P,I,z,Z){for(var gt=null,jt=null,mt=I,xt=I=0,Ot=null;mt!==null&&xt<z.length;xt++){mt.index>xt?(Ot=mt,mt=null):Ot=mt.sibling;var qt=q(P,mt,z[xt],Z);if(qt===null){mt===null&&(mt=Ot);break}e&&mt&&qt.alternate===null&&s(P,mt),I=d(qt,I,xt),jt===null?gt=qt:jt.sibling=qt,jt=qt,mt=Ot}if(xt===z.length)return a(P,mt),Ut&&Gi(P,xt),gt;if(mt===null){for(;xt<z.length;xt++)mt=$(P,z[xt],Z),mt!==null&&(I=d(mt,I,xt),jt===null?gt=mt:jt.sibling=mt,jt=mt);return Ut&&Gi(P,xt),gt}for(mt=l(mt);xt<z.length;xt++)Ot=G(mt,P,xt,z[xt],Z),Ot!==null&&(e&&Ot.alternate!==null&&mt.delete(Ot.key===null?xt:Ot.key),I=d(Ot,I,xt),jt===null?gt=Ot:jt.sibling=Ot,jt=Ot);return e&&mt.forEach(function(Fs){return s(P,Fs)}),Ut&&Gi(P,xt),gt}function vt(P,I,z,Z){if(z==null)throw Error(r(151));for(var gt=null,jt=null,mt=I,xt=I=0,Ot=null,qt=z.next();mt!==null&&!qt.done;xt++,qt=z.next()){mt.index>xt?(Ot=mt,mt=null):Ot=mt.sibling;var Fs=q(P,mt,qt.value,Z);if(Fs===null){mt===null&&(mt=Ot);break}e&&mt&&Fs.alternate===null&&s(P,mt),I=d(Fs,I,xt),jt===null?gt=Fs:jt.sibling=Fs,jt=Fs,mt=Ot}if(qt.done)return a(P,mt),Ut&&Gi(P,xt),gt;if(mt===null){for(;!qt.done;xt++,qt=z.next())qt=$(P,qt.value,Z),qt!==null&&(I=d(qt,I,xt),jt===null?gt=qt:jt.sibling=qt,jt=qt);return Ut&&Gi(P,xt),gt}for(mt=l(mt);!qt.done;xt++,qt=z.next())qt=G(mt,P,xt,qt.value,Z),qt!==null&&(e&&qt.alternate!==null&&mt.delete(qt.key===null?xt:qt.key),I=d(qt,I,xt),jt===null?gt=qt:jt.sibling=qt,jt=qt);return e&&mt.forEach(function(BR){return s(P,BR)}),Ut&&Gi(P,xt),gt}function Jt(P,I,z,Z){if(typeof z=="object"&&z!==null&&z.type===H&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case C:t:{for(var gt=z.key;I!==null;){if(I.key===gt){if(gt=z.type,gt===H){if(I.tag===7){a(P,I.sibling),Z=f(I,z.props.children),Z.return=P,P=Z;break t}}else if(I.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&Mr(gt)===I.type){a(P,I.sibling),Z=f(I,z.props),tl(Z,z),Z.return=P,P=Z;break t}a(P,I);break}else s(P,I);I=I.sibling}z.type===H?(Z=wr(z.props.children,P.mode,Z,z.key),Z.return=P,P=Z):(Z=Ku(z.type,z.key,z.props,null,P.mode,Z),tl(Z,z),Z.return=P,P=Z)}return _(P);case U:t:{for(gt=z.key;I!==null;){if(I.key===gt)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(P,I.sibling),Z=f(I,z.children||[]),Z.return=P,P=Z;break t}else{a(P,I);break}else s(P,I);I=I.sibling}Z=gf(z,P.mode,Z),Z.return=P,P=Z}return _(P);case R:return z=Mr(z),Jt(P,I,z,Z)}if(he(z))return dt(P,I,z,Z);if(L(z)){if(gt=L(z),typeof gt!="function")throw Error(r(150));return z=gt.call(z),vt(P,I,z,Z)}if(typeof z.then=="function")return Jt(P,I,Wu(z),Z);if(z.$$typeof===Q)return Jt(P,I,Xu(P,z),Z);tc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(P,I.sibling),Z=f(I,z),Z.return=P,P=Z):(a(P,I),Z=pf(z,P.mode,Z),Z.return=P,P=Z),_(P)):a(P,I)}return function(P,I,z,Z){try{Wo=0;var gt=Jt(P,I,z,Z);return Da=null,gt}catch(mt){if(mt===Ca||mt===$u)throw mt;var jt=En(29,mt,null,P.mode);return jt.lanes=Z,jt.return=P,jt}finally{}}}var Nr=uy(!0),cy=uy(!1),Cs=!1;function Df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ds(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Gu(e),Yg(e,null,a),s}return Fu(e,l,s,a),Gu(e)}function el(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Do(e,a)}}function Vf(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Mf=!1;function nl(){if(Mf){var e=wa;if(e!==null)throw e}}function il(e,s,a,l){Mf=!1;var f=e.updateQueue;Cs=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var V=S,B=V.next;V.next=null,_===null?d=B:_.next=B,_=V;var K=e.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==_&&(S===null?K.firstBaseUpdate=B:S.next=B,K.lastBaseUpdate=V))}if(d!==null){var $=f.baseState;_=0,K=B=V=null,S=d;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(Nt&q)===q:(l&q)===q){q!==0&&q===Ra&&(Mf=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=e,vt=S;q=s;var Jt=a;switch(vt.tag){case 1:if(dt=vt.payload,typeof dt=="function"){$=dt.call(Jt,$,q);break t}$=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vt.payload,q=typeof dt=="function"?dt.call(Jt,$,q):dt,q==null)break t;$=E({},$,q);break t;case 2:Cs=!0}}q=S.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(B=K=G,V=$):K=K.next=G,_|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);K===null&&(V=$),f.baseState=V,f.firstBaseUpdate=B,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Os|=_,e.lanes=_,e.memoizedState=$}}function hy(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function fy(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)hy(a[e],s)}var xa=O(null),ec=O(0);function dy(e,s){e=ns,lt(ec,e),lt(xa,s),ns=e|s.baseLanes}function If(){lt(ec,ns),lt(xa,xa.current)}function Nf(){ns=ec.current,W(xa),W(ec)}var An=O(null),Un=null;function Vs(e){var s=e.alternate;lt(ye,ye.current&1),lt(An,e),Un===null&&(s===null||xa.current!==null||s.memoizedState!==null)&&(Un=e)}function Of(e){lt(ye,ye.current),lt(An,e),Un===null&&(Un=e)}function my(e){e.tag===22?(lt(ye,ye.current),lt(An,e),Un===null&&(Un=e)):Ms()}function Ms(){lt(ye,ye.current),lt(An,An.current)}function Sn(e){W(An),Un===e&&(Un=null),W(ye)}var ye=O(0);function nc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bd(a)||jd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qi=0,wt=null,Zt=null,Ce=null,ic=!1,Va=!1,Or=!1,sc=0,sl=0,Ma=null,Vb=0;function fe(){throw Error(r(321))}function Pf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Tn(e[a],s[a]))return!1;return!0}function Lf(e,s,a,l,f,d){return Qi=d,wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=e===null||e.memoizedState===null?$y:$f,Or=!1,d=a(l,f),Or=!1,Va&&(d=gy(s,a,l,f)),py(e),d}function py(e){Y.H=ol;var s=Zt!==null&&Zt.next!==null;if(Qi=0,Ce=Zt=wt=null,ic=!1,sl=0,Ma=null,s)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&Qu(e)&&(De=!0))}function gy(e,s,a,l){wt=e;var f=0;do{if(Va&&(Ma=null),sl=0,Va=!1,25<=f)throw Error(r(301));if(f+=1,Ce=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Jy,d=s(a,l)}while(Va);return d}function Mb(){var e=Y.H,s=e.useState()[0];return s=typeof s.then=="function"?rl(s):s,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(wt.flags|=1024),s}function Uf(){var e=sc!==0;return sc=0,e}function kf(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function zf(e){if(ic){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}ic=!1}Qi=0,Ce=Zt=wt=null,Va=!1,sl=sc=0,Ma=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?wt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ve(){if(Zt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var s=Ce===null?wt.memoizedState:Ce.next;if(s!==null)Ce=s,Zt=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ce===null?wt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(e){var s=sl;return sl+=1,Ma===null&&(Ma=[]),e=ay(Ma,e,s),s=wt,(Ce===null?s.memoizedState:Ce.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?$y:$f),e}function ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rl(e);if(e.$$typeof===Q)return Ke(e)}throw Error(r(438,String(e)))}function Bf(e){var s=null,a=wt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=rc(),wt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=N;return s.index++,a}function Xi(e,s){return typeof s=="function"?s(e):s}function oc(e){var s=ve();return jf(s,Zt,e)}function jf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{s=f.next;var S=_=null,V=null,B=s,K=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Nt&$)===$:(Qi&$)===$){var q=B.revertLane;if(q===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Ra&&(K=!0);else if((Qi&q)===q){B=B.next,q===Ra&&(K=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},V===null?(S=V=$,_=d):V=V.next=$,wt.lanes|=q,Os|=q;$=B.action,Or&&a(d,$),d=B.hasEagerState?B.eagerState:a(d,$)}else q={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},V===null?(S=V=q,_=d):V=V.next=q,wt.lanes|=$,Os|=$;B=B.next}while(B!==null&&B!==s);if(V===null?_=d:V.next=S,!Tn(d,e.memoizedState)&&(De=!0,K&&(a=wa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=V,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qf(e){var s=ve(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);Tn(d,s.memoizedState)||(De=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function yy(e,s,a){var l=wt,f=ve(),d=Ut;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Tn((Zt||f).memoizedState,a);if(_&&(f.memoizedState=a,De=!0),f=f.queue,Gf(Ty.bind(null,l,f,e),[e]),f.getSnapshot!==s||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},_y.bind(null,l,f,a,s),null),te===null)throw Error(r(349));d||(Qi&127)!==0||vy(l,s,a)}return a}function vy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=wt.updateQueue,s===null?(s=rc(),wt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function _y(e,s,a,l){s.value=a,s.getSnapshot=l,Ey(s)&&Ay(e)}function Ty(e,s,a){return a(function(){Ey(s)&&Ay(e)})}function Ey(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Tn(e,a)}catch{return!0}}function Ay(e){var s=Rr(e,2);s!==null&&pn(s,e,2)}function Hf(e){var s=on();if(typeof e=="function"){var a=e;if(e=a(),Or){Cn(!0);try{a()}finally{Cn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},s}function Sy(e,s,a,l){return e.baseState=a,jf(e,Zt,typeof l=="function"?l:Xi)}function Ib(e,s,a,l,f){if(cc(e))throw Error(r(485));if(e=s.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,by(s,d)):(d.next=a.next,s.pending=a.next=d)}}function by(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(f,l),V=Y.S;V!==null&&V(_,S),Ry(e,s,S)}catch(B){Ff(e,s,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(f,l),Ry(e,s,d)}catch(B){Ff(e,s,B)}}function Ry(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wy(e,s,l)},function(l){return Ff(e,s,l)}):wy(e,s,a)}function wy(e,s,a){s.status="fulfilled",s.value=a,Cy(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,by(e,a)))}function Ff(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Cy(s),s=s.next;while(s!==l)}e.action=null}function Cy(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Dy(e,s){return s}function xy(e,s){if(Ut){var a=te.formState;if(a!==null){t:{var l=wt;if(Ut){if(ee){e:{for(var f=ee,d=Ln;f.nodeType!==8;){if(!d){f=null;break e}if(f=kn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ee=kn(f.nextSibling),l=f.data==="F!";break t}}Rs(l)}l=!1}l&&(s=a[0])}}return a=on(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:s},a.queue=l,a=Qy.bind(null,wt,l),l.dispatch=a,l=Hf(!1),d=Zf.bind(null,wt,!1,l.queue),l=on(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=Ib.bind(null,wt,f,d,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function Vy(e){var s=ve();return My(s,Zt,e)}function My(e,s,a){if(s=jf(e,s,Dy)[0],e=oc(Xi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=rl(s)}catch(_){throw _===Ca?$u:_}else l=s;s=ve();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(wt.flags|=2048,Ia(9,{destroy:void 0},Nb.bind(null,f,a),null)),[l,d,e]}function Nb(e,s){e.action=s}function Iy(e){var s=ve(),a=Zt;if(a!==null)return My(s,a,e);ve(),s=s.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Ia(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=wt.updateQueue,s===null&&(s=rc(),wt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Ny(){return ve().memoizedState}function lc(e,s,a,l){var f=on();wt.flags|=e,f.memoizedState=Ia(1|s,{destroy:void 0},a,l===void 0?null:l)}function uc(e,s,a,l){var f=ve();l=l===void 0?null:l;var d=f.memoizedState.inst;Zt!==null&&l!==null&&Pf(l,Zt.memoizedState.deps)?f.memoizedState=Ia(s,d,a,l):(wt.flags|=e,f.memoizedState=Ia(1|s,d,a,l))}function Oy(e,s){lc(8390656,8,e,s)}function Gf(e,s){uc(2048,8,e,s)}function Ob(e){wt.flags|=4;var s=wt.updateQueue;if(s===null)s=rc(),wt.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function Py(e){var s=ve().memoizedState;return Ob({ref:s,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Ly(e,s){return uc(4,2,e,s)}function Uy(e,s){return uc(4,4,e,s)}function ky(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function zy(e,s,a){a=a!=null?a.concat([e]):null,uc(4,4,ky.bind(null,s,e),a)}function Kf(){}function By(e,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Pf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function jy(e,s){var a=ve();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Pf(s,l[1]))return l[0];if(l=e(),Or){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[l,s],l}function Yf(e,s,a){return a===void 0||(Qi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=qv(),wt.lanes|=e,Os|=e,a)}function qy(e,s,a,l){return Tn(a,s)?a:xa.current!==null?(e=Yf(e,a,l),Tn(e,s)||(De=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Nt&261930)===0?(De=!0,e.memoizedState=a):(e=qv(),wt.lanes|=e,Os|=e,s)}function Hy(e,s,a,l,f){var d=it.p;it.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,Zf(e,!1,s,a);try{var V=f(),B=Y.S;if(B!==null&&B(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=xb(V,l);al(e,s,K,wn(e))}else al(e,s,l,wn(e))}catch($){al(e,s,{then:function(){},status:"rejected",reason:$},wn())}finally{it.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function Pb(){}function Qf(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=Fy(e).queue;Hy(e,f,s,ft,a===null?Pb:function(){return Gy(e),a(l)})}function Fy(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Gy(e){var s=Fy(e);s.next===null&&(s=e.alternate.memoizedState),al(e,s.next.queue,{},wn())}function Xf(){return Ke(Sl)}function Ky(){return ve().memoizedState}function Yy(){return ve().memoizedState}function Lb(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=wn();e=Ds(a);var l=xs(s,e,a);l!==null&&(pn(l,s,a),el(l,s,a)),s={cache:bf()},e.payload=s;return}s=s.return}}function Ub(e,s,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cc(e)?Xy(s,a):(a=df(e,s,a,l),a!==null&&(pn(a,e,l),Zy(a,s,l)))}function Qy(e,s,a){var l=wn();al(e,s,a,l)}function al(e,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(e))Xy(s,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,Tn(S,_))return Fu(e,s,f,0),te===null&&Hu(),!1}catch{}finally{}if(a=df(e,s,f,l),a!==null)return pn(a,e,l),Zy(a,s,l),!0}return!1}function Zf(e,s,a,l){if(l={lane:2,revertLane:Dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cc(e)){if(s)throw Error(r(479))}else s=df(e,a,l,2),s!==null&&pn(s,e,2)}function cc(e){var s=e.alternate;return e===wt||s!==null&&s===wt}function Xy(e,s){Va=ic=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Zy(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Do(e,a)}}var ol={readContext:Ke,use:ac,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};ol.useEffectEvent=fe;var $y={readContext:Ke,use:ac,useCallback:function(e,s){return on().memoizedState=[e,s===void 0?null:s],e},useContext:Ke,useEffect:Oy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,lc(4194308,4,ky.bind(null,s,e),a)},useLayoutEffect:function(e,s){return lc(4194308,4,e,s)},useInsertionEffect:function(e,s){lc(4,2,e,s)},useMemo:function(e,s){var a=on();s=s===void 0?null:s;var l=e();if(Or){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=on();if(a!==void 0){var f=a(s);if(Or){Cn(!0);try{a(s)}finally{Cn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Ub.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var s=on();return e={current:e},s.memoizedState=e},useState:function(e){e=Hf(e);var s=e.queue,a=Qy.bind(null,wt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(e,s){var a=on();return Yf(a,e,s)},useTransition:function(){var e=Hf(!1);return e=Hy.bind(null,wt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=wt,f=on();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),te===null)throw Error(r(349));(Nt&127)!==0||vy(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Oy(Ty.bind(null,l,d,e),[e]),l.flags|=2048,Ia(9,{destroy:void 0},_y.bind(null,l,d,a,s),null),a},useId:function(){var e=on(),s=te.identifierPrefix;if(Ut){var a=wi,l=Ri;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=sc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Vb++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Xf,useFormState:xy,useActionState:xy,useOptimistic:function(e){var s=on();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Zf.bind(null,wt,!0,a),a.dispatch=s,[e,s]},useMemoCache:Bf,useCacheRefresh:function(){return on().memoizedState=Lb.bind(null,wt)},useEffectEvent:function(e){var s=on(),a={impl:e};return s.memoizedState=a,function(){if((Ft&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:Ke,use:ac,useCallback:By,useContext:Ke,useEffect:Gf,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:jy,useReducer:oc,useRef:Ny,useState:function(){return oc(Xi)},useDebugValue:Kf,useDeferredValue:function(e,s){var a=ve();return qy(a,Zt.memoizedState,e,s)},useTransition:function(){var e=oc(Xi)[0],s=ve().memoizedState;return[typeof e=="boolean"?e:rl(e),s]},useSyncExternalStore:yy,useId:Ky,useHostTransitionStatus:Xf,useFormState:Vy,useActionState:Vy,useOptimistic:function(e,s){var a=ve();return Sy(a,Zt,e,s)},useMemoCache:Bf,useCacheRefresh:Yy};$f.useEffectEvent=Py;var Jy={readContext:Ke,use:ac,useCallback:By,useContext:Ke,useEffect:Gf,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:jy,useReducer:qf,useRef:Ny,useState:function(){return qf(Xi)},useDebugValue:Kf,useDeferredValue:function(e,s){var a=ve();return Zt===null?Yf(a,e,s):qy(a,Zt.memoizedState,e,s)},useTransition:function(){var e=qf(Xi)[0],s=ve().memoizedState;return[typeof e=="boolean"?e:rl(e),s]},useSyncExternalStore:yy,useId:Ky,useHostTransitionStatus:Xf,useFormState:Iy,useActionState:Iy,useOptimistic:function(e,s){var a=ve();return Zt!==null?Sy(a,Zt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:Yy};Jy.useEffectEvent=Py;function Jf(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wf={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=wn(),f=Ds(l);f.payload=s,a!=null&&(f.callback=a),s=xs(e,f,l),s!==null&&(pn(s,e,l),el(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=wn(),f=Ds(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=xs(e,f,l),s!==null&&(pn(s,e,l),el(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=wn(),l=Ds(a);l.tag=2,s!=null&&(l.callback=s),s=xs(e,l,a),s!==null&&(pn(s,e,a),el(s,e,a))}};function Wy(e,s,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Yo(a,l)||!Yo(f,d):!0}function tv(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Wf.enqueueReplaceState(s,s.state,null)}function Pr(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function ev(e){qu(e)}function nv(e){console.error(e)}function iv(e){qu(e)}function hc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function sv(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function td(e,s,a){return a=Ds(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(e,s)},a}function rv(e){return e=Ds(e),e.tag=3,e}function av(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){sv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){sv(s,a,l),typeof f!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function kb(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ba(s,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Sc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ju?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Rd(e,l,f)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Rd(e,l,f)),!1}throw Error(r(435,a.tag))}return Rd(e,l,f),Sc(),!1}if(Ut)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==_f&&(e=Error(r(422),{cause:l}),Zo(Nn(e,a)))):(l!==_f&&(s=Error(r(423),{cause:l}),Zo(Nn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Nn(l,a),f=td(e.stateNode,l,f),Vf(e,f),de!==4&&(de=2)),!1;var d=Error(r(520),{cause:l});if(d=Nn(d,a),pl===null?pl=[d]:pl.push(d),de!==4&&(de=2),s===null)return!0;l=Nn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=td(a.stateNode,l,e),Vf(a,e),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ps===null||!Ps.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=rv(f),av(f,e,a,l),Vf(a,f),!1}a=a.return}while(a!==null);return!1}var ed=Error(r(461)),De=!1;function Ye(e,s,a,l){s.child=e===null?cy(s,null,a,l):Nr(s,e.child,a,l)}function ov(e,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return xr(s),l=Lf(e,s,a,_,d,f),S=Uf(),e!==null&&!De?(kf(e,s,f),Zi(e,s,f)):(Ut&&S&&yf(s),s.flags|=1,Ye(e,s,l,f),s.child)}function lv(e,s,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,uv(e,s,d,l,f)):(e=Ku(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(d=e.child,!ud(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(_,l)&&e.ref===s.ref)return Zi(e,s,f)}return s.flags|=1,e=Fi(d,l),e.ref=s.ref,e.return=s,s.child=e}function uv(e,s,a,l,f){if(e!==null){var d=e.memoizedProps;if(Yo(d,l)&&e.ref===s.ref)if(De=!1,s.pendingProps=l=d,ud(e,f))(e.flags&131072)!==0&&(De=!0);else return s.lanes=e.lanes,Zi(e,s,f)}return nd(e,s,a,l,f)}function cv(e,s,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=s.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return hv(e,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zu(s,d!==null?d.cachePool:null),d!==null?dy(s,d):If(),my(s);else return l=s.lanes=536870912,hv(e,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zu(s,d.cachePool),dy(s,d),Ms(),s.memoizedState=null):(e!==null&&Zu(s,null),If(),Ms());return Ye(e,s,f,a),s.child}function ll(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function hv(e,s,a,l,f){var d=wf();return d=d===null?null:{parent:we._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},e!==null&&Zu(s,null),If(),my(s),e!==null&&ba(e,s,l,!0),s.childLanes=f,null}function fc(e,s){return s=mc({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function fv(e,s,a){return Nr(s,e.child,null,a),e=fc(s,s.pendingProps),e.flags|=2,Sn(s),s.memoizedState=null,e}function zb(e,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=fc(s,l),s.lanes=536870912,ll(null,e);if(Of(s),(e=ee)?(e=b_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Xg(e),a.return=s,s.child=a,Ge=s,ee=null)):e=null,e===null)throw Rs(s);return s.lanes=536870912,null}return fc(s,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Of(s),f)if(s.flags&256)s.flags&=-257,s=fv(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(De||ba(e,s,a,!1),f=(a&e.childLanes)!==0,De||f){if(l=te,l!==null&&(_=xo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Rr(e,_),pn(l,e,_),ed;Sc(),s=fv(e,s,a)}else e=d.treeContext,ee=kn(_.nextSibling),Ge=s,Ut=!0,bs=null,Ln=!1,e!==null&&Jg(s,e),s=fc(s,l),s.flags|=4096;return s}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function dc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function nd(e,s,a,l,f){return xr(s),a=Lf(e,s,a,l,void 0,f),l=Uf(),e!==null&&!De?(kf(e,s,f),Zi(e,s,f)):(Ut&&l&&yf(s),s.flags|=1,Ye(e,s,a,f),s.child)}function dv(e,s,a,l,f,d){return xr(s),s.updateQueue=null,a=gy(s,l,a,f),py(e),l=Uf(),e!==null&&!De?(kf(e,s,d),Zi(e,s,d)):(Ut&&l&&yf(s),s.flags|=1,Ye(e,s,a,d),s.child)}function mv(e,s,a,l,f){if(xr(s),s.stateNode===null){var d=Ta,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ke(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Df(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ke(_):Ta,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Wf.enqueueReplaceState(d,d.state,null),il(s,l,d,f),nl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){d=s.stateNode;var S=s.memoizedProps,V=Pr(a,S);d.props=V;var B=d.context,K=a.contextType;_=Ta,typeof K=="object"&&K!==null&&(_=Ke(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&tv(s,d,l,_),Cs=!1;var q=s.memoizedState;d.state=q,il(s,l,d,f),nl(),B=s.memoizedState,S||q!==B||Cs?(typeof $=="function"&&(Jf(s,a,$,l),B=s.memoizedState),(V=Cs||Wy(s,a,V,l,q,B,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),d.props=l,d.state=B,d.context=_,l=V):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,xf(e,s),_=s.memoizedProps,K=Pr(a,_),d.props=K,$=s.pendingProps,q=d.context,B=a.contextType,V=Ta,typeof B=="object"&&B!==null&&(V=Ke(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||q!==V)&&tv(s,d,l,V),Cs=!1,q=s.memoizedState,d.state=q,il(s,l,d,f),nl();var G=s.memoizedState;_!==$||q!==G||Cs||e!==null&&e.dependencies!==null&&Qu(e.dependencies)?(typeof S=="function"&&(Jf(s,a,S,l),G=s.memoizedState),(K=Cs||Wy(s,a,K,l,q,G,V)||e!==null&&e.dependencies!==null&&Qu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,V)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=G),d.props=l,d.state=G,d.context=V,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(s.flags|=1024),l=!1)}return d=l,dc(e,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,e!==null&&l?(s.child=Nr(s,e.child,null,f),s.child=Nr(s,null,a,f)):Ye(e,s,a,f),s.memoizedState=d.state,e=s.child):e=Zi(e,s,f),e}function pv(e,s,a,l){return Cr(),s.flags|=256,Ye(e,s,a,l),s.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(e){return{baseLanes:e,cachePool:sy()}}function rd(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Rn),e}function gv(e,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ut){if(f?Vs(s):Ms(),(e=ee)?(e=b_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Xg(e),a.return=s,s.child=a,Ge=s,ee=null)):e=null,e===null)throw Rs(s);return jd(e)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Ms(),f=s.mode,S=mc({mode:"hidden",children:S},f),l=wr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=sd(a),l.childLanes=rd(e,_,a),s.memoizedState=id,ll(null,l)):(Vs(s),ad(s,S))}var V=e.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(d)s.flags&256?(Vs(s),s.flags&=-257,s=od(e,s,a)):s.memoizedState!==null?(Ms(),s.child=e.child,s.flags|=128,s=null):(Ms(),S=l.fallback,f=s.mode,l=mc({mode:"visible",children:l.children},f),S=wr(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,Nr(s,e.child,null,a),l=s.child,l.memoizedState=sd(a),l.childLanes=rd(e,_,a),s.memoizedState=id,s=ll(null,l));else if(Vs(s),jd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),s=od(e,s,a)}else if(De||ba(e,s,a,!1),_=(a&e.childLanes)!==0,De||_){if(_=te,_!==null&&(l=xo(_,a),l!==0&&l!==V.retryLane))throw V.retryLane=l,Rr(e,l),pn(_,e,l),ed;Bd(S)||Sc(),s=od(e,s,a)}else Bd(S)?(s.flags|=192,s.child=e.child,s=null):(e=V.treeContext,ee=kn(S.nextSibling),Ge=s,Ut=!0,bs=null,Ln=!1,e!==null&&Jg(s,e),s=ad(s,l.children),s.flags|=4096);return s}return f?(Ms(),S=l.fallback,f=s.mode,V=e.child,B=V.sibling,l=Fi(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,B!==null?S=Fi(B,S):(S=wr(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,ll(null,l),l=s.child,S=e.child.memoizedState,S===null?S=sd(a):(f=S.cachePool,f!==null?(V=we._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=sy(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=rd(e,_,a),s.memoizedState=id,ll(e.child,l)):(Vs(s),a=e.child,e=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function ad(e,s){return s=mc({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function mc(e,s){return e=En(22,e,null,s),e.lanes=0,e}function od(e,s,a){return Nr(s,e.child,null,a),e=ad(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function yv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Af(e.return,s,a)}function ld(e,s,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function vv(e,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ye.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,lt(ye,_),Ye(e,s,l,a),l=Ut?Xo:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yv(e,a,s);else if(e.tag===19)yv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&nc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ld(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&nc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}ld(s,!0,a,null,d,l);break;case"together":ld(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Zi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Os|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(ba(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Fi(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Fi(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function ud(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Qu(e)))}function Bb(e,s,a){switch(s.tag){case 3:Ne(s,s.stateNode.containerInfo),ws(s,we,e.memoizedState.cache),Cr();break;case 27:case 5:or(s);break;case 4:Ne(s,s.stateNode.containerInfo);break;case 10:ws(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Of(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?gv(e,s,a):(Vs(s),e=Zi(e,s,a),e!==null?e.sibling:null);Vs(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ba(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return vv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(ye,ye.current),l)break;return null;case 22:return s.lanes=0,cv(e,s,a,s.pendingProps);case 24:ws(s,we,e.memoizedState.cache)}return Zi(e,s,a)}function _v(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)De=!0;else{if(!ud(e,a)&&(s.flags&128)===0)return De=!1,Bb(e,s,a);De=(e.flags&131072)!==0}else De=!1,Ut&&(s.flags&1048576)!==0&&$g(s,Xo,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=Mr(s.elementType),s.type=e,typeof e=="function")mf(e)?(l=Pr(e,l),s.tag=1,s=mv(null,s,e,l,a)):(s.tag=0,s=nd(null,s,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ot){s.tag=11,s=ov(null,s,e,l,a);break t}else if(f===w){s.tag=14,s=lv(null,s,e,l,a);break t}}throw s=Wt(e)||e,Error(r(306,s,""))}}return s;case 0:return nd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Pr(l,s.pendingProps),mv(e,s,l,f,a);case 3:t:{if(Ne(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,xf(e,s),il(s,l,null,a);var _=s.memoizedState;if(l=_.cache,ws(s,we,l),l!==d.cache&&Sf(s,[we],a,!0),nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=pv(e,s,l,a);break t}else if(l!==f){f=Nn(Error(r(424)),s),Zo(f),s=pv(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=kn(e.firstChild),Ge=s,Ut=!0,bs=null,Ln=!0,a=cy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cr(),l===f){s=Zi(e,s,a);break t}Ye(e,s,l,a)}s=s.child}return s;case 26:return dc(e,s),e===null?(a=V_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ut||(a=s.type,e=s.pendingProps,l=Vc(Dt.current).createElement(a),l[Se]=s,l[ke]=e,Qe(l,a,e),be(l),s.stateNode=l):s.memoizedState=V_(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return or(s),e===null&&Ut&&(l=s.stateNode=C_(s.type,s.pendingProps,Dt.current),Ge=s,Ln=!0,f=ee,zs(s.type)?(qd=f,ee=kn(l.firstChild)):ee=f),Ye(e,s,s.pendingProps.children,a),dc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ut&&((f=l=ee)&&(l=gR(l,s.type,s.pendingProps,Ln),l!==null?(s.stateNode=l,Ge=s,ee=kn(l.firstChild),Ln=!1,f=!0):f=!1),f||Rs(s)),or(s),f=s.type,d=s.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Ud(f,d)?l=null:_!==null&&Ud(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Lf(e,s,Mb,null,null,a),Sl._currentValue=f),dc(e,s),Ye(e,s,l,a),s.child;case 6:return e===null&&Ut&&((e=a=ee)&&(a=yR(a,s.pendingProps,Ln),a!==null?(s.stateNode=a,Ge=s,ee=null,e=!0):e=!1),e||Rs(s)),null;case 13:return gv(e,s,a);case 4:return Ne(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Nr(s,null,l,a):Ye(e,s,l,a),s.child;case 11:return ov(e,s,s.type,s.pendingProps,a);case 7:return Ye(e,s,s.pendingProps,a),s.child;case 8:return Ye(e,s,s.pendingProps.children,a),s.child;case 12:return Ye(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ws(s,s.type,l.value),Ye(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,xr(s),f=Ke(f),l=l(f),s.flags|=1,Ye(e,s,l,a),s.child;case 14:return lv(e,s,s.type,s.pendingProps,a);case 15:return uv(e,s,s.type,s.pendingProps,a);case 19:return vv(e,s,a);case 31:return zb(e,s,a);case 22:return cv(e,s,a,s.pendingProps);case 24:return xr(s),l=Ke(we),e===null?(f=wf(),f===null&&(f=te,d=bf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Df(s),ws(s,we,f)):((e.lanes&a)!==0&&(xf(e,s),il(s,null,null,a),nl()),f=e.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ws(s,we,l)):(l=d.cache,ws(s,we,l),l!==f.cache&&Sf(s,[we],a,!0))),Ye(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $i(e){e.flags|=4}function cd(e,s,a,l,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Kv())e.flags|=8192;else throw Ir=Ju,Cf}else e.flags&=-16777217}function Tv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P_(s))if(Kv())e.flags|=8192;else throw Ir=Ju,Cf}function pc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Eu():536870912,e.lanes|=s,La|=s)}function ul(e,s){if(!Ut)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function jb(e,s,a){var l=s.pendingProps;switch(vf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(s),null;case 1:return ne(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Yi(we),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Sa(s)?$i(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tf())),ne(s),null;case 26:var f=s.type,d=s.memoizedState;return e===null?($i(s),d!==null?(ne(s),Tv(s,d)):(ne(s),cd(s,f,null,l,a))):d?d!==e.memoizedState?($i(s),ne(s),Tv(s,d)):(ne(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(s),ne(s),cd(s,f,e,l,a)),null;case 27:if(ea(s),a=Dt.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&$i(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ne(s),null}e=ht.current,Sa(s)?Wg(s):(e=C_(f,l,a),s.stateNode=e,$i(s))}return ne(s),null;case 5:if(ea(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&$i(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ne(s),null}if(d=ht.current,Sa(s))Wg(s);else{var _=Vc(Dt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Se]=s,d[ke]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Qe(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(s)}}return ne(s),cd(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&$i(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=Dt.current,Sa(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=Ge,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Se]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||g_(e.nodeValue,a)),e||Rs(s,!0)}else e=Vc(e).createTextNode(l),e[Se]=s,s.stateNode=e}return ne(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=Sa(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Se]=s}else Cr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ne(s),e=!1}else a=Tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Sn(s),s):(Sn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ne(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Sa(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Se]=s}else Cr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ne(s),f=!1}else f=Tf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Sn(s),s):(Sn(s),null)}return Sn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),pc(s,s.updateQueue),ne(s),null);case 4:return re(),e===null&&Id(s.stateNode.containerInfo),ne(s),null;case 10:return Yi(s.type),ne(s),null;case 19:if(W(ye),l=s.memoizedState,l===null)return ne(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)ul(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(d=nc(e),d!==null){for(s.flags|=128,ul(l,!1),e=d.updateQueue,s.updateQueue=e,pc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Qg(a,e),a=a.sibling;return lt(ye,ye.current&1|2),Ut&&Gi(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&rn()>Tc&&(s.flags|=128,f=!0,ul(l,!1),s.lanes=4194304)}else{if(!f)if(e=nc(d),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,pc(s,e),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ne(s),null}else 2*rn()-l.renderingStartTime>Tc&&a!==536870912&&(s.flags|=128,f=!0,ul(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(e=l.last,e!==null?e.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,a=ye.current,lt(ye,f?a&1|2:a&1),Ut&&Gi(s,l.treeForkCount),e):(ne(s),null);case 22:case 23:return Sn(s),Nf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ne(s),s.subtreeFlags&6&&(s.flags|=8192)):ne(s),a=s.updateQueue,a!==null&&pc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&W(Vr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Yi(we),ne(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function qb(e,s){switch(vf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Yi(we),re(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return ea(s),null;case 31:if(s.memoizedState!==null){if(Sn(s),s.alternate===null)throw Error(r(340));Cr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Sn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Cr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return W(ye),null;case 4:return re(),null;case 10:return Yi(s.type),null;case 22:case 23:return Sn(s),Nf(),e!==null&&W(Vr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Yi(we),null;case 25:return null;default:return null}}function Ev(e,s){switch(vf(s),s.tag){case 3:Yi(we),re();break;case 26:case 27:case 5:ea(s);break;case 4:re();break;case 31:s.memoizedState!==null&&Sn(s);break;case 13:Sn(s);break;case 19:W(ye);break;case 10:Yi(s.type);break;case 22:case 23:Sn(s),Nf(),e!==null&&W(Vr);break;case 24:Yi(we)}}function cl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Qt(s,s.return,S)}}function Is(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var V=a,B=S;try{B()}catch(K){Qt(f,V,K)}}}l=l.next}while(l!==d)}}catch(K){Qt(s,s.return,K)}}function Av(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{fy(s,a)}catch(l){Qt(e,e.return,l)}}}function Sv(e,s,a){a.props=Pr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(e,s,l)}}function hl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Qt(e,s,f)}}function Ci(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qt(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qt(e,s,f)}else a.current=null}function bv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qt(e,e.return,f)}}function hd(e,s,a){try{var l=e.stateNode;cR(l,e.type,a,s),l[ke]=s}catch(f){Qt(e,e.return,f)}}function Rv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function fd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Rv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Zn));else if(l!==4&&(l===27&&zs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(dd(e,s,a),e=e.sibling;e!==null;)dd(e,s,a),e=e.sibling}function gc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&zs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(gc(e,s,a),e=e.sibling;e!==null;)gc(e,s,a),e=e.sibling}function wv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qe(s,l,a),s[Se]=e,s[ke]=a}catch(d){Qt(e,e.return,d)}}var Ji=!1,xe=!1,md=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Hb(e,s){if(e=e.containerInfo,Pd=Uc,e=zg(e),of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,V=-1,B=0,K=0,$=e,q=null;e:for(;;){for(var G;$!==a||f!==0&&$.nodeType!==3||(S=_+f),$!==d||l!==0&&$.nodeType!==3||(V=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===e)break e;if(q===a&&++B===f&&(S=_),q===d&&++K===l&&(V=_),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:e,selectionRange:a},Uc=!1,Be=s;Be!==null;)if(s=Be,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Be=e;else for(;Be!==null;){switch(s=Be,d=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=Pr(a.type,f);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Qt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Be=e;break}Be=s.return}}function Dv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ts(e,a),l&4&&cl(5,a);break;case 1:if(ts(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){Qt(a,a.return,_)}else{var f=Pr(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Qt(a,a.return,_)}}l&64&&Av(a),l&512&&hl(a,a.return);break;case 3:if(ts(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{fy(e,s)}catch(_){Qt(a,a.return,_)}}break;case 27:s===null&&l&4&&wv(a);case 26:case 5:ts(e,a),s===null&&l&4&&bv(a),l&512&&hl(a,a.return);break;case 12:ts(e,a);break;case 31:ts(e,a),l&4&&Mv(e,a);break;case 13:ts(e,a),l&4&&Iv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Jb.bind(null,a),vR(e,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){s=s!==null&&s.memoizedState!==null||xe,f=Ji;var d=xe;Ji=l,(xe=s)&&!d?es(e,a,(a.subtreeFlags&8772)!==0):ts(e,a),Ji=f,xe=d}break;case 30:break;default:ts(e,a)}}function xv(e){var s=e.alternate;s!==null&&(e.alternate=null,xv(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&aa(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,hn=!1;function Wi(e,s,a){for(a=a.child;a!==null;)Vv(e,s,a),a=a.sibling}function Vv(e,s,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:xe||Ci(a,s),Wi(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Ci(a,s);var l=oe,f=hn;zs(a.type)&&(oe=a.stateNode,hn=!1),Wi(e,s,a),Tl(a.stateNode),oe=l,hn=f;break;case 5:xe||Ci(a,s);case 6:if(l=oe,f=hn,oe=null,Wi(e,s,a),oe=l,hn=f,oe!==null)if(hn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Qt(a,s,d)}else try{oe.removeChild(a.stateNode)}catch(d){Qt(a,s,d)}break;case 18:oe!==null&&(hn?(e=oe,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fa(e)):A_(oe,a.stateNode));break;case 4:l=oe,f=hn,oe=a.stateNode.containerInfo,hn=!0,Wi(e,s,a),oe=l,hn=f;break;case 0:case 11:case 14:case 15:Is(2,a,s),xe||Is(4,a,s),Wi(e,s,a);break;case 1:xe||(Ci(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sv(a,s,l)),Wi(e,s,a);break;case 21:Wi(e,s,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,Wi(e,s,a),xe=l;break;default:Wi(e,s,a)}}function Mv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(a){Qt(s,s.return,a)}}}function Iv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(a){Qt(s,s.return,a)}}function Fb(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Cv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Cv),s;default:throw Error(r(435,e.tag))}}function yc(e,s){var a=Fb(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=Wb.bind(null,e,l);l.then(f,f)}})}function fn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=s,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(zs(S.type)){oe=S.stateNode,hn=!1;break t}break;case 5:oe=S.stateNode,hn=!1;break t;case 3:case 4:oe=S.stateNode.containerInfo,hn=!0;break t}S=S.return}if(oe===null)throw Error(r(160));Vv(d,_,f),oe=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Nv(s,e),s=s.sibling}var ni=null;function Nv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(s,e),dn(e),l&4&&(Is(3,e,e.return),cl(3,e),Is(5,e,e.return));break;case 1:fn(s,e),dn(e),l&512&&(xe||a===null||Ci(a,a.return)),l&64&&Ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(fn(s,e),dn(e),l&512&&(xe||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[di]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qe(d,l,a),d[Se]=e,be(d),l=d;break t;case"link":var _=N_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),Qe(d,l,a),f.head.appendChild(d);break;case"meta":if(_=N_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),Qe(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Se]=e,be(d),l=d}e.stateNode=l}else O_(f,e.type,e.stateNode);else e.stateNode=I_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?O_(f,e.type,e.stateNode):I_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hd(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(s,e),dn(e),l&512&&(xe||a===null||Ci(a,a.return)),a!==null&&l&4&&hd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(s,e),dn(e),l&512&&(xe||a===null||Ci(a,a.return)),e.flags&32){f=e.stateNode;try{cn(f,"")}catch(dt){Qt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,hd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(md=!0);break;case 6:if(fn(s,e),dn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Qt(e,e.return,dt)}}break;case 3:if(Nc=null,f=ni,ni=Mc(s.containerInfo),fn(s,e),ni=f,dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(s.containerInfo)}catch(dt){Qt(e,e.return,dt)}md&&(md=!1,Ov(e));break;case 4:l=ni,ni=Mc(e.stateNode.containerInfo),fn(s,e),dn(e),ni=l;break;case 12:fn(s,e),dn(e);break;case 31:fn(s,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yc(e,l)));break;case 13:fn(s,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yc(e,l)));break;case 22:f=e.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,B=Ji,K=xe;if(Ji=B||f,xe=K||V,fn(s,e),xe=K,Ji=B,dn(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||V||Ji||xe||Lr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(d=V.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=V.stateNode;var $=V.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(dt){Qt(V,V.return,dt)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(dt){Qt(V,V.return,dt)}}}else if(s.tag===18){if(a===null){V=s;try{var G=V.stateNode;f?S_(G,!0):S_(V.stateNode,!1)}catch(dt){Qt(V,V.return,dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yc(e,a))));break;case 19:fn(s,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,yc(e,l)));break;case 30:break;case 21:break;default:fn(s,e),dn(e)}}function dn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(Rv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=fd(e);gc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var S=fd(e);gc(e,S,_);break;case 3:case 4:var V=a.stateNode.containerInfo,B=fd(e);dd(e,B,V);break;default:throw Error(r(161))}}catch(K){Qt(e,e.return,K)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Ov(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Ov(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function ts(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Dv(e,s.alternate,s),s=s.sibling}function Lr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Is(4,s,s.return),Lr(s);break;case 1:Ci(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Sv(s,s.return,a),Lr(s);break;case 27:Tl(s.stateNode);case 26:case 5:Ci(s,s.return),Lr(s);break;case 22:s.memoizedState===null&&Lr(s);break;case 30:Lr(s);break;default:Lr(s)}e=e.sibling}}function es(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:es(f,d,a),cl(4,d);break;case 1:if(es(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Qt(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)hy(V[f],S)}catch(B){Qt(l,l.return,B)}}a&&_&64&&Av(d),hl(d,d.return);break;case 27:wv(d);case 26:case 5:es(f,d,a),a&&l===null&&_&4&&bv(d),hl(d,d.return);break;case 12:es(f,d,a);break;case 31:es(f,d,a),a&&_&4&&Mv(f,d);break;case 13:es(f,d,a),a&&_&4&&Iv(f,d);break;case 22:d.memoizedState===null&&es(f,d,a),hl(d,d.return);break;case 30:break;default:es(f,d,a)}s=s.sibling}}function pd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$o(a))}function gd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&$o(e))}function ii(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Pv(e,s,a,l),s=s.sibling}function Pv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ii(e,s,a,l),f&2048&&cl(9,s);break;case 1:ii(e,s,a,l);break;case 3:ii(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&$o(e)));break;case 12:if(f&2048){ii(e,s,a,l),e=s.stateNode;try{var d=s.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(V){Qt(s,s.return,V)}}else ii(e,s,a,l);break;case 31:ii(e,s,a,l);break;case 13:ii(e,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?ii(e,s,a,l):fl(e,s):d._visibility&2?ii(e,s,a,l):(d._visibility|=2,Na(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&pd(_,s);break;case 24:ii(e,s,a,l),f&2048&&gd(s.alternate,s);break;default:ii(e,s,a,l)}}function Na(e,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=e,_=s,S=a,V=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Na(d,_,S,V,f),cl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Na(d,_,S,V,f):fl(d,_):(K._visibility|=2,Na(d,_,S,V,f)),f&&B&2048&&pd(_.alternate,_);break;case 24:Na(d,_,S,V,f),f&&B&2048&&gd(_.alternate,_);break;default:Na(d,_,S,V,f)}s=s.sibling}}function fl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:fl(a,l),f&2048&&pd(l.alternate,l);break;case 24:fl(a,l),f&2048&&gd(l.alternate,l);break;default:fl(a,l)}s=s.sibling}}var dl=8192;function Oa(e,s,a){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)Lv(e,s,a),e=e.sibling}function Lv(e,s,a){switch(e.tag){case 26:Oa(e,s,a),e.flags&dl&&e.memoizedState!==null&&VR(a,ni,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,s,a);break;case 3:case 4:var l=ni;ni=Mc(e.stateNode.containerInfo),Oa(e,s,a),ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,Oa(e,s,a),dl=l):Oa(e,s,a));break;default:Oa(e,s,a)}}function Uv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function ml(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Be=l,zv(l,e)}Uv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kv(e),e=e.sibling}function kv(e){switch(e.tag){case 0:case 11:case 15:ml(e),e.flags&2048&&Is(9,e,e.return);break;case 3:ml(e);break;case 12:ml(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,vc(e)):ml(e);break;default:ml(e)}}function vc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Be=l,zv(l,e)}Uv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Is(8,s,s.return),vc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,vc(s));break;default:vc(s)}e=e.sibling}}function zv(e,s){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Is(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=e;Be!==null;){l=Be;var f=l.sibling,d=l.return;if(xv(l),l===a){Be=null;break t}if(f!==null){f.return=d,Be=f;break t}Be=d}}}var Gb={getCacheForType:function(e){var s=Ke(we),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return Ke(we).controller.signal}},Kb=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Vt=null,Nt=0,Yt=0,bn=null,Ns=!1,Pa=!1,yd=!1,ns=0,de=0,Os=0,Ur=0,vd=0,Rn=0,La=0,pl=null,mn=null,_d=!1,_c=0,Bv=0,Tc=1/0,Ec=null,Ps=null,Pe=0,Ls=null,Ua=null,is=0,Td=0,Ed=null,jv=null,gl=0,Ad=null;function wn(){return(Ft&2)!==0&&Nt!==0?Nt&-Nt:Y.T!==null?Dd():Au()}function qv(){if(Rn===0)if((Nt&536870912)===0||Ut){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Rn=e}else Rn=536870912;return e=An.current,e!==null&&(e.flags|=32),Rn}function pn(e,s,a){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Us(e,Nt,Rn,!1)),hr(e,a),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(Ur|=a),de===4&&Us(e,Nt,Rn,!1)),Di(e))}function Hv(e,s,a){if((Ft&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Yn(e,s),f=l?Xb(e,s):bd(e,s,!0),d=l;do{if(f===0){Pa&&!l&&Us(e,s,0,!1);break}else{if(a=e.current.alternate,d&&!Yb(a)){f=bd(e,s,!1),d=!1;continue}if(f===2){if(d=s,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var S=e;f=pl;var V=S.current.memoizedState.isDehydrated;if(V&&(ka(S,_).flags|=256),_=bd(S,_,!1),_!==2){if(yd&&!V){S.errorRecoveryDisabledLanes|=d,Ur|=d,f=4;break t}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ka(e,0),Us(e,s,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Us(l,s,Rn,!Ns);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=_c+300-rn(),10<f)){if(Us(l,s,Rn,!Ns),ci(l,0,!0)!==0)break t;is=s,l.timeoutHandle=T_(Fv.bind(null,l,a,mn,Ec,_d,s,Rn,Ur,La,Ns,d,"Throttled",-0,0),f);break t}Fv(l,a,mn,Ec,_d,s,Rn,Ur,La,Ns,d,null,-0,0)}}break}while(!0);Di(e)}function Fv(e,s,a,l,f,d,_,S,V,B,K,$,q,G){if(e.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Lv(s,d,$);var dt=(d&62914560)===d?_c-rn():(d&4194048)===d?Bv-rn():0;if(dt=MR($,dt),dt!==null){is=d,e.cancelPendingCommit=dt(Jv.bind(null,e,s,d,a,l,f,_,S,V,K,$,null,q,G)),Us(e,d,_,!B);return}}Jv(e,s,d,a,l,f,_,S,V)}function Yb(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Tn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Us(e,s,a,l){s&=~vd,s&=~Ur,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var d=31-pe(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&fr(e,a,s)}function Ac(){return(Ft&6)===0?(yl(0),!1):!0}function Sd(){if(Vt!==null){if(Yt===0)var e=Vt.return;else e=Vt,Ki=Dr=null,zf(e),Da=null,Wo=0,e=Vt;for(;e!==null;)Ev(e.alternate,e),e=e.return;Vt=null}}function ka(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,dR(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),is=0,Sd(),te=e,Vt=a=Fi(e.current,null),Nt=s,Yt=0,bn=null,Ns=!1,Pa=Yn(e,s),yd=!1,La=Rn=vd=Ur=Os=de=0,mn=pl=null,_d=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-pe(l),d=1<<f;s|=e[f],l&=~d}return ns=s,Hu(),a}function Gv(e,s){wt=null,Y.H=ol,s===Ca||s===$u?(s=oy(),Yt=3):s===Cf?(s=oy(),Yt=4):Yt=s===ed?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,bn=s,Vt===null&&(de=1,hc(e,Nn(s,e.current)))}function Kv(){var e=An.current;return e===null?!0:(Nt&4194048)===Nt?Un===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Un:!1}function Yv(){var e=Y.H;return Y.H=ol,e===null?ol:e}function Qv(){var e=Y.A;return Y.A=Gb,e}function Sc(){de=4,Ns||(Nt&4194048)!==Nt&&An.current!==null||(Pa=!0),(Os&134217727)===0&&(Ur&134217727)===0||te===null||Us(te,Nt,Rn,!1)}function bd(e,s,a){var l=Ft;Ft|=2;var f=Yv(),d=Qv();(te!==e||Nt!==s)&&(Ec=null,ka(e,s)),s=!1;var _=de;t:do try{if(Yt!==0&&Vt!==null){var S=Vt,V=bn;switch(Yt){case 8:Sd(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var B=Yt;if(Yt=0,bn=null,za(e,S,V,B),a&&Pa){_=0;break t}break;default:B=Yt,Yt=0,bn=null,za(e,S,V,B)}}Qb(),_=de;break}catch(K){Gv(e,K)}while(!0);return s&&e.shellSuspendCounter++,Ki=Dr=null,Ft=l,Y.H=f,Y.A=d,Vt===null&&(te=null,Nt=0,Hu()),_}function Qb(){for(;Vt!==null;)Xv(Vt)}function Xb(e,s){var a=Ft;Ft|=2;var l=Yv(),f=Qv();te!==e||Nt!==s?(Ec=null,Tc=rn()+500,ka(e,s)):Pa=Yn(e,s);t:do try{if(Yt!==0&&Vt!==null){s=Vt;var d=bn;e:switch(Yt){case 1:Yt=0,bn=null,za(e,s,d,1);break;case 2:case 9:if(ry(d)){Yt=0,bn=null,Zv(s);break}s=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),Di(e)},d.then(s,s);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:ry(d)?(Yt=0,bn=null,Zv(s)):(Yt=0,bn=null,za(e,s,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var S=Vt;if(_?P_(_):S.stateNode.complete){Yt=0,bn=null;var V=S.sibling;if(V!==null)Vt=V;else{var B=S.return;B!==null?(Vt=B,bc(B)):Vt=null}break e}}Yt=0,bn=null,za(e,s,d,5);break;case 6:Yt=0,bn=null,za(e,s,d,6);break;case 8:Sd(),de=6;break t;default:throw Error(r(462))}}Zb();break}catch(K){Gv(e,K)}while(!0);return Ki=Dr=null,Y.H=l,Y.A=f,Ft=a,Vt!==null?0:(te=null,Nt=0,Hu(),de)}function Zb(){for(;Vt!==null&&!Wh();)Xv(Vt)}function Xv(e){var s=_v(e.alternate,e,ns);e.memoizedProps=e.pendingProps,s===null?bc(e):Vt=s}function Zv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=dv(a,s,s.pendingProps,s.type,void 0,Nt);break;case 11:s=dv(a,s,s.pendingProps,s.type.render,s.ref,Nt);break;case 5:zf(s);default:Ev(a,s),s=Vt=Qg(s,ns),s=_v(a,s,ns)}e.memoizedProps=e.pendingProps,s===null?bc(e):Vt=s}function za(e,s,a,l){Ki=Dr=null,zf(s),Da=null,Wo=0;var f=s.return;try{if(kb(e,f,s,a,Nt)){de=1,hc(e,Nn(a,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;de=1,hc(e,Nn(a,e.current)),Vt=null;return}s.flags&32768?(Ut||l===1?e=!0:Pa||(Nt&536870912)!==0?e=!1:(Ns=e=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),$v(s,e)):bc(s)}function bc(e){var s=e;do{if((s.flags&32768)!==0){$v(s,Ns);return}e=s.return;var a=jb(s.alternate,s,ns);if(a!==null){Vt=a;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=e}while(s!==null);de===0&&(de=5)}function $v(e,s){do{var a=qb(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);de=6,Vt=null}function Jv(e,s,a,l,f,d,_,S,V){e.cancelPendingCommit=null;do Rc();while(Pe!==0);if((Ft&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=ff,nf(e,a,d,_,S,V),e===te&&(Vt=te=null,Nt=0),Ua=s,Ls=e,is=a,Td=d,Ed=f,jv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tR(ds,function(){return i_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=it.p,it.p=2,_=Ft,Ft|=4;try{Hb(e,s,a)}finally{Ft=_,it.p=f,Y.T=l}}Pe=1,Wv(),t_(),e_()}}function Wv(){if(Pe===1){Pe=0;var e=Ls,s=Ua,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=it.p;it.p=2;var f=Ft;Ft|=4;try{Nv(s,e);var d=Ld,_=zg(e.containerInfo),S=d.focusedElem,V=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&kg(S.ownerDocument.documentElement,S)){if(V!==null&&of(S)){var B=V.start,K=V.end;if(K===void 0&&(K=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(K,S.value.length);else{var $=S.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),dt=S.textContent.length,vt=Math.min(V.start,dt),Jt=V.end===void 0?vt:Math.min(V.end,dt);!G.extend&&vt>Jt&&(_=Jt,Jt=vt,vt=_);var P=Ug(S,vt),I=Ug(S,Jt);if(P&&I&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var z=$.createRange();z.setStart(P.node,P.offset),G.removeAllRanges(),vt>Jt?(G.addRange(z),G.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),G.addRange(z))}}}}for($=[],G=S;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var Z=$[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Uc=!!Pd,Ld=Pd=null}finally{Ft=f,it.p=l,Y.T=a}}e.current=s,Pe=2}}function t_(){if(Pe===2){Pe=0;var e=Ls,s=Ua,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=it.p;it.p=2;var f=Ft;Ft|=4;try{Dv(e,s.alternate,s)}finally{Ft=f,it.p=l,Y.T=a}}Pe=3}}function e_(){if(Pe===4||Pe===3){Pe=0,pu();var e=Ls,s=Ua,a=is,l=jv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pe=5:(Pe=0,Ua=Ls=null,n_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ps=null),Bi(a),s=s.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Y.T,f=it.p,it.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=s,it.p=f}}(is&3)!==0&&Rc(),Di(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Ad?gl++:(gl=0,Ad=e):gl=0,yl(0)}}function n_(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,$o(s)))}function Rc(){return Wv(),t_(),e_(),i_()}function i_(){if(Pe!==5)return!1;var e=Ls,s=Td;Td=0;var a=Bi(is),l=Y.T,f=it.p;try{it.p=32>a?32:a,Y.T=null,a=Ed,Ed=null;var d=Ls,_=is;if(Pe=0,Ua=Ls=null,is=0,(Ft&6)!==0)throw Error(r(331));var S=Ft;if(Ft|=4,kv(d.current),Pv(d,d.current,_,a),Ft=S,yl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{it.p=f,Y.T=l,n_(e,s)}}function s_(e,s,a){s=Nn(a,s),s=td(e.stateNode,s,2),e=xs(e,s,2),e!==null&&(hr(e,2),Di(e))}function Qt(e,s,a){if(e.tag===3)s_(e,e,a);else for(;s!==null;){if(s.tag===3){s_(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ps===null||!Ps.has(l))){e=Nn(a,e),a=rv(2),l=xs(s,a,2),l!==null&&(av(a,l,s,e),hr(l,2),Di(l));break}}s=s.return}}function Rd(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Kb;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(yd=!0,f.add(a),e=$b.bind(null,e,s,a),s.then(e,e))}function $b(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Nt&a)===a&&(de===4||de===3&&(Nt&62914560)===Nt&&300>rn()-_c?(Ft&2)===0&&ka(e,0):vd|=a,La===Nt&&(La=0)),Di(e)}function r_(e,s){s===0&&(s=Eu()),e=Rr(e,s),e!==null&&(hr(e,s),Di(e))}function Jb(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),r_(e,a)}function Wb(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),r_(e,a)}function tR(e,s){return Oe(e,s)}var wc=null,Ba=null,wd=!1,Cc=!1,Cd=!1,ks=0;function Di(e){e!==Ba&&e.next===null&&(Ba===null?wc=Ba=e:Ba=Ba.next=e),Cc=!0,wd||(wd=!0,nR())}function yl(e,s){if(!Cd&&Cc){Cd=!0;do for(var a=!1,l=wc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pe(42|e)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,u_(l,d))}else d=Nt,d=ci(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,u_(l,d));l=l.next}while(a);Cd=!1}}function eR(){a_()}function a_(){Cc=wd=!1;var e=0;ks!==0&&fR()&&(e=ks);for(var s=rn(),a=null,l=wc;l!==null;){var f=l.next,d=o_(l,s);d===0?(l.next=null,a===null?wc=f:a.next=f,f===null&&(Ba=a)):(a=l,(e!==0||(d&3)!==0)&&(Cc=!0)),l=f}Pe!==0&&Pe!==5||yl(e),ks!==0&&(ks=0)}function o_(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pe(d),S=1<<_,V=f[_];V===-1?((S&a)===0||(S&l)!==0)&&(f[_]=ef(S,s)):V<=s&&(e.expiredLanes|=S),d&=~S}if(s=te,a=Nt,a=ci(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&fs(l),Bi(a)){case 2:case 8:a=Co;break;case 32:a=ds;break;case 268435456:a=gu;break;default:a=ds}return l=l_.bind(null,e),a=Oe(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&fs(l),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,s){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rc()&&e.callbackNode!==a)return null;var l=Nt;return l=ci(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Hv(e,l,s),o_(e,rn()),e.callbackNode!=null&&e.callbackNode===a?l_.bind(null,e):null)}function u_(e,s){if(Rc())return null;Hv(e,s,!0)}function nR(){mR(function(){(Ft&6)!==0?Oe(wo,eR):a_()})}function Dd(){if(ks===0){var e=Ra;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),ks=e}return ks}function c_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function h_(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function iR(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=c_((f[ke]||null).action),_=l.submitter;_&&(s=(s=_[ke]||null)?c_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var S=new Ei("action","action",null,l,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var V=_?h_(f,_):new FormData(f);Qf(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(S.preventDefault(),V=_?h_(f,_):new FormData(f),Qf(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var xd=0;xd<hf.length;xd++){var Vd=hf[xd],sR=Vd.toLowerCase(),rR=Vd[0].toUpperCase()+Vd.slice(1);ei(sR,"on"+rR)}ei(qg,"onAnimationEnd"),ei(Hg,"onAnimationIteration"),ei(Fg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Eb,"onTransitionRun"),ei(Ab,"onTransitionStart"),ei(Sb,"onTransitionCancel"),ei(Gg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function f_(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var S=l[_],V=S.instance,B=S.currentTarget;if(S=S.listener,V!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=B;try{d(f)}catch(K){qu(K)}f.currentTarget=null,d=V}else for(_=0;_<l.length;_++){if(S=l[_],V=S.instance,B=S.currentTarget,S=S.listener,V!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=B;try{d(f)}catch(K){qu(K)}f.currentTarget=null,d=V}}}}function Mt(e,s){var a=s[ra];a===void 0&&(a=s[ra]=new Set);var l=e+"__bubble";a.has(l)||(d_(s,e,2,!1),a.add(l))}function Md(e,s,a){var l=0;s&&(l|=4),d_(a,e,l,s)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[Dc]){e[Dc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(aR.has(a)||Md(a,!1,e),Md(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Dc]||(s[Dc]=!0,Md("selectionchange",!1,s))}}function d_(e,s,a,l){switch(q_(s)){case 2:var f=OR;break;case 8:f=PR;break;default:f=Yd}a=f.bind(null,s,a,e),f=void 0,!yr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Nd(e,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=mi(S),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){l=d=_;continue t}S=S.parentNode}}l=l.return}_s(function(){var B=d,K=xn(a),$=[];t:{var q=Kg.get(e);if(q!==void 0){var G=Ei,dt=e;switch(e){case"keypress":if(_r(a)===0)break t;case"keydown":case"keyup":G=zu;break;case"focusin":dt="focus",G=Er;break;case"focusout":dt="blur",G=Er;break;case"beforeblur":case"afterblur":G=Er;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case qg:case Hg:case Fg:G=Iu;break;case Gg:G=b;break;case"scroll":case"scrollend":G=qo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Hi;break;case"toggle":case"beforetoggle":G=Rt}var vt=(s&4)!==0,Jt=!vt&&(e==="scroll"||e==="scrollend"),P=vt?q!==null?q+"Capture":null:q;vt=[];for(var I=B,z;I!==null;){var Z=I;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||P===null||(Z=$n(I,P),Z!=null&&vt.push(_l(I,Z,z))),Jt)break;I=I.return}0<vt.length&&(q=new G(q,dt,null,a,K),$.push({event:q,listeners:vt}))}}if((s&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&a!==zo&&(dt=a.relatedTarget||a.fromElement)&&(mi(dt)||dt[fi]))break t;if((G||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,G?(dt=a.relatedTarget||a.toElement,G=B,dt=dt?mi(dt):null,dt!==null&&(Jt=u(dt),vt=dt.tag,dt!==Jt||vt!==5&&vt!==27&&vt!==6)&&(dt=null)):(G=null,dt=B),G!==dt)){if(vt=Ho,Z="onMouseLeave",P="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Hi,Z="onPointerLeave",P="onPointerEnter",I="pointer"),Jt=G==null?q:vn(G),z=dt==null?q:vn(dt),q=new vt(Z,I+"leave",G,a,K),q.target=Jt,q.relatedTarget=z,Z=null,mi(K)===B&&(vt=new vt(P,I+"enter",dt,a,K),vt.target=z,vt.relatedTarget=Jt,Z=vt),Jt=Z,G&&dt)e:{for(vt=oR,P=G,I=dt,z=0,Z=P;Z;Z=vt(Z))z++;Z=0;for(var gt=I;gt;gt=vt(gt))Z++;for(;0<z-Z;)P=vt(P),z--;for(;0<Z-z;)I=vt(I),Z--;for(;z--;){if(P===I||I!==null&&P===I.alternate){vt=P;break e}P=vt(P),I=vt(I)}vt=null}else vt=null;G!==null&&m_($,q,G,vt,!1),dt!==null&&Jt!==null&&m_($,Jt,dt,vt,!0)}}t:{if(q=B?vn(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var jt=Mg;else if(xg(q))if(Ig)jt=vb;else{jt=gb;var mt=pb}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ua(B.elementType)&&(jt=Mg):jt=yb;if(jt&&(jt=jt(e,B))){Vg($,jt,a,K);break t}mt&&mt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Lo(q,"number",q.value)}switch(mt=B?vn(B):window,e){case"focusin":(xg(mt)||mt.contentEditable==="true")&&(ya=mt,lf=B,Qo=null);break;case"focusout":Qo=lf=ya=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,Bg($,a,K);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":Bg($,a,K)}var xt;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ga?Ar(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(bi&&a.locale!=="ko"&&(ga||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ga&&(xt=jo()):(Ti=K,Bo="value"in Ti?Ti.value:Ti.textContent,ga=!0)),mt=xc(B,Ot),0<mt.length&&(Ot=new Si(Ot,e,null,a,K),$.push({event:Ot,listeners:mt}),xt?Ot.data=xt:(xt=pa(a),xt!==null&&(Ot.data=xt)))),(xt=Mn?hb(e,a):fb(e,a))&&(Ot=xc(B,"onBeforeInput"),0<Ot.length&&(mt=new Si("onBeforeInput","beforeinput",null,a,K),$.push({event:mt,listeners:Ot}),mt.data=xt)),iR($,e,B,a,K)}f_($,s)})}function _l(e,s,a){return{instance:e,listener:s,currentTarget:a}}function xc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(e,a),f!=null&&l.unshift(_l(e,f,d)),f=$n(e,s),f!=null&&l.push(_l(e,f,d))),e.tag===3)return l;e=e.return}return[]}function oR(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m_(e,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var S=a,V=S.alternate,B=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||B===null||(V=B,f?(B=$n(a,d),B!=null&&_.unshift(_l(a,B,V))):f||(B=$n(a,d),B!=null&&_.push(_l(a,B,V)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var lR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(lR,`
`).replace(uR,"")}function g_(e,s){return s=p_(s),p_(e)===s}function $t(e,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||cn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&cn(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,a,l);break;case"style":ko(e,l,d);break;case"data":if(s!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ca(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&$t(e,s,"name",f.name,f,null),$t(e,s,"formEncType",f.formEncType,f,null),$t(e,s,"formMethod",f.formMethod,f,null),$t(e,s,"formTarget",f.formTarget,f,null)):($t(e,s,"encType",f.encType,f,null),$t(e,s,"method",f.method,f,null),$t(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ca(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Zn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ca(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),oa(e,"popover",l);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,oa(e,a,l))}}function Od(e,s,a,l,f,d){switch(a){case"style":ko(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?cn(e,l):(typeof l=="number"||typeof l=="bigint")&&cn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=e[ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):oa(e,a,l)}}}function Qe(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(e,s,d,_,a,null)}}f&&$t(e,s,"srcSet",a.srcSet,a,null),l&&$t(e,s,"src",a.src,a,null);return;case"input":Mt("invalid",e);var S=d=_=f=null,V=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":_=K;break;case"checked":V=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:$t(e,s,l,K,a,null)}}wu(e,d,S,V,B,_,f,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:$t(e,s,f,S,a,null)}s=d,a=_,e.multiple=!!l,s!=null?ps(e,!!l,s,!1):a!=null&&ps(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:$t(e,s,_,S,a,null)}gs(e,l,f,d);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,s,V,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<vl.length;l++)Mt(vl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(e,s,B,l,a,null)}return;default:if(ua(s)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Od(e,s,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&$t(e,s,S,l,a,null))}function cR(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,V=null,B=null,K=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":V=$;default:l.hasOwnProperty(G)||$t(e,s,G,null,l,$)}}for(var q in l){var G=l[q];if($=a[q],l.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":K=G;break;case"value":_=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==$&&$t(e,s,q,G,l,$)}}la(e,_,S,V,B,K,d,f);return;case"select":G=_=S=q=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":G=V;default:l.hasOwnProperty(d)||$t(e,s,d,null,l,V)}for(f in l)if(d=l[f],V=a[f],l.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==V&&$t(e,s,f,d,l,V)}s=S,a=_,l=G,q!=null?ps(e,!!a,q,!1):!!l!=!!a&&(s!=null?ps(e,!!a,s,!0):ps(e,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:$t(e,s,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&$t(e,s,_,f,l,d)}Cu(e,q,G);return;case"option":for(var dt in a)if(q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:$t(e,s,dt,null,l,q)}for(V in l)if(q=l[V],G=a[V],l.hasOwnProperty(V)&&q!==G&&(q!=null||G!=null))switch(V){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(e,s,V,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)q=a[vt],a.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt)&&$t(e,s,vt,null,l,q);for(B in l)if(q=l[B],G=a[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:$t(e,s,B,q,l,G)}return;default:if(ua(s)){for(var Jt in a)q=a[Jt],a.hasOwnProperty(Jt)&&q!==void 0&&!l.hasOwnProperty(Jt)&&Od(e,s,Jt,void 0,l,q);for(K in l)q=l[K],G=a[K],!l.hasOwnProperty(K)||q===G||q===void 0&&G===void 0||Od(e,s,K,q,l,G);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&$t(e,s,P,null,l,q);for($ in l)q=l[$],G=a[$],!l.hasOwnProperty($)||q===G||q==null&&G==null||$t(e,s,$,q,l,G)}function y_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hR(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&y_(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var V=a[l],B=V.startTime;if(B>S)break;var K=V.transferSize,$=V.initiatorType;K&&y_($)&&(V=V.responseEnd,_+=K*(V<S?1:(S-B)/(V-B)))}if(--l,s+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pd=null,Ld=null;function Vc(e){return e.nodeType===9?e:e.ownerDocument}function v_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Ud(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var kd=null;function fR(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(e){return E_.resolve(null).then(e).catch(pR)}:T_;function pR(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function A_(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),Fa(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[di]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Tl(e.ownerDocument.body);a=f}while(a);Fa(s)}function S_(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function zd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function gR(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[di])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function yR(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function b_(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kn(e.nextSibling),e===null))return null;return e}function Bd(e){return e.data==="$?"||e.data==="$~"}function jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vR(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var qd=null;function R_(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return kn(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function w_(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function C_(e,s,a){switch(s=Vc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Tl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);aa(e)}var zn=new Map,D_=new Set;function Mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ss=it.d;it.d={f:_R,r:TR,D:ER,C:AR,L:SR,m:bR,X:wR,S:RR,M:CR};function _R(){var e=ss.f(),s=Ac();return e||s}function TR(e){var s=Dn(e);s!==null&&s.tag===5&&s.type==="form"?Gy(s):ss.r(e)}var ja=typeof document>"u"?null:document;function x_(e,s,a){var l=ja;if(l&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),D_.has(f)||(D_.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Qe(s,"link",e),be(s),l.head.appendChild(s)))}}function ER(e){ss.D(e),x_("dns-prefetch",e,null)}function AR(e,s){ss.C(e,s),x_("preconnect",e,s)}function SR(e,s,a){ss.L(e,s,a);var l=ja;if(l&&e&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(e)+'"]';var d=f;switch(s){case"style":d=qa(e);break;case"script":d=Ha(e)}zn.has(d)||(e=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),zn.set(d,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(El(d))||s==="script"&&l.querySelector(Al(d))||(s=l.createElement("link"),Qe(s,"link",e),be(s),l.head.appendChild(s)))}}function bR(e,s){ss.m(e,s);var a=ja;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(e)}if(!zn.has(d)&&(e=E({rel:"modulepreload",href:e},s),zn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),Qe(l,"link",e),be(l),a.head.appendChild(l)}}}function RR(e,s,a){ss.S(e,s,a);var l=ja;if(l&&e){var f=pi(l).hoistableStyles,d=qa(e);s=s||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(El(d)))S.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":s},a),(a=zn.get(d))&&Hd(e,a);var V=_=l.createElement("link");be(V),Qe(V,"link",e),V._p=new Promise(function(B,K){V.onload=B,V.onerror=K}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ic(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function wR(e,s){ss.X(e,s);var a=ja;if(a&&e){var l=pi(a).hoistableScripts,f=Ha(e),d=l.get(f);d||(d=a.querySelector(Al(f)),d||(e=E({src:e,async:!0},s),(s=zn.get(f))&&Fd(e,s),d=a.createElement("script"),be(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function CR(e,s){ss.M(e,s);var a=ja;if(a&&e){var l=pi(a).hoistableScripts,f=Ha(e),d=l.get(f);d||(d=a.querySelector(Al(f)),d||(e=E({src:e,async:!0,type:"module"},s),(s=zn.get(f))&&Fd(e,s),d=a.createElement("script"),be(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function V_(e,s,a,l){var f=(f=Dt.current)?Mc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=qa(a.href),a=pi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var d=pi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(El(e)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),d||DR(f,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ha(a),a=pi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function qa(e){return'href="'+un(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function DR(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Qe(s,"link",a),be(s),e.head.appendChild(s))}function Ha(e){return'[src="'+un(e)+'"]'}function Al(e){return"script[async]"+e}function I_(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return s.instance=l,be(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),be(l),Qe(l,"style",f),Ic(l,a.precedence,e),s.instance=l;case"stylesheet":f=qa(a.href);var d=e.querySelector(El(f));if(d)return s.state.loading|=4,s.instance=d,be(d),d;l=M_(a),(f=zn.get(f))&&Hd(l,f),d=(e.ownerDocument||e).createElement("link"),be(d);var _=d;return _._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),Qe(d,"link",l),s.state.loading|=4,Ic(d,a.precedence,e),s.instance=d;case"script":return d=Ha(a.src),(f=e.querySelector(Al(d)))?(s.instance=f,be(f),f):(l=a,(f=zn.get(d))&&(l=E({},a),Fd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),be(f),Qe(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ic(l,a.precedence,e));return s.instance}function Ic(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Hd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Fd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Nc=null;function N_(e,s,a){if(Nc===null){var l=new Map,f=Nc=new Map;f.set(a,l)}else f=Nc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[di]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function O_(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function xR(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function P_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function VR(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=qa(l.href),d=s.querySelector(El(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Oc.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=d,be(d);return}d=s.ownerDocument||s,l=M_(l),(f=zn.get(f))&&Hd(l,f),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),Qe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Oc.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var Gd=0;function MR(e,s){return e.stylesheets&&e.count===0&&Lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Lc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+s);0<e.imgBytes&&Gd===0&&(Gd=62500*hR());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Lc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Gd?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pc=null;function Lc(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pc=new Map,s.forEach(IR,e),Pc=null,Oc.call(e))}function IR(e,s){if(!(s.state.loading&4)){var a=Pc.get(e);if(a)var l=a.get(null);else{a=new Map,Pc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Oc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Sl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function NR(e,s,a,l,f,d,_,S,V){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function L_(e,s,a,l,f,d,_,S,V,B,K,$){return e=new NR(e,s,a,_,V,B,K,$,S),s=1,d===!0&&(s|=24),d=En(3,null,null,s),e.current=d,d.stateNode=e,s=bf(),s.refCount++,e.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Df(d),e}function U_(e){return e?(e=Ta,e):Ta}function k_(e,s,a,l,f,d){f=U_(f),l.context===null?l.context=f:l.pendingContext=f,l=Ds(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xs(e,l,s),a!==null&&(pn(a,e,s),el(a,e,s))}function z_(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Kd(e,s){z_(e,s),(e=e.alternate)&&z_(e,s)}function B_(e){if(e.tag===13||e.tag===31){var s=Rr(e,67108864);s!==null&&pn(s,e,67108864),Kd(e,67108864)}}function j_(e){if(e.tag===13||e.tag===31){var s=wn();s=dr(s);var a=Rr(e,s);a!==null&&pn(a,e,s),Kd(e,s)}}var Uc=!0;function OR(e,s,a,l){var f=Y.T;Y.T=null;var d=it.p;try{it.p=2,Yd(e,s,a,l)}finally{it.p=d,Y.T=f}}function PR(e,s,a,l){var f=Y.T;Y.T=null;var d=it.p;try{it.p=8,Yd(e,s,a,l)}finally{it.p=d,Y.T=f}}function Yd(e,s,a,l){if(Uc){var f=Qd(l);if(f===null)Nd(e,s,l,kc,a),H_(e,l);else if(UR(f,e,s,a,l))l.stopPropagation();else if(H_(e,l),s&4&&-1<LR.indexOf(e)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var V=1<<31-pe(_);S.entanglements[1]|=V,_&=~V}Di(d),(Ft&6)===0&&(Tc=rn()+500,yl(0))}}break;case 31:case 13:S=Rr(d,2),S!==null&&pn(S,d,2),Ac(),Kd(d,2)}if(d=Qd(l),d===null&&Nd(e,s,l,kc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Nd(e,s,l,null,a)}}function Qd(e){return e=xn(e),Xd(e)}var kc=null;function Xd(e){if(kc=null,e=mi(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=m(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return kc=e,null}function q_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case wo:return 2;case Co:return 8;case ds:case tf:return 32;case gu:return 268435456;default:return 32}default:return 32}}var Zd=!1,Bs=null,js=null,qs=null,bl=new Map,Rl=new Map,Hs=[],LR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(e,s){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":bl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(s.pointerId)}}function wl(e,s,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Dn(s),s!==null&&B_(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function UR(e,s,a,l,f){switch(s){case"focusin":return Bs=wl(Bs,e,s,a,l,f),!0;case"dragenter":return js=wl(js,e,s,a,l,f),!0;case"mouseover":return qs=wl(qs,e,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return bl.set(d,wl(bl.get(d)||null,e,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Rl.set(d,wl(Rl.get(d)||null,e,s,a,l,f)),!0}return!1}function F_(e){var s=mi(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,Qn(e.priority,function(){j_(a)});return}}else if(s===31){if(s=m(a),s!==null){e.blockedOn=s,Qn(e.priority,function(){j_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);zo=l,a.target.dispatchEvent(l),zo=null}else return s=Dn(a),s!==null&&B_(s),e.blockedOn=a,!1;s.shift()}return!0}function G_(e,s,a){zc(e)&&a.delete(s)}function kR(){Zd=!1,Bs!==null&&zc(Bs)&&(Bs=null),js!==null&&zc(js)&&(js=null),qs!==null&&zc(qs)&&(qs=null),bl.forEach(G_),Rl.forEach(G_)}function Bc(e,s){e.blockedOn===s&&(e.blockedOn=null,Zd||(Zd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kR)))}var jc=null;function K_(e){jc!==e&&(jc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jc===e&&(jc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Xd(l||a)===null)continue;break}var d=Dn(a);d!==null&&(e.splice(s,3),s-=3,Qf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Fa(e){function s(V){return Bc(V,e)}Bs!==null&&Bc(Bs,e),js!==null&&Bc(js,e),qs!==null&&Bc(qs,e),bl.forEach(s),Rl.forEach(s);for(var a=0;a<Hs.length;a++){var l=Hs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)F_(a),a.blockedOn===null&&Hs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ke]||null;if(typeof d=="function")_||K_(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ke]||null)S=_.formAction;else if(Xd(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),K_(a)}}}function Y_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function $d(e){this._internalRoot=e}qc.prototype.render=$d.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=wn();k_(a,l,e,s,null,null)},qc.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;k_(e.current,2,null,e,null,null),Ac(),s[fi]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Au();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Hs.length&&s!==0&&s<Hs[a].priority;a++);Hs.splice(a,0,e),a===0&&F_(e)}};var Q_=t.version;if(Q_!=="19.2.0")throw Error(r(527,Q_,"19.2.0"));it.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var zR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Kn=Hc.inject(zR),He=Hc}catch{}}return Dl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=ev,d=nv,_=iv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=L_(e,1,!1,null,null,a,l,null,f,d,_,Y_),e[fi]=s.current,Id(e),new $d(s)},Dl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=ev,_=nv,S=iv,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),s=L_(e,1,!0,s,a??null,l,f,V,d,_,S,Y_),s.context=U_(null),a=s.current,l=wn(),l=dr(l),f=Ds(l),f.callback=null,xs(a,f,l),a=l,s.current.lanes=a,hr(s,a),Di(s),e[fi]=s.current,Id(e),new qc(s)},Dl.version="19.2.0",Dl}var s0;function XR(){if(s0)return tm.exports;s0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),tm.exports=QR(),tm.exports}var ZR=XR();const vp=st.createContext({});function _p(n){const t=st.useRef(null);return t.current===null&&(t.current=n()),t.current}const Tp=typeof window<"u",ME=Tp?st.useLayoutEffect:st.useEffect,Ih=st.createContext(null);function Ep(n,t){n.indexOf(t)===-1&&n.push(t)}function Ap(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const os=(n,t,i)=>i>t?t:i<n?n:i;let Sp=()=>{};const ls={},IE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function NE(n){return typeof n=="object"&&n!==null}const OE=n=>/^0[^.\s]+$/u.test(n);function bp(n){let t;return()=>(t===void 0&&(t=n()),t)}const Gn=n=>n,$R=(n,t)=>i=>t(n(i)),au=(...n)=>n.reduce($R),Gl=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Rp{constructor(){this.subscriptions=[]}add(t){return Ep(this.subscriptions,t),()=>Ap(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vi=n=>n*1e3,Fn=n=>n/1e3;function PE(n,t){return t?n*(1e3/t):0}const LE=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,JR=1e-7,WR=12;function tw(n,t,i,r,o){let u,c,m=0;do c=t+(i-t)/2,u=LE(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>JR&&++m<WR);return c}function ou(n,t,i,r){if(n===t&&i===r)return Gn;const o=u=>tw(u,0,1,n,i);return u=>u===0||u===1?u:LE(o(u),t,r)}const UE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,kE=n=>t=>1-n(1-t),zE=ou(.33,1.53,.69,.99),wp=kE(zE),BE=UE(wp),jE=n=>(n*=2)<1?.5*wp(n):.5*(2-Math.pow(2,-10*(n-1))),Cp=n=>1-Math.sin(Math.acos(n)),qE=kE(Cp),HE=UE(Cp),ew=ou(.42,0,1,1),nw=ou(0,0,.58,1),FE=ou(.42,0,.58,1),iw=n=>Array.isArray(n)&&typeof n[0]!="number",GE=n=>Array.isArray(n)&&typeof n[0]=="number",sw={linear:Gn,easeIn:ew,easeInOut:FE,easeOut:nw,circIn:Cp,circInOut:HE,circOut:qE,backIn:wp,backInOut:BE,backOut:zE,anticipate:jE},rw=n=>typeof n=="string",r0=n=>{if(GE(n)){Sp(n.length===4);const[t,i,r,o]=n;return ou(t,i,r,o)}else if(rw(n))return sw[n];return n},Fc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aw(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(m)}const g={schedule:(v,E=!1,A=!1)=>{const U=A&&o?i:r;return E&&c.add(v),U.has(v)||U.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const ow=40;function KE(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Fc.reduce((Q,ot)=>(Q[ot]=aw(u),Q),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:A,render:C,postRender:U}=c,H=()=>{const Q=ls.useManualTiming?o.timestamp:performance.now();i=!1,ls.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,ow),1)),o.timestamp=Q,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),E.process(o),A.process(o),C.process(o),U.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(H))},j=()=>{i=!0,r=!0,o.isProcessing||n(H)};return{schedule:Fc.reduce((Q,ot)=>{const at=c[ot];return Q[ot]=(ut,w=!1,R=!1)=>(i||j(),at.schedule(ut,w,R)),Q},{}),cancel:Q=>{for(let ot=0;ot<Fc.length;ot++)c[Fc[ot]].cancel(Q)},state:o,steps:c}}const{schedule:le,cancel:Js,state:Xe,steps:sm}=KE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let th;function lw(){th=void 0}const yn={now:()=>(th===void 0&&yn.set(Xe.isProcessing||ls.useManualTiming?Xe.timestamp:performance.now()),th),set:n=>{th=n,queueMicrotask(lw)}},YE=n=>t=>typeof t=="string"&&t.startsWith(n),Dp=YE("--"),uw=YE("var(--"),xp=n=>uw(n)?cw.test(n.split("/*")[0].trim()):!1,cw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,go={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Kl={...go,transform:n=>os(0,1,n)},Gc={...go,default:1},Pl=n=>Math.round(n*1e5)/1e5,Vp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hw(n){return n==null}const fw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mp=(n,t)=>i=>!!(typeof i=="string"&&fw.test(i)&&i.startsWith(n)||t&&!hw(i)&&Object.prototype.hasOwnProperty.call(i,t)),QE=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Vp);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},dw=n=>os(0,255,n),rm={...go,transform:n=>Math.round(dw(n))},qr={test:Mp("rgb","red"),parse:QE("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+rm.transform(n)+", "+rm.transform(t)+", "+rm.transform(i)+", "+Pl(Kl.transform(r))+")"};function mw(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const xm={test:Mp("#"),parse:mw,transform:qr.transform},lu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Gs=lu("deg"),Mi=lu("%"),Tt=lu("px"),pw=lu("vh"),gw=lu("vw"),a0={...Mi,parse:n=>Mi.parse(n)/100,transform:n=>Mi.transform(n*100)},Xa={test:Mp("hsl","hue"),parse:QE("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+Mi.transform(Pl(t))+", "+Mi.transform(Pl(i))+", "+Pl(Kl.transform(r))+")"},Me={test:n=>qr.test(n)||xm.test(n)||Xa.test(n),parse:n=>qr.test(n)?qr.parse(n):Xa.test(n)?Xa.parse(n):xm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?qr.transform(n):Xa.transform(n),getAnimatableNone:n=>{const t=Me.parse(n);return t.alpha=0,Me.transform(t)}},yw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vw(n){return isNaN(n)&&typeof n=="string"&&(n.match(Vp)?.length||0)+(n.match(yw)?.length||0)>0}const XE="number",ZE="color",_w="var",Tw="var(",o0="${}",Ew=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yl(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(Ew,p=>(Me.test(p)?(r.color.push(u),o.push(ZE),i.push(Me.parse(p))):p.startsWith(Tw)?(r.var.push(u),o.push(_w),i.push(p)):(r.number.push(u),o.push(XE),i.push(parseFloat(p))),++u,o0)).split(o0);return{values:i,split:m,indexes:r,types:o}}function $E(n){return Yl(n).values}function JE(n){const{split:t,types:i}=Yl(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=i[c];m===XE?u+=Pl(o[c]):m===ZE?u+=Me.transform(o[c]):u+=o[c]}return u}}const Aw=n=>typeof n=="number"?0:Me.test(n)?Me.getAnimatableNone(n):n;function Sw(n){const t=$E(n);return JE(n)(t.map(Aw))}const Ws={test:vw,parse:$E,createTransformer:JE,getAnimatableNone:Sw};function am(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function bw({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const m=i<.5?i*(1+t):i+t-i*t,p=2*i-m;o=am(p,m,n+1/3),u=am(p,m,n),c=am(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function ch(n,t){return i=>i>0?t:n}const ue=(n,t,i)=>n+(t-n)*i,om=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Rw=[xm,qr,Xa],ww=n=>Rw.find(t=>t.test(n));function l0(n){const t=ww(n);if(!t)return!1;let i=t.parse(n);return t===Xa&&(i=bw(i)),i}const u0=(n,t)=>{const i=l0(n),r=l0(t);if(!i||!r)return ch(n,t);const o={...i};return u=>(o.red=om(i.red,r.red,u),o.green=om(i.green,r.green,u),o.blue=om(i.blue,r.blue,u),o.alpha=ue(i.alpha,r.alpha,u),qr.transform(o))},Vm=new Set(["none","hidden"]);function Cw(n,t){return Vm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function Dw(n,t){return i=>ue(n,t,i)}function Ip(n){return typeof n=="number"?Dw:typeof n=="string"?xp(n)?ch:Me.test(n)?u0:Mw:Array.isArray(n)?WE:typeof n=="object"?Me.test(n)?u0:xw:ch}function WE(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>Ip(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function xw(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=Ip(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function Vw(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;i[o]=m,r[u]++}return i}const Mw=(n,t)=>{const i=Ws.createTransformer(t),r=Yl(n),o=Yl(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Vm.has(n)&&!o.values.length||Vm.has(t)&&!r.values.length?Cw(n,t):au(WE(Vw(r,o),o.values),i):ch(n,t)};function t1(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?ue(n,t,i):Ip(n)(n,t)}const Iw=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>le.update(t,i),stop:()=>Js(t),now:()=>Xe.isProcessing?Xe.timestamp:yn.now()}},e1=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},hh=2e4;function Np(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<hh;)t+=i,r=n.next(t);return t>=hh?1/0:t}function Nw(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(Np(r),hh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Fn(o)}}const Ow=5;function n1(n,t,i){const r=Math.max(t-Ow,0);return PE(i-n(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lm=.001;function Pw({duration:n=me.duration,bounce:t=me.bounce,velocity:i=me.velocity,mass:r=me.mass}){let o,u,c=1-t;c=os(me.minDamping,me.maxDamping,c),n=os(me.minDuration,me.maxDuration,Fn(n)),c<1?(o=g=>{const v=g*c,E=v*n,A=v-i,C=Mm(g,c),U=Math.exp(-E);return lm-A/C*U},u=g=>{const E=g*c*n,A=E*i+i,C=Math.pow(c,2)*Math.pow(g,2)*n,U=Math.exp(-E),H=Mm(Math.pow(g,2),c);return(-o(g)+lm>0?-1:1)*((A-C)*U)/H}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-lm+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const m=5/n,p=Uw(o,u,m);if(n=Vi(n),isNaN(p))return{stiffness:me.stiffness,damping:me.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const Lw=12;function Uw(n,t,i){let r=i;for(let o=1;o<Lw;o++)r=r-n(r)/t(r);return r}function Mm(n,t){return n*Math.sqrt(1-t*t)}const kw=["duration","bounce"],zw=["stiffness","damping","mass"];function c0(n,t){return t.some(i=>n[i]!==void 0)}function Bw(n){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...n};if(!c0(n,zw)&&c0(n,kw))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*os(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:me.mass,stiffness:o,damping:u}}else{const i=Pw(n);t={...t,...i,mass:me.mass},t.isResolvedFromDuration=!0}return t}function fh(n=me.visualDuration,t=me.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:C}=Bw({...i,velocity:-Fn(i.velocity||0)}),U=A||0,H=g/(2*Math.sqrt(p*v)),j=c-u,X=Fn(Math.sqrt(p/v)),nt=Math.abs(j)<5;r||(r=nt?me.restSpeed.granular:me.restSpeed.default),o||(o=nt?me.restDelta.granular:me.restDelta.default);let Q;if(H<1){const at=Mm(X,H);Q=ut=>{const w=Math.exp(-H*X*ut);return c-w*((U+H*X*j)/at*Math.sin(at*ut)+j*Math.cos(at*ut))}}else if(H===1)Q=at=>c-Math.exp(-X*at)*(j+(U+X*j)*at);else{const at=X*Math.sqrt(H*H-1);Q=ut=>{const w=Math.exp(-H*X*ut),R=Math.min(at*ut,300);return c-w*((U+H*X*j)*Math.sinh(R)+at*j*Math.cosh(R))/at}}const ot={calculatedDuration:C&&E||null,next:at=>{const ut=Q(at);if(C)m.done=at>=E;else{let w=at===0?U:0;H<1&&(w=at===0?Vi(U):n1(Q,at,ut));const R=Math.abs(w)<=r,D=Math.abs(c-ut)<=o;m.done=R&&D}return m.value=m.done?c:ut,m},toString:()=>{const at=Math.min(Np(ot),hh),ut=e1(w=>ot.next(at*w).value,at,30);return at+"ms "+ut},toTransition:()=>{}};return ot}fh.applyToOptions=n=>{const t=Nw(n,100,fh);return n.ease=t.ease,n.duration=Vi(t.duration),n.type="keyframes",n};function Im({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],A={done:!1,value:E},C=R=>m!==void 0&&R<m||p!==void 0&&R>p,U=R=>m===void 0?p:p===void 0||Math.abs(m-R)<Math.abs(p-R)?m:p;let H=i*t;const j=E+H,X=c===void 0?j:c(j);X!==j&&(H=X-E);const nt=R=>-H*Math.exp(-R/r),Q=R=>X+nt(R),ot=R=>{const D=nt(R),N=Q(R);A.done=Math.abs(D)<=g,A.value=A.done?X:N};let at,ut;const w=R=>{C(A.value)&&(at=R,ut=fh({keyframes:[A.value,U(A.value)],velocity:n1(Q,R,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return w(0),{calculatedDuration:null,next:R=>{let D=!1;return!ut&&at===void 0&&(D=!0,ot(R),w(R)),at!==void 0&&R>=at?ut.next(R-at):(!D&&ot(R),A)}}}function jw(n,t,i){const r=[],o=i||ls.mix||t1,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Gn:t;m=au(p,m)}r.push(m)}return r}function qw(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(Sp(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=jw(t,r,o),p=m.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const A=Gl(n[E],n[E+1],v);return m[E](A)};return i?v=>g(os(n[0],n[u-1],v)):g}function Hw(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Gl(0,t,r);n.push(ue(i,1,o))}}function Fw(n){const t=[0];return Hw(t,n.length-1),t}function Gw(n,t){return n.map(i=>i*t)}function Kw(n,t){return n.map(()=>t||FE).splice(0,n.length-1)}function Ll({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=iw(r)?r.map(r0):r0(r),u={done:!1,value:t[0]},c=Gw(i&&i.length===t.length?i:Fw(t),n),m=qw(c,t,{ease:Array.isArray(o)?o:Kw(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const Yw=n=>n!==null;function Op(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(Yw),m=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const Qw={decay:Im,inertia:Im,tween:Ll,keyframes:Ll,spring:fh};function i1(n){typeof n.type=="string"&&(n.type=Qw[n.type])}class Pp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const Xw=n=>n/100;class Lp extends Pp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;i1(t);const{type:i=Ll,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=i||Ll;p!==Ll&&typeof m[0]!="number"&&(this.mixKeyframes=au(Xw,t1(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Np(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:A,repeatDelay:C,type:U,onUpdate:H,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const X=this.currentTime-g*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?X<0:X>o;this.currentTime=Math.max(X,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,ot=r;if(E){const R=Math.min(this.currentTime,o)/m;let D=Math.floor(R),N=R%1;!N&&R>=1&&(N=1),N===1&&D--,D=Math.min(D,E+1),!!(D%2)&&(A==="reverse"?(N=1-N,C&&(N-=C/m)):A==="mirror"&&(ot=c)),Q=os(0,1,N)*m}const at=nt?{done:!1,value:v[0]}:ot.next(Q);u&&(at.value=u(at.value));let{done:ut}=at;!nt&&p!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return w&&U!==Im&&(at.value=Op(v,this.options,j,this.speed)),H&&H(at.value),w&&this.finish(),at}then(t,i){return this.finished.then(t,i)}get duration(){return Fn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fn(t)}get time(){return Fn(this.currentTime)}set time(t){t=Vi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Fn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Iw,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Zw(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Hr=n=>n*180/Math.PI,Nm=n=>{const t=Hr(Math.atan2(n[1],n[0]));return Om(t)},$w={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Nm,rotateZ:Nm,skewX:n=>Hr(Math.atan(n[1])),skewY:n=>Hr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Om=n=>(n=n%360,n<0&&(n+=360),n),h0=Nm,f0=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),d0=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Jw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f0,scaleY:d0,scale:n=>(f0(n)+d0(n))/2,rotateX:n=>Om(Hr(Math.atan2(n[6],n[5]))),rotateY:n=>Om(Hr(Math.atan2(-n[2],n[0]))),rotateZ:h0,rotate:h0,skewX:n=>Hr(Math.atan(n[4])),skewY:n=>Hr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Pm(n){return n.includes("scale")?1:0}function Lm(n,t){if(!n||n==="none")return Pm(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=Jw,o=i;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$w,o=m}if(!o)return Pm(t);const u=r[t],c=o[1].split(",").map(t2);return typeof u=="function"?u(c):c[u]}const Ww=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return Lm(i,t)};function t2(n){return parseFloat(n.trim())}const yo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vo=new Set(yo),m0=n=>n===go||n===Tt,e2=new Set(["x","y","z"]),n2=yo.filter(n=>!e2.has(n));function i2(n){const t=[];return n2.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Gr={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Lm(t,"x"),y:(n,{transform:t})=>Lm(t,"y")};Gr.translateX=Gr.x;Gr.translateY=Gr.y;const Kr=new Set;let Um=!1,km=!1,zm=!1;function s1(){if(km){const n=Array.from(Kr).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=i2(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}km=!1,Um=!1,Kr.forEach(n=>n.complete(zm)),Kr.clear()}function r1(){Kr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(km=!0)})}function s2(){zm=!0,r1(),s1(),zm=!1}class Up{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Kr.add(this),Um||(Um=!0,le.read(r1),le.resolveKeyframes(s1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const m=r.readValue(i,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}Zw(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Kr.delete(this)}cancel(){this.state==="scheduled"&&(Kr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r2=n=>n.startsWith("--");function a2(n,t,i){r2(t)?n.style.setProperty(t,i):n.style[t]=i}const o2=bp(()=>window.ScrollTimeline!==void 0),l2={};function u2(n,t){const i=bp(n);return()=>l2[t]??i()}const a1=u2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,p0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vl([0,.65,.55,1]),circOut:Vl([.55,0,1,.45]),backIn:Vl([.31,.01,.66,-.59]),backOut:Vl([.33,1.53,.69,.99])};function o1(n,t){if(n)return typeof n=="function"?a1()?e1(n,t):"ease-out":GE(n)?Vl(n):Array.isArray(n)?n.map(i=>o1(i,t)||p0.easeOut):p0[n]}function c2(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=o1(m,o);Array.isArray(E)&&(v.easing=E);const A={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),n.animate(v,A)}function l1(n){return typeof n=="function"&&"applyToOptions"in n}function h2({type:n,...t}){return l1(n)&&a1()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class f2 extends Pp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Sp(typeof t.type!="string");const g=h2(t);this.animation=c2(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Op(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):a2(i,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Fn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Fn(t)}get time(){return Fn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&o2()?(this.animation.timeline=t,Gn):i(this)}}const u1={anticipate:jE,backInOut:BE,circInOut:HE};function d2(n){return n in u1}function m2(n){typeof n.ease=="string"&&d2(n.ease)&&(n.ease=u1[n.ease])}const g0=10;class p2 extends f2{constructor(t){m2(t),i1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const m=new Lp({...c,autoplay:!1}),p=Vi(this.finishedTime??this.time);i.setWithVelocity(m.sample(p-g0).value,m.sample(p).value,g0),m.stop()}}const y0=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ws.test(n)||n==="0")&&!n.startsWith("url("));function g2(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function y2(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=y0(o,t),m=y0(u,t);return!c||!m?!1:g2(n)||(i==="spring"||l1(i))&&r}function Bm(n){n.duration=0,n.type="keyframes"}const v2=new Set(["opacity","clipPath","filter","transform"]),_2=bp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T2(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return _2()&&i&&v2.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const E2=40;class A2 extends Pp{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const A={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},C=v?.KeyframeResolver||Up;this.keyframeResolver=new C(m,(U,H,j)=>this.onKeyframesResolved(U,H,A,!j),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=yn.now(),y2(t,u,c,m)||((ls.instantAnimations||!p)&&v?.(Op(t,r,i)),t[0]=t[t.length-1],Bm(r),r.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>E2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},C=!g&&T2(A)?new p2({...A,element:A.motionValue.owner.current}):new Lp(A);C.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),s2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const S2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b2(n){const t=S2.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function c1(n,t,i=1){const[r,o]=b2(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return IE(c)?parseFloat(c):c}return xp(o)?c1(o,t,i+1):o}function kp(n,t){return n?.[t]??n?.default??n}const h1=new Set(["width","height","top","left","right","bottom",...yo]),R2={test:n=>n==="auto",parse:n=>n},f1=n=>t=>t.test(n),d1=[go,Tt,Mi,Gs,gw,pw,R2],v0=n=>d1.find(f1(n));function w2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||OE(n):!0}const C2=new Set(["brightness","contrast","saturate","opacity"]);function D2(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(Vp)||[];if(!r)return n;const o=i.replace(r,"");let u=C2.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const x2=/\b([a-z-]*)\(.*?\)/gu,jm={...Ws,getAnimatableNone:n=>{const t=n.match(x2);return t?t.map(D2).join(" "):n}},_0={...go,transform:Math.round},V2={rotate:Gs,rotateX:Gs,rotateY:Gs,rotateZ:Gs,scale:Gc,scaleX:Gc,scaleY:Gc,scaleZ:Gc,skew:Gs,skewX:Gs,skewY:Gs,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Kl,originX:a0,originY:a0,originZ:Tt},zp={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...V2,zIndex:_0,fillOpacity:Kl,strokeOpacity:Kl,numOctaves:_0},M2={...zp,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:jm,WebkitFilter:jm},m1=n=>M2[n];function p1(n,t){let i=m1(n);return i!==jm&&(i=Ws),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const I2=new Set(["auto","none","0"]);function N2(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!I2.has(u)&&Yl(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=p1(i,o)}class O2 extends Up{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),xp(g))){const v=c1(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!h1.has(r)||t.length!==2)return;const[o,u]=t,c=v0(o),m=v0(u);if(c!==m)if(m0(c)&&m0(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Gr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||w2(t[o]))&&r.push(o);r.length&&N2(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Gr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function P2(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=i?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const g1=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function y1(n){return NE(n)&&"offsetHeight"in n}const T0=30,L2=n=>!isNaN(parseFloat(n));class U2{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=yn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=L2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Rp);const r=this.events[t].add(i);return t==="change"?()=>{r(),le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>T0)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,T0);return PE(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function io(n,t){return new U2(n,t)}const{schedule:Bp}=KE(queueMicrotask,!1),si={x:!1,y:!1};function v1(){return si.x||si.y}function k2(n){return n==="x"||n==="y"?si[n]?null:(si[n]=!0,()=>{si[n]=!1}):si.x||si.y?null:(si.x=si.y=!0,()=>{si.x=si.y=!1})}function _1(n,t){const i=P2(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function E0(n){return!(n.pointerType==="touch"||v1())}function z2(n,t,i={}){const[r,o,u]=_1(n,i),c=m=>{if(!E0(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=E=>{E0(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const T1=(n,t)=>t?n===t?!0:T1(n,t.parentElement):!1,jp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,B2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j2(n){return B2.has(n.tagName)||n.tabIndex!==-1}const eh=new WeakSet;function A0(n){return t=>{t.key==="Enter"&&n(t)}}function um(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const q2=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=A0(()=>{if(eh.has(i))return;um(i,"down");const o=A0(()=>{um(i,"up")}),u=()=>um(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function S0(n){return jp(n)&&!v1()}function H2(n,t,i={}){const[r,o,u]=_1(n,i),c=m=>{const p=m.currentTarget;if(!S0(m))return;eh.add(p);const g=t(p,m),v=(C,U)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),eh.has(p)&&eh.delete(p),S0(C)&&typeof g=="function"&&g(C,{success:U})},E=C=>{v(C,p===window||p===document||i.useGlobalTarget||T1(p,C.target))},A=C=>{v(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),y1(m)&&(m.addEventListener("focus",g=>q2(g,o)),!j2(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function E1(n){return NE(n)&&"ownerSVGElement"in n}function F2(n){return E1(n)&&n.tagName==="svg"}const sn=n=>!!(n&&n.getVelocity),G2=[...d1,Me,Ws],K2=n=>G2.find(f1(n)),qp=st.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function b0(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Y2(...n){return t=>{let i=!1;const r=n.map(o=>{const u=b0(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():b0(n[o],null)}}}}function Q2(...n){return st.useCallback(Y2(...n),n)}class X2 extends st.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=y1(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z2({children:n,isPresent:t,anchorX:i,root:r}){const o=st.useId(),u=st.useRef(null),c=st.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=st.useContext(qp),p=Q2(u,n?.ref);return st.useInsertionEffect(()=>{const{width:g,height:v,top:E,left:A,right:C}=c.current;if(t||!u.current||!g||!v)return;const U=i==="left"?`left: ${A}`:`right: ${C}`;u.current.dataset.motionPopId=o;const H=document.createElement("style");m&&(H.nonce=m);const j=r??document.head;return j.appendChild(H),H.sheet&&H.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${U}px !important;
            top: ${E}px !important;
          }
        `),()=>{j.contains(H)&&j.removeChild(H)}},[t]),J.jsx(X2,{isPresent:t,childRef:u,sizeRef:c,children:st.cloneElement(n,{ref:p})})}const $2=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,root:p})=>{const g=_p(J2),v=st.useId();let E=!0,A=st.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:C=>{g.set(C,!0);for(const U of g.values())if(!U)return;r&&r()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[i,g,r]);return u&&E&&(A={...A}),st.useMemo(()=>{g.forEach((C,U)=>g.set(U,!1))},[i]),st.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),c==="popLayout"&&(n=J.jsx(Z2,{isPresent:i,anchorX:m,root:p,children:n})),J.jsx(Ih.Provider,{value:A,children:n})};function J2(){return new Map}function A1(n=!0){const t=st.useContext(Ih);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=st.useId();st.useEffect(()=>{if(n)return o(u)},[n]);const c=st.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const Kc=n=>n.key||"";function R0(n){const t=[];return st.Children.forEach(n,i=>{st.isValidElement(i)&&t.push(i)}),t}const w0=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",root:p})=>{const[g,v]=A1(c),E=st.useMemo(()=>R0(n),[n]),A=c&&!g?[]:E.map(Kc),C=st.useRef(!0),U=st.useRef(E),H=_p(()=>new Map),[j,X]=st.useState(E),[nt,Q]=st.useState(E);ME(()=>{C.current=!1,U.current=E;for(let ut=0;ut<nt.length;ut++){const w=Kc(nt[ut]);A.includes(w)?H.delete(w):H.get(w)!==!0&&H.set(w,!1)}},[nt,A.length,A.join("-")]);const ot=[];if(E!==j){let ut=[...E];for(let w=0;w<nt.length;w++){const R=nt[w],D=Kc(R);A.includes(D)||(ut.splice(w,0,R),ot.push(R))}return u==="wait"&&ot.length&&(ut=ot),Q(R0(ut)),X(E),null}const{forceRender:at}=st.useContext(vp);return J.jsx(J.Fragment,{children:nt.map(ut=>{const w=Kc(ut),R=c&&!g?!1:E===nt||A.includes(w),D=()=>{if(H.has(w))H.set(w,!0);else return;let N=!0;H.forEach(M=>{M||(N=!1)}),N&&(at?.(),Q(U.current),c&&v?.(),r&&r())};return J.jsx($2,{isPresent:R,initial:!C.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:R?void 0:D,anchorX:m,children:ut},w)})})},S1=st.createContext({strict:!1}),C0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},so={};for(const n in C0)so[n]={isEnabled:t=>C0[n].some(i=>!!t[i])};function W2(n){for(const t in n)so[t]={...so[t],...n[t]}}const tC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||tC.has(n)}let b1=n=>!dh(n);function eC(n){typeof n=="function"&&(b1=t=>t.startsWith("on")?!dh(t):n(t))}try{eC(require("@emotion/is-prop-valid").default)}catch{}function nC(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(b1(o)||i===!0&&dh(o)||!t&&!dh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Nh=st.createContext({});function Oh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ql(n){return typeof n=="string"||Array.isArray(n)}const Hp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fp=["initial",...Hp];function Ph(n){return Oh(n.animate)||Fp.some(t=>Ql(n[t]))}function R1(n){return!!(Ph(n)||n.variants)}function iC(n,t){if(Ph(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Ql(i)?i:void 0,animate:Ql(r)?r:void 0}}return n.inherit!==!1?t:{}}function sC(n){const{initial:t,animate:i}=iC(n,st.useContext(Nh));return st.useMemo(()=>({initial:t,animate:i}),[D0(t),D0(i)])}function D0(n){return Array.isArray(n)?n.join(" "):n}const Xl={};function rC(n){for(const t in n)Xl[t]=n[t],Dp(t)&&(Xl[t].isCSSVariable=!0)}function w1(n,{layout:t,layoutId:i}){return vo.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!Xl[n]||n==="opacity")}const aC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oC=yo.length;function lC(n,t,i){let r="",o=!0;for(let u=0;u<oC;u++){const c=yo[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||i){const g=g1(m,zp[c]);if(!p){o=!1;const v=aC[c]||c;r+=`${v}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function Gp(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(vo.has(p)){c=!0;continue}else if(Dp(p)){o[p]=g;continue}else{const v=g1(g,zp[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||i?r.transform=lC(t,n.transform,i):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const Kp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function C1(n,t,i){for(const r in t)!sn(t[r])&&!w1(r,i)&&(n[r]=t[r])}function uC({transformTemplate:n},t){return st.useMemo(()=>{const i=Kp();return Gp(i,t,n),Object.assign({},i.vars,i.style)},[t])}function cC(n,t){const i=n.style||{},r={};return C1(r,i,n),Object.assign(r,uC(n,t)),r}function hC(n,t){const i={},r=cC(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const fC={offset:"stroke-dashoffset",array:"stroke-dasharray"},dC={offset:"strokeDashoffset",array:"strokeDasharray"};function mC(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?fC:dC;n[u.offset]=Tt.transform(-r);const c=Tt.transform(t),m=Tt.transform(i);n[u.array]=`${c} ${m}`}function D1(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(Gp(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A}=n;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&mC(E,o,u,c,!1)}const x1=()=>({...Kp(),attrs:{}}),V1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function pC(n,t,i,r){const o=st.useMemo(()=>{const u=x1();return D1(u,t,V1(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};C1(u,n.style,n),o.style={...u,...o.style}}return o}const gC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yp(n){return typeof n!="string"||n.includes("-")?!1:!!(gC.indexOf(n)>-1||/[A-Z]/u.test(n))}function yC(n,t,i,{latestValues:r},o,u=!1){const m=(Yp(n)?pC:hC)(t,r,o,n),p=nC(t,typeof n=="string",u),g=n!==st.Fragment?{...p,...m,ref:i}:{},{children:v}=t,E=st.useMemo(()=>sn(v)?v.get():v,[v]);return st.createElement(n,{...g,children:E})}function x0(n){const t=[{},{}];return n?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function Qp(n,t,i,r){if(typeof t=="function"){const[o,u]=x0(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=x0(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function nh(n){return sn(n)?n.get():n}function vC({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:_C(i,r,o,n),renderState:t()}}function _C(n,t,i,r){const o={},u=r(n,{});for(const A in u)o[A]=nh(u[A]);let{initial:c,animate:m}=n;const p=Ph(n),g=R1(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const E=v?m:c;if(E&&typeof E!="boolean"&&!Oh(E)){const A=Array.isArray(E)?E:[E];for(let C=0;C<A.length;C++){const U=Qp(n,A[C]);if(U){const{transitionEnd:H,transition:j,...X}=U;for(const nt in X){let Q=X[nt];if(Array.isArray(Q)){const ot=v?Q.length-1:0;Q=Q[ot]}Q!==null&&(o[nt]=Q)}for(const nt in H)o[nt]=H[nt]}}}return o}const M1=n=>(t,i)=>{const r=st.useContext(Nh),o=st.useContext(Ih),u=()=>vC(n,t,r,o);return i?u():_p(u)};function Xp(n,t,i){const{style:r}=n,o={};for(const u in r)(sn(r[u])||t.style&&sn(t.style[u])||w1(u,n)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const TC=M1({scrapeMotionValuesFromProps:Xp,createRenderState:Kp});function I1(n,t,i){const r=Xp(n,t,i);for(const o in n)if(sn(n[o])||sn(t[o])){const u=yo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const EC=M1({scrapeMotionValuesFromProps:I1,createRenderState:x1}),AC=Symbol.for("motionComponentSymbol");function Za(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function SC(n,t,i){return st.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):Za(i)&&(i.current=r))},[t])}const Zp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bC="framerAppearId",N1="data-"+Zp(bC),O1=st.createContext({});function RC(n,t,i,r,o){const{visualElement:u}=st.useContext(Nh),c=st.useContext(S1),m=st.useContext(Ih),p=st.useContext(qp).reducedMotion,g=st.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=st.useContext(O1);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&wC(g.current,i,o,E);const A=st.useRef(!1);st.useInsertionEffect(()=>{v&&A.current&&v.update(i,m)});const C=i[N1],U=st.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return ME(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),U.current&&v.animationState&&v.animationState.animateChanges())}),st.useEffect(()=>{v&&(!U.current&&v.animationState&&v.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),U.current=!1),v.enteringChildren=void 0)}),v}function wC(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:P1(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&Za(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function P1(n){if(n)return n.options.allowProjection!==!1?n.projection:P1(n.parent)}function cm(n,{forwardMotionProps:t=!1}={},i,r){i&&W2(i);const o=Yp(n)?EC:TC;function u(m,p){let g;const v={...st.useContext(qp),...m,layoutId:CC(m)},{isStatic:E}=v,A=sC(m),C=o(m,E);if(!E&&Tp){DC();const U=xC(v);g=U.MeasureLayout,A.visualElement=RC(n,C,v,r,U.ProjectionNode)}return J.jsxs(Nh.Provider,{value:A,children:[g&&A.visualElement?J.jsx(g,{visualElement:A.visualElement,...v}):null,yC(n,m,SC(C,A.visualElement,p),C,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=st.forwardRef(u);return c[AC]=n,c}function CC({layoutId:n}){const t=st.useContext(vp).id;return t&&n!==void 0?t+"-"+n:n}function DC(n,t){st.useContext(S1).strict}function xC(n){const{drag:t,layout:i}=so;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function VC(n,t){if(typeof Proxy>"u")return cm;const i=new Map,r=(u,c)=>cm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,cm(c,void 0,n,t)),i.get(c))})}function L1({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function MC({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function IC(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function hm(n){return n===void 0||n===1}function qm({scale:n,scaleX:t,scaleY:i}){return!hm(n)||!hm(t)||!hm(i)}function Br(n){return qm(n)||U1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function U1(n){return V0(n.x)||V0(n.y)}function V0(n){return n&&n!=="0%"}function mh(n,t,i){const r=n-i,o=t*r;return i+o}function M0(n,t,i,r,o){return o!==void 0&&(n=mh(n,o,r)),mh(n,i,r)+t}function Hm(n,t=0,i=1,r,o){n.min=M0(n.min,t,i,r,o),n.max=M0(n.max,t,i,r,o)}function k1(n,{x:t,y:i}){Hm(n.x,t.translate,t.scale,t.originPoint),Hm(n.y,i.translate,i.scale,i.originPoint)}const I0=.999999999999,N0=1.0000000000001;function NC(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=i[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ja(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,k1(n,c)),r&&Br(u.latestValues)&&Ja(n,u.latestValues))}t.x<N0&&t.x>I0&&(t.x=1),t.y<N0&&t.y>I0&&(t.y=1)}function $a(n,t){n.min=n.min+t,n.max=n.max+t}function O0(n,t,i,r,o=.5){const u=ue(n.min,n.max,o);Hm(n,t,i,u,r)}function Ja(n,t){O0(n.x,t.x,t.scaleX,t.scale,t.originX),O0(n.y,t.y,t.scaleY,t.scale,t.originY)}function z1(n,t){return L1(IC(n.getBoundingClientRect(),t))}function OC(n,t,i){const r=z1(n,i),{scroll:o}=t;return o&&($a(r.x,o.offset.x),$a(r.y,o.offset.y)),r}const P0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wa=()=>({x:P0(),y:P0()}),L0=()=>({min:0,max:0}),_e=()=>({x:L0(),y:L0()}),Fm={current:null},B1={current:!1};function PC(){if(B1.current=!0,!!Tp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fm.current=n.matches;n.addEventListener("change",t),t()}else Fm.current=!1}const LC=new WeakMap;function UC(n,t,i){for(const r in t){const o=t[r],u=i[r];if(sn(o))n.addValue(r,o);else if(sn(u))n.addValue(r,io(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,io(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const U0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kC{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Up,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=yn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,le.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Ph(i),this.isVariantNode=R1(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const A in E){const C=E[A];p[A]!==void 0&&sn(C)&&C.set(p[A])}}mount(t){this.current=t,LC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),B1.current||PC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=vo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in so){const i=so[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<U0.length;r++){const o=U0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=UC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=io(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(IE(r)||OE(r))?r=parseFloat(r):!K2(r)&&Ws.test(i)&&(r=p1(t,i)),this.setBaseTarget(t,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=Qp(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!sn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Rp),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Bp.render(this.render)}}class j1 extends kC{constructor(){super(...arguments),this.KeyframeResolver=O2}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function q1(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function zC(n){return window.getComputedStyle(n)}class BC extends j1{constructor(){super(...arguments),this.type="html",this.renderInstance=q1}readValueFromInstance(t,i){if(vo.has(i))return this.projection?.isProjecting?Pm(i):Ww(t,i);{const r=zC(t),o=(Dp(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return z1(t,i)}build(t,i,r){Gp(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Xp(t,i,r)}}const H1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jC(n,t,i,r){q1(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(H1.has(o)?o:Zp(o),t.attrs[o])}class qC extends j1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_e}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(vo.has(i)){const r=m1(i);return r&&r.default||0}return i=H1.has(i)?i:Zp(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return I1(t,i,r)}build(t,i,r){D1(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){jC(t,i,r,o)}mount(t){this.isSVGTag=V1(t.tagName),super.mount(t)}}const HC=(n,t)=>Yp(n)?new qC(t):new BC(t,{allowProjection:n!==st.Fragment});function to(n,t,i){const r=n.getProps();return Qp(r,t,i!==void 0?i:r.custom,n)}const Gm=n=>Array.isArray(n);function FC(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,io(i))}function GC(n){return Gm(n)?n[n.length-1]||0:n}function KC(n,t){const i=to(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const m=GC(u[c]);FC(n,c,m)}}function YC(n){return!!(sn(n)&&n.add)}function Km(n,t){const i=n.getValue("willChange");if(YC(i))return i.add(t);if(!i&&ls.WillChange){const r=new ls.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function F1(n){return n.props[N1]}const QC=n=>n!==null;function XC(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(QC),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const ZC={type:"spring",stiffness:500,damping:25,restSpeed:10},$C=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),JC={type:"keyframes",duration:.8},WC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tD=(n,{keyframes:t})=>t.length>2?JC:vo.has(n)?n.startsWith("scale")?$C(t[1]):ZC:WC;function eD({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const $p=(n,t,i,r={},o,u)=>c=>{const m=kp(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Vi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:A=>{t.set(A),m.onUpdate&&m.onUpdate(A)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};eD(m)||Object.assign(v,tD(n,v)),v.duration&&(v.duration=Vi(v.duration)),v.repeatDelay&&(v.repeatDelay=Vi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Bm(v),v.delay===0&&(E=!0)),(ls.instantAnimations||ls.skipAnimations)&&(E=!0,Bm(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const A=XC(v.keyframes,m);if(A!==void 0){le.update(()=>{v.onUpdate(A),v.onComplete()});return}}return m.isSync?new Lp(v):new A2(v)};function nD({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function G1(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in m){const E=n.getValue(v,n.latestValues[v]??null),A=m[v];if(A===void 0||g&&nD(g,v))continue;const C={delay:i,...kp(u||{},v)},U=E.get();if(U!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===U&&!C.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const X=F1(n);if(X){const nt=window.MotionHandoffAnimation(X,v,le);nt!==null&&(C.startTime=nt,H=!0)}}Km(n,v),E.start($p(v,E,A,n.shouldReduceMotion&&h1.has(v)?{type:!1}:C,n,H));const j=E.animation;j&&p.push(j)}return c&&Promise.all(p).then(()=>{le.update(()=>{c&&KC(n,c)})}),p}function K1(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,m=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:m-u*r}function Ym(n,t,i={}){const r=to(n,t,i.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(G1(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return iD(n,t,p,g,v,E,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(i.delay)])}function iD(n,t,i=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(Ym(p,t,{...c,delay:i+(typeof r=="function"?0:r)+K1(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function sD(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Ym(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Ym(n,t,i);else{const o=typeof t=="function"?to(n,t,i.custom):t;r=Promise.all(G1(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function Y1(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const rD=Fp.length;function Q1(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?Q1(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<rD;i++){const r=Fp[i],o=n.props[r];(Ql(o)||o===!1)&&(t[r]=o)}return t}const aD=[...Hp].reverse(),oD=Hp.length;function lD(n){return t=>Promise.all(t.map(({animation:i,options:r})=>sD(n,i,r)))}function uD(n){let t=lD(n),i=k0(),r=!0;const o=p=>(g,v)=>{const E=to(n,v,p==="exit"?n.presenceContext?.custom:void 0);if(E){const{transition:A,transitionEnd:C,...U}=E;g={...g,...U,...C}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=Q1(n.parent)||{},E=[],A=new Set;let C={},U=1/0;for(let j=0;j<oD;j++){const X=aD[j],nt=i[X],Q=g[X]!==void 0?g[X]:v[X],ot=Ql(Q),at=X===p?nt.isActive:null;at===!1&&(U=j);let ut=Q===v[X]&&Q!==g[X]&&ot;if(ut&&r&&n.manuallyAnimateOnMount&&(ut=!1),nt.protectedKeys={...C},!nt.isActive&&at===null||!Q&&!nt.prevProp||Oh(Q)||typeof Q=="boolean")continue;const w=cD(nt.prevProp,Q);let R=w||X===p&&nt.isActive&&!ut&&ot||j>U&&ot,D=!1;const N=Array.isArray(Q)?Q:[Q];let M=N.reduce(o(X),{});at===!1&&(M={});const{prevResolvedValues:L={}}=nt,x={...L,...M},Wt=it=>{R=!0,A.has(it)&&(D=!0,A.delete(it)),nt.needsAnimating[it]=!0;const ft=n.getValue(it);ft&&(ft.liveStyle=!1)};for(const it in x){const ft=M[it],Ct=L[it];if(C.hasOwnProperty(it))continue;let It=!1;Gm(ft)&&Gm(Ct)?It=!Y1(ft,Ct):It=ft!==Ct,It?ft!=null?Wt(it):A.add(it):ft!==void 0&&A.has(it)?Wt(it):nt.protectedKeys[it]=!0}nt.prevProp=Q,nt.prevResolvedValues=M,nt.isActive&&(C={...C,...M}),r&&n.blockInitialAnimation&&(R=!1);const he=ut&&w;R&&(!he||D)&&E.push(...N.map(it=>{const ft={type:X};if(typeof it=="string"&&r&&!he&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ct}=n,It=to(Ct,it);if(Ct.enteringChildren&&It){const{delayChildren:O}=It.transition||{};ft.delay=K1(Ct.enteringChildren,n,O)}}return{animation:it,options:ft}}))}if(A.size){const j={};if(typeof g.initial!="boolean"){const X=to(n,Array.isArray(g.initial)?g.initial[0]:g.initial);X&&X.transition&&(j.transition=X.transition)}A.forEach(X=>{const nt=n.getBaseTarget(X),Q=n.getValue(X);Q&&(Q.liveStyle=!0),j[X]=nt??null}),E.push({animation:j})}let H=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(H=!1),r=!1,H?t(E):Promise.resolve()}function m(p,g){if(i[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),i[p].isActive=g;const v=c(p);for(const E in i)i[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>i,reset:()=>{i=k0()}}}function cD(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Y1(t,n):!1}function kr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k0(){return{animate:kr(!0),whileInView:kr(),whileHover:kr(),whileTap:kr(),whileDrag:kr(),whileFocus:kr(),exit:kr()}}class ar{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hD extends ar{constructor(t){super(t),t.animationState||(t.animationState=uD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Oh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fD=0;class dD extends ar{constructor(){super(...arguments),this.id=fD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mD={animation:{Feature:hD},exit:{Feature:dD}};function Zl(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function uu(n){return{point:{x:n.pageX,y:n.pageY}}}const pD=n=>t=>jp(t)&&n(t,uu(t));function Ul(n,t,i,r){return Zl(n,t,pD(i),r)}const X1=1e-4,gD=1-X1,yD=1+X1,Z1=.01,vD=0-Z1,_D=0+Z1;function ln(n){return n.max-n.min}function TD(n,t,i){return Math.abs(n-t)<=i}function z0(n,t,i,r=.5){n.origin=r,n.originPoint=ue(t.min,t.max,n.origin),n.scale=ln(i)/ln(t),n.translate=ue(i.min,i.max,n.origin)-n.originPoint,(n.scale>=gD&&n.scale<=yD||isNaN(n.scale))&&(n.scale=1),(n.translate>=vD&&n.translate<=_D||isNaN(n.translate))&&(n.translate=0)}function kl(n,t,i,r){z0(n.x,t.x,i.x,r?r.originX:void 0),z0(n.y,t.y,i.y,r?r.originY:void 0)}function B0(n,t,i){n.min=i.min+t.min,n.max=n.min+ln(t)}function ED(n,t,i){B0(n.x,t.x,i.x),B0(n.y,t.y,i.y)}function j0(n,t,i){n.min=t.min-i.min,n.max=n.min+ln(t)}function zl(n,t,i){j0(n.x,t.x,i.x),j0(n.y,t.y,i.y)}function jn(n){return[n("x"),n("y")]}const $1=({current:n})=>n?n.ownerDocument.defaultView:null,q0=(n,t)=>Math.abs(n-t);function AD(n,t){const i=q0(n.x,t.x),r=q0(n.y,t.y);return Math.sqrt(i**2+r**2)}class J1{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=dm(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,U=AD(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!U)return;const{point:H}=A,{timestamp:j}=Xe;this.history.push({...H,timestamp:j});const{onStart:X,onMove:nt}=this.handlers;C||(X&&X(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,A)},this.handlePointerMove=(A,C)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=fm(C,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(A,C)=>{this.end();const{onEnd:U,onSessionEnd:H,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=dm(A.type==="pointercancel"?this.lastMoveEventInfo:fm(C,this.transformPagePoint),this.history);this.startEvent&&U&&U(A,X),H&&H(A,X)},!jp(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const m=uu(t),p=fm(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Xe;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=i;E&&E(t,dm(p,this.history)),this.removeListeners=au(Ul(this.contextWindow,"pointermove",this.handlePointerMove),Ul(this.contextWindow,"pointerup",this.handlePointerUp),Ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function fm(n,t){return t?{point:t(n.point)}:n}function H0(n,t){return{x:n.x-t.x,y:n.y-t.y}}function dm({point:n},t){return{point:n,delta:H0(n,W1(t)),offset:H0(n,SD(t)),velocity:bD(t,.1)}}function SD(n){return n[0]}function W1(n){return n[n.length-1]}function bD(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=W1(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>Vi(t)));)i--;if(!r)return{x:0,y:0};const u=Fn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function RD(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?ue(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?ue(i,n,r.max):Math.min(n,i)),n}function F0(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function wD(n,{top:t,left:i,bottom:r,right:o}){return{x:F0(n.x,i,o),y:F0(n.y,t,r)}}function G0(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function CD(n,t){return{x:G0(n.x,t.x),y:G0(n.y,t.y)}}function DD(n,t){let i=.5;const r=ln(n),o=ln(t);return o>r?i=Gl(t.min,t.max-r,n.min):r>o&&(i=Gl(n.min,n.max-o,t.min)),os(0,1,i)}function xD(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const Qm=.35;function VD(n=Qm){return n===!1?n=0:n===!0&&(n=Qm),{x:K0(n,"left","right"),y:K0(n,"top","bottom")}}function K0(n,t,i){return{min:Y0(n,t),max:Y0(n,i)}}function Y0(n,t){return typeof n=="number"?n:n[t]||0}const MD=new WeakMap;class ID{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(uu(E).point)},c=(E,A)=>{const{drag:C,dragPropagation:U,onDragStart:H}=this.getProps();if(C&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k2(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(X=>{let nt=this.getAxisMotionValue(X).get()||0;if(Mi.test(nt)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ot=Q.layout.layoutBox[X];ot&&(nt=ln(ot)*(parseFloat(nt)/100))}}this.originPoint[X]=nt}),H&&le.postRender(()=>H(E,A)),Km(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},m=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:C,dragDirectionLock:U,onDirectionLock:H,onDrag:j}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:X}=A;if(U&&this.currentDirection===null){this.currentDirection=ND(X),this.currentDirection!==null&&H&&H(this.currentDirection);return}this.updateAxis("x",A.point,X),this.updateAxis("y",A.point,X),this.visualElement.render(),j&&j(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>jn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new J1(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:$1(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&le.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!Yc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=RD(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Za(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=wD(r.layoutBox,t):this.constraints=!1,this.elastic=VD(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=xD(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Za(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=OC(r,o.root,this.visualElement.getTransformPagePoint());let c=CD(o.layout.layoutBox,u);if(i){const m=i(MC(c));this.hasMutatedConstraints=!!m,m&&(c=L1(m))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=jn(v=>{if(!Yc(v,i,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const A=o?200:1e6,C=o?40:1e7,U={type:"inertia",velocity:r?t[v]:0,bounceStiffness:A,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,U)});return Promise.all(g).then(m)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return Km(this.visualElement,t),r.start($p(t,r,0,i,this.visualElement,!1))}stopAnimation(){jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){jn(i=>{const{drag:r}=this.getProps();if(!Yc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[i];u.set(t[i]-ue(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!Za(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};jn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=DD({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(c=>{if(!Yc(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(ue(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;MD.set(this.visualElement,this);const t=this.visualElement.current,i=Ul(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Za(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),le.read(r);const c=Zl(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(jn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Qm,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Yc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function ND(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class OD extends ar{constructor(t){super(t),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new ID(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Q0=n=>(t,i)=>{n&&le.postRender(()=>n(t,i))};class PD extends ar{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(t){this.session=new J1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Q0(t),onStart:Q0(i),onMove:r,onEnd:(u,c)=>{delete this.session,o&&le.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Ul(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ih={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X0(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const xl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Tt.test(n))n=parseFloat(n);else return n;const i=X0(n,t.target.x),r=X0(n,t.target.y);return`${i}% ${r}%`}},LD={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=Ws.parse(n);if(o.length>5)return r;const u=Ws.createTransformer(n),c=typeof o[0]!="number"?1:0,m=i.x.scale*t.x,p=i.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=ue(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let mm=!1;class UD extends st.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;rC(kD),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),mm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),ih.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,mm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||le.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Bp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;mm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tA(n){const[t,i]=A1(),r=st.useContext(vp);return J.jsx(UD,{...n,layoutGroup:r,switchLayoutGroup:st.useContext(O1),isPresent:t,safeToRemove:i})}const kD={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:LD};function zD(n,t,i){const r=sn(n)?n:io(n);return r.start($p("",r,t,i)),r.animation}const BD=(n,t)=>n.depth-t.depth;class jD{constructor(){this.children=[],this.isDirty=!1}add(t){Ep(this.children,t),this.isDirty=!0}remove(t){Ap(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(BD),this.isDirty=!1,this.children.forEach(t)}}function qD(n,t){const i=yn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(Js(r),n(u-t))};return le.setup(r,!0),()=>Js(r)}const eA=["TopLeft","TopRight","BottomLeft","BottomRight"],HD=eA.length,Z0=n=>typeof n=="string"?parseFloat(n):n,$0=n=>typeof n=="number"||Tt.test(n);function FD(n,t,i,r,o,u){o?(n.opacity=ue(0,i.opacity??1,GD(r)),n.opacityExit=ue(t.opacity??1,0,KD(r))):u&&(n.opacity=ue(t.opacity??1,i.opacity??1,r));for(let c=0;c<HD;c++){const m=`border${eA[c]}Radius`;let p=J0(t,m),g=J0(i,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||$0(p)===$0(g)?(n[m]=Math.max(ue(Z0(p),Z0(g),r),0),(Mi.test(g)||Mi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||i.rotate)&&(n.rotate=ue(t.rotate||0,i.rotate||0,r))}function J0(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const GD=nA(0,.5,qE),KD=nA(.5,.95,Gn);function nA(n,t,i){return r=>r<n?0:r>t?1:i(Gl(n,t,r))}function W0(n,t){n.min=t.min,n.max=t.max}function Bn(n,t){W0(n.x,t.x),W0(n.y,t.y)}function tT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function eT(n,t,i,r,o){return n-=t,n=mh(n,1/i,r),o!==void 0&&(n=mh(n,1/o,r)),n}function YD(n,t=0,i=1,r=.5,o,u=n,c=n){if(Mi.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=ue(u.min,u.max,r);n===u&&(m-=t),n.min=eT(n.min,t,i,m,o),n.max=eT(n.max,t,i,m,o)}function nT(n,t,[i,r,o],u,c){YD(n,t[i],t[r],t[o],t.scale,u,c)}const QD=["x","scaleX","originX"],XD=["y","scaleY","originY"];function iT(n,t,i,r){nT(n.x,t,QD,i?i.x:void 0,r?r.x:void 0),nT(n.y,t,XD,i?i.y:void 0,r?r.y:void 0)}function sT(n){return n.translate===0&&n.scale===1}function iA(n){return sT(n.x)&&sT(n.y)}function rT(n,t){return n.min===t.min&&n.max===t.max}function ZD(n,t){return rT(n.x,t.x)&&rT(n.y,t.y)}function aT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function sA(n,t){return aT(n.x,t.x)&&aT(n.y,t.y)}function oT(n){return ln(n.x)/ln(n.y)}function lT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class $D{constructor(){this.members=[]}add(t){Ep(this.members,t),t.scheduleRender()}remove(t){if(Ap(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JD(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=i?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:C,skewY:U}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),A&&(r+=`rotateY(${A}deg) `),C&&(r+=`skewX(${C}deg) `),U&&(r+=`skewY(${U}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const pm=["","X","Y","Z"],WD=1e3;let tx=0;function gm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function rA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=F1(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",le,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&rA(r)}function aA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=tx++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ix),this.nodes.forEach(ox),this.nodes.forEach(lx),this.nodes.forEach(sx)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new jD)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Rp),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=E1(c)&&!F2(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let v,E=0;const A=()=>this.root.updateBlockedByResize=!1;le.read(()=>{E=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=qD(A,250),ih.hasAnimatedSinceResize&&(ih.hasAnimatedSinceResize=!1,this.nodes.forEach(hT)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||g.getDefaultTransition()||dx,{onLayoutAnimationStart:H,onLayoutAnimationComplete:j}=g.getProps(),X=!this.targetLayout||!sA(this.targetLayout,C),nt=!E&&A;if(this.options.layoutRoot||this.resumeFrom||nt||E&&(X||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...kp(U,"layout"),onPlay:H,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,nt)}else E||hT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ux),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ax),this.nodes.forEach(ex),this.nodes.forEach(nx)):this.nodes.forEach(cT),this.clearAllSnapshots();const m=yn.now();Xe.delta=os(0,1e3/60,m-Xe.timestamp),Xe.timestamp=m,Xe.isProcessing=!0,sm.update.process(Xe),sm.preRender.process(Xe),sm.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rx),this.sharedNodes.forEach(cx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!iA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||Br(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),mx(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return _e();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(px))){const{scroll:g}=this.root;g&&($a(m.x,g.offset.x),$a(m.y,g.offset.y))}return m}removeElementScroll(c){const m=_e();if(Bn(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Bn(m,c),$a(m.x,v.offset.x),$a(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const p=_e();Bn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ja(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Br(v.latestValues)&&Ja(p,v.latestValues)}return Br(this.latestValues)&&Ja(p,this.latestValues),p}removeTransform(c){const m=_e();Bn(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Br(g.latestValues))continue;qm(g.latestValues)&&g.updateSnapshot();const v=_e(),E=g.measurePageBox();Bn(v,E),iT(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Br(this.latestValues)&&iT(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),zl(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_e(),this.targetWithTransforms=_e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ED(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),k1(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),zl(this.relativeTargetOrigin,this.target,A.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qm(this.parent.latestValues)||U1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Bn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;NC(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=_e());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tT(this.prevProjectionDelta.x,this.projectionDelta.x),tT(this.prevProjectionDelta.y,this.projectionDelta.y)),kl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!lT(this.projectionDelta.x,this.prevProjectionDelta.x)||!lT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wa(),this.projectionDelta=Wa(),this.projectionDeltaWithTransform=Wa()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=Wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const A=_e(),C=p?p.source:void 0,U=this.layout?this.layout.source:void 0,H=C!==U,j=this.getStack(),X=!j||j.members.length<=1,nt=!!(H&&!X&&this.options.crossfade===!0&&!this.path.some(fx));this.animationProgress=0;let Q;this.mixTargetDelta=ot=>{const at=ot/1e3;fT(E.x,c.x,at),fT(E.y,c.y,at),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zl(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hx(this.relativeTarget,this.relativeTargetOrigin,A,at),Q&&ZD(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=_e()),Bn(Q,this.relativeTarget)),H&&(this.animationValues=v,FD(v,g,this.latestValues,at,nt,X)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{ih.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=io(0)),this.currentAnimation=zD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&oA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||_e();const E=ln(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const A=ln(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}Bn(m,p),Ja(m,v),kl(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new $D),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&gm("z",c,g,this.animationValues);for(let v=0;v<pm.length;v++)gm(`rotate${pm[v]}`,c,g,this.animationValues),gm(`skew${pm[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=nh(m?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=nh(m?.pointerEvents)||""),this.hasProjected&&!Br(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=JD(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:A,y:C}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${C.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const U in Xl){if(v[U]===void 0)continue;const{correct:H,applyTo:j,isCSSVariable:X}=Xl[U],nt=E==="none"?v[U]:H(v[U],g);if(j){const Q=j.length;for(let ot=0;ot<Q;ot++)c[j[ot]]=nt}else X?this.options.visualElement.renderState.vars[U]=nt:c[U]=nt}this.options.layoutId&&(c.pointerEvents=g===this?nh(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(uT),this.root.sharedNodes.clear()}}}function ex(n){n.updateLayout()}function nx(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?jn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=ln(E);E.min=i[v].min,E.max=E.min+A}):oA(o,t.layoutBox,i)&&jn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=ln(i[v]);E.max=E.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+A)});const c=Wa();kl(c,i,t.layoutBox);const m=Wa();u?kl(m,n.applyTransform(r,!0),t.measuredBox):kl(m,i,t.layoutBox);const p=!iA(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:A}=v;if(E&&A){const C=_e();zl(C,t.layoutBox,E.layoutBox);const U=_e();zl(U,i,A.layoutBox),sA(C,U)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=U,n.relativeTargetOrigin=C,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function ix(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function sx(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function rx(n){n.clearSnapshot()}function uT(n){n.clearMeasurements()}function cT(n){n.isLayoutDirty=!1}function ax(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function hT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ox(n){n.resolveTargetDelta()}function lx(n){n.calcProjection()}function ux(n){n.resetSkewAndRotation()}function cx(n){n.removeLeadSnapshot()}function fT(n,t,i){n.translate=ue(t.translate,0,i),n.scale=ue(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function dT(n,t,i,r){n.min=ue(t.min,i.min,r),n.max=ue(t.max,i.max,r)}function hx(n,t,i,r){dT(n.x,t.x,i.x,r),dT(n.y,t.y,i.y,r)}function fx(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const dx={duration:.45,ease:[.4,0,.1,1]},mT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),pT=mT("applewebkit/")&&!mT("chrome/")?Math.round:Gn;function gT(n){n.min=pT(n.min),n.max=pT(n.max)}function mx(n){gT(n.x),gT(n.y)}function oA(n,t,i){return n==="position"||n==="preserve-aspect"&&!TD(oT(t),oT(i),.2)}function px(n){return n!==n.root&&n.scroll?.wasRoot}const gx=aA({attachResizeListener:(n,t)=>Zl(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ym={current:void 0},lA=aA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ym.current){const n=new gx({});n.mount(window),n.setOptions({layoutScroll:!0}),ym.current=n}return ym.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),yx={pan:{Feature:PD},drag:{Feature:OD,ProjectionNode:lA,MeasureLayout:tA}};function yT(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&le.postRender(()=>u(t,uu(t)))}class vx extends ar{mount(){const{current:t}=this.node;t&&(this.unmount=z2(t,(i,r)=>(yT(this.node,r,"Start"),o=>yT(this.node,o,"End"))))}unmount(){}}class _x extends ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=au(Zl(this.node.current,"focus",()=>this.onFocus()),Zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vT(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&le.postRender(()=>u(t,uu(t)))}class Tx extends ar{mount(){const{current:t}=this.node;t&&(this.unmount=H2(t,(i,r)=>(vT(this.node,r,"Start"),(o,{success:u})=>vT(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xm=new WeakMap,vm=new WeakMap,Ex=n=>{const t=Xm.get(n.target);t&&t(n)},Ax=n=>{n.forEach(Ex)};function Sx({root:n,...t}){const i=n||document;vm.has(i)||vm.set(i,{});const r=vm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(Ax,{root:n,...t})),r[o]}function bx(n,t,i){const r=Sx(t);return Xm.set(n,i),r.observe(n),()=>{Xm.delete(n),r.unobserve(n)}}const Rx={some:0,all:1};class wx extends ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Rx[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(p)};return bx(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(Cx(t,i))&&this.startObserver()}unmount(){}}function Cx({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const Dx={inView:{Feature:wx},tap:{Feature:Tx},focus:{Feature:_x},hover:{Feature:vx}},xx={layout:{ProjectionNode:lA,MeasureLayout:tA}},Vx={...mD,...Dx,...yx,...xx},zr=VC(Vx,HC),Mx=()=>{};var _T={};const uA=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ix=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],m=n[i++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},cA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(A=64)),r.push(i[v],i[E],i[A],i[C])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(uA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Ix(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new Nx;const A=u<<2|m>>4;if(r.push(A),g!==64){const C=m<<4&240|g>>2;if(r.push(C),E!==64){const U=g<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Nx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ox=function(n){const t=uA(n);return cA.encodeByteArray(t,!0)},ph=function(n){return Ox(n).replace(/\./g,"")},Px=function(n){try{return cA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Lx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ux=()=>Lx().__FIREBASE_DEFAULTS__,kx=()=>{if(typeof process>"u"||typeof _T>"u")return;const n=_T.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Px(n[1]);return t&&JSON.parse(t)},Jp=()=>{try{return Mx()||Ux()||kx()||zx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Bx=n=>Jp()?.emulatorHosts?.[n],hA=n=>{const t=Bx(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},fA=()=>Jp()?.config;class jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Lh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dA(n){return(await fetch(n,{credentials:"include"})).ok}function mA(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ph(JSON.stringify(i)),ph(JSON.stringify(c)),""].join(".")}const Bl={};function qx(){const n={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?n.emulator.push(t):n.prod.push(t);return n}function Hx(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let TT=!1;function pA(n,t){if(typeof window>"u"||typeof document>"u"||!Lh(window.location.host)||Bl[n]===t||Bl[n]||TT)return;Bl[n]=t;function i(A){return`__firebase__banner__${A}`}const r="__firebase__banner",u=qx().prod.length>0;function c(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{TT=!0,c()},A}function v(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=Hx(r),C=i("text"),U=document.getElementById(C)||document.createElement("span"),H=i("learnmore"),j=document.getElementById(H)||document.createElement("a"),X=i("preprendIcon"),nt=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;m(Q),v(j,H);const ot=g();p(nt,X),Q.append(nt,U,j,ot),document.body.appendChild(Q)}u?(U.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Fx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gx(){const n=Jp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kx(){return!Gx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yx(){try{return typeof indexedDB=="object"}catch{return!1}}function Qx(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Xx="FirebaseError";class Zr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Xx,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gA.prototype.create)}}class gA{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?Zx(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Zr(o,m,r)}}function Zx(n,t){return n.replace($x,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const $x=/\{\$([^}]+)}/g;function gh(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(ET(u)&&ET(c)){if(!gh(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function ET(n){return n!==null&&typeof n=="object"}function ro(n){return n&&n._delegate?n._delegate:n}class ao{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const jr="[DEFAULT]";class Jx{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new jx;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tV(t))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jr){return this.instances.has(t)}getOptions(t=jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wx(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=jr){return this.component?this.component.multipleInstances?t:jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wx(n){return n===jr?void 0:n}function tV(n){return n.instantiationMode==="EAGER"}class eV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Jx(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const nV={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},iV=Bt.INFO,sV={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},rV=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=sV[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yA{constructor(t){this.name=t,this._logLevel=iV,this._logHandler=rV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const aV=(n,t)=>t.some(i=>n instanceof i);let AT,ST;function oV(){return AT||(AT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lV(){return ST||(ST=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vA=new WeakMap,Zm=new WeakMap,_A=new WeakMap,_m=new WeakMap,Wp=new WeakMap;function uV(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(Ys(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&vA.set(i,n)}).catch(()=>{}),Wp.set(t,n),t}function cV(n){if(Zm.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Zm.set(n,t)}let $m={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Zm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||_A.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function hV(n){$m=n($m)}function fV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Tm(this),t,...i);return _A.set(r,t.sort?t.sort():[t]),Ys(r)}:lV().includes(n)?function(...t){return n.apply(Tm(this),t),Ys(vA.get(this))}:function(...t){return Ys(n.apply(Tm(this),t))}}function dV(n){return typeof n=="function"?fV(n):(n instanceof IDBTransaction&&cV(n),aV(n,oV())?new Proxy(n,$m):n)}function Ys(n){if(n instanceof IDBRequest)return uV(n);if(_m.has(n))return _m.get(n);const t=dV(n);return t!==n&&(_m.set(n,t),Wp.set(t,n)),t}const Tm=n=>Wp.get(n);function mV(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=Ys(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Ys(c.result),p.oldVersion,p.newVersion,Ys(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const pV=["get","getKey","getAll","getAllKeys","count"],gV=["put","add","delete","clear"],Em=new Map;function bT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Em.get(t))return Em.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=gV.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||pV.includes(i)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return Em.set(t,u),u}hV(n=>({...n,get:(t,i,r)=>bT(t,i)||n.get(t,i,r),has:(t,i)=>!!bT(t,i)||n.has(t,i)}));class yV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vV(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function vV(n){return n.getComponent()?.type==="VERSION"}const Jm="@firebase/app",RT="0.14.6";const us=new yA("@firebase/app"),_V="@firebase/app-compat",TV="@firebase/analytics-compat",EV="@firebase/analytics",AV="@firebase/app-check-compat",SV="@firebase/app-check",bV="@firebase/auth",RV="@firebase/auth-compat",wV="@firebase/database",CV="@firebase/data-connect",DV="@firebase/database-compat",xV="@firebase/functions",VV="@firebase/functions-compat",MV="@firebase/installations",IV="@firebase/installations-compat",NV="@firebase/messaging",OV="@firebase/messaging-compat",PV="@firebase/performance",LV="@firebase/performance-compat",UV="@firebase/remote-config",kV="@firebase/remote-config-compat",zV="@firebase/storage",BV="@firebase/storage-compat",jV="@firebase/firestore",qV="@firebase/ai",HV="@firebase/firestore-compat",FV="firebase",GV="12.6.0";const Wm="[DEFAULT]",KV={[Jm]:"fire-core",[_V]:"fire-core-compat",[EV]:"fire-analytics",[TV]:"fire-analytics-compat",[SV]:"fire-app-check",[AV]:"fire-app-check-compat",[bV]:"fire-auth",[RV]:"fire-auth-compat",[wV]:"fire-rtdb",[CV]:"fire-data-connect",[DV]:"fire-rtdb-compat",[xV]:"fire-fn",[VV]:"fire-fn-compat",[MV]:"fire-iid",[IV]:"fire-iid-compat",[NV]:"fire-fcm",[OV]:"fire-fcm-compat",[PV]:"fire-perf",[LV]:"fire-perf-compat",[UV]:"fire-rc",[kV]:"fire-rc-compat",[zV]:"fire-gcs",[BV]:"fire-gcs-compat",[jV]:"fire-fst",[HV]:"fire-fst-compat",[qV]:"fire-vertex","fire-js":"fire-js",[FV]:"fire-js-all"};const yh=new Map,YV=new Map,tp=new Map;function wT(n,t){try{n.container.addComponent(t)}catch(i){us.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function $l(n){const t=n.name;if(tp.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;tp.set(t,n);for(const i of yh.values())wT(i,n);for(const i of YV.values())wT(i,n);return!0}function TA(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function EA(n){return n==null?!1:n.settings!==void 0}const QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new gA("app","Firebase",QV);class XV{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const AA=GV;function SA(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:Wm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=fA()),!i)throw Qs.create("no-options");const u=yh.get(o);if(u){if(gh(i,u.options)&&gh(r,u.config))return u;throw Qs.create("duplicate-app",{appName:o})}const c=new eV(o);for(const p of tp.values())c.addComponent(p);const m=new XV(i,r,c);return yh.set(o,m),m}function bA(n=Wm){const t=yh.get(n);if(!t&&n===Wm&&fA())return SA();if(!t)throw Qs.create("no-app",{appName:n});return t}function Xs(n,t,i){let r=KV[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(c.join(" "));return}$l(new ao(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ZV="firebase-heartbeat-database",$V=1,Jl="firebase-heartbeat-store";let Am=null;function RA(){return Am||(Am=mV(ZV,$V,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Qs.create("idb-open",{originalErrorMessage:n.message})})),Am}async function JV(n){try{const i=(await RA()).transaction(Jl),r=await i.objectStore(Jl).get(wA(n));return await i.done,r}catch(t){if(t instanceof Zr)us.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});us.warn(i.message)}}}async function CT(n,t){try{const r=(await RA()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(t,wA(n)),await r.done}catch(i){if(i instanceof Zr)us.warn(i.message);else{const r=Qs.create("idb-set",{originalErrorMessage:i?.message});us.warn(r.message)}}}function wA(n){return`${n.name}!${n.options.appId}`}const WV=1024,tM=30;class eM{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iM(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=DT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>tM){const o=sM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){us.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DT(),{heartbeatsToSend:i,unsentEntries:r}=nM(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return us.warn(t),""}}}function DT(){return new Date().toISOString().substring(0,10)}function nM(n,t=WV){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),xT(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),xT(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yx()?Qx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JV(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return CT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function xT(n){return ph(JSON.stringify({version:2,heartbeats:n})).length}function sM(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}function rM(n){$l(new ao("platform-logger",t=>new yV(t),"PRIVATE")),$l(new ao("heartbeat",t=>new eM(t),"PRIVATE")),Xs(Jm,RT,n),Xs(Jm,RT,"esm2020"),Xs("fire-js","")}rM("");var aM="firebase",oM="12.6.0";Xs(aM,oM,"app");var VT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,CA;(function(){var n;function t(w,R){function D(){}D.prototype=R.prototype,w.F=R.prototype,w.prototype=new D,w.prototype.constructor=w,w.D=function(N,M,L){for(var x=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)x[Wt-2]=arguments[Wt];return R.prototype[M].apply(N,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,R,D){D||(D=0);const N=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)N[M]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(M=0;M<16;++M)N[M]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=w.g[0],D=w.g[1],M=w.g[2];let L=w.g[3],x;x=R+(L^D&(M^L))+N[0]+3614090360&4294967295,R=D+(x<<7&4294967295|x>>>25),x=L+(M^R&(D^M))+N[1]+3905402710&4294967295,L=R+(x<<12&4294967295|x>>>20),x=M+(D^L&(R^D))+N[2]+606105819&4294967295,M=L+(x<<17&4294967295|x>>>15),x=D+(R^M&(L^R))+N[3]+3250441966&4294967295,D=M+(x<<22&4294967295|x>>>10),x=R+(L^D&(M^L))+N[4]+4118548399&4294967295,R=D+(x<<7&4294967295|x>>>25),x=L+(M^R&(D^M))+N[5]+1200080426&4294967295,L=R+(x<<12&4294967295|x>>>20),x=M+(D^L&(R^D))+N[6]+2821735955&4294967295,M=L+(x<<17&4294967295|x>>>15),x=D+(R^M&(L^R))+N[7]+4249261313&4294967295,D=M+(x<<22&4294967295|x>>>10),x=R+(L^D&(M^L))+N[8]+1770035416&4294967295,R=D+(x<<7&4294967295|x>>>25),x=L+(M^R&(D^M))+N[9]+2336552879&4294967295,L=R+(x<<12&4294967295|x>>>20),x=M+(D^L&(R^D))+N[10]+4294925233&4294967295,M=L+(x<<17&4294967295|x>>>15),x=D+(R^M&(L^R))+N[11]+2304563134&4294967295,D=M+(x<<22&4294967295|x>>>10),x=R+(L^D&(M^L))+N[12]+1804603682&4294967295,R=D+(x<<7&4294967295|x>>>25),x=L+(M^R&(D^M))+N[13]+4254626195&4294967295,L=R+(x<<12&4294967295|x>>>20),x=M+(D^L&(R^D))+N[14]+2792965006&4294967295,M=L+(x<<17&4294967295|x>>>15),x=D+(R^M&(L^R))+N[15]+1236535329&4294967295,D=M+(x<<22&4294967295|x>>>10),x=R+(M^L&(D^M))+N[1]+4129170786&4294967295,R=D+(x<<5&4294967295|x>>>27),x=L+(D^M&(R^D))+N[6]+3225465664&4294967295,L=R+(x<<9&4294967295|x>>>23),x=M+(R^D&(L^R))+N[11]+643717713&4294967295,M=L+(x<<14&4294967295|x>>>18),x=D+(L^R&(M^L))+N[0]+3921069994&4294967295,D=M+(x<<20&4294967295|x>>>12),x=R+(M^L&(D^M))+N[5]+3593408605&4294967295,R=D+(x<<5&4294967295|x>>>27),x=L+(D^M&(R^D))+N[10]+38016083&4294967295,L=R+(x<<9&4294967295|x>>>23),x=M+(R^D&(L^R))+N[15]+3634488961&4294967295,M=L+(x<<14&4294967295|x>>>18),x=D+(L^R&(M^L))+N[4]+3889429448&4294967295,D=M+(x<<20&4294967295|x>>>12),x=R+(M^L&(D^M))+N[9]+568446438&4294967295,R=D+(x<<5&4294967295|x>>>27),x=L+(D^M&(R^D))+N[14]+3275163606&4294967295,L=R+(x<<9&4294967295|x>>>23),x=M+(R^D&(L^R))+N[3]+4107603335&4294967295,M=L+(x<<14&4294967295|x>>>18),x=D+(L^R&(M^L))+N[8]+1163531501&4294967295,D=M+(x<<20&4294967295|x>>>12),x=R+(M^L&(D^M))+N[13]+2850285829&4294967295,R=D+(x<<5&4294967295|x>>>27),x=L+(D^M&(R^D))+N[2]+4243563512&4294967295,L=R+(x<<9&4294967295|x>>>23),x=M+(R^D&(L^R))+N[7]+1735328473&4294967295,M=L+(x<<14&4294967295|x>>>18),x=D+(L^R&(M^L))+N[12]+2368359562&4294967295,D=M+(x<<20&4294967295|x>>>12),x=R+(D^M^L)+N[5]+4294588738&4294967295,R=D+(x<<4&4294967295|x>>>28),x=L+(R^D^M)+N[8]+2272392833&4294967295,L=R+(x<<11&4294967295|x>>>21),x=M+(L^R^D)+N[11]+1839030562&4294967295,M=L+(x<<16&4294967295|x>>>16),x=D+(M^L^R)+N[14]+4259657740&4294967295,D=M+(x<<23&4294967295|x>>>9),x=R+(D^M^L)+N[1]+2763975236&4294967295,R=D+(x<<4&4294967295|x>>>28),x=L+(R^D^M)+N[4]+1272893353&4294967295,L=R+(x<<11&4294967295|x>>>21),x=M+(L^R^D)+N[7]+4139469664&4294967295,M=L+(x<<16&4294967295|x>>>16),x=D+(M^L^R)+N[10]+3200236656&4294967295,D=M+(x<<23&4294967295|x>>>9),x=R+(D^M^L)+N[13]+681279174&4294967295,R=D+(x<<4&4294967295|x>>>28),x=L+(R^D^M)+N[0]+3936430074&4294967295,L=R+(x<<11&4294967295|x>>>21),x=M+(L^R^D)+N[3]+3572445317&4294967295,M=L+(x<<16&4294967295|x>>>16),x=D+(M^L^R)+N[6]+76029189&4294967295,D=M+(x<<23&4294967295|x>>>9),x=R+(D^M^L)+N[9]+3654602809&4294967295,R=D+(x<<4&4294967295|x>>>28),x=L+(R^D^M)+N[12]+3873151461&4294967295,L=R+(x<<11&4294967295|x>>>21),x=M+(L^R^D)+N[15]+530742520&4294967295,M=L+(x<<16&4294967295|x>>>16),x=D+(M^L^R)+N[2]+3299628645&4294967295,D=M+(x<<23&4294967295|x>>>9),x=R+(M^(D|~L))+N[0]+4096336452&4294967295,R=D+(x<<6&4294967295|x>>>26),x=L+(D^(R|~M))+N[7]+1126891415&4294967295,L=R+(x<<10&4294967295|x>>>22),x=M+(R^(L|~D))+N[14]+2878612391&4294967295,M=L+(x<<15&4294967295|x>>>17),x=D+(L^(M|~R))+N[5]+4237533241&4294967295,D=M+(x<<21&4294967295|x>>>11),x=R+(M^(D|~L))+N[12]+1700485571&4294967295,R=D+(x<<6&4294967295|x>>>26),x=L+(D^(R|~M))+N[3]+2399980690&4294967295,L=R+(x<<10&4294967295|x>>>22),x=M+(R^(L|~D))+N[10]+4293915773&4294967295,M=L+(x<<15&4294967295|x>>>17),x=D+(L^(M|~R))+N[1]+2240044497&4294967295,D=M+(x<<21&4294967295|x>>>11),x=R+(M^(D|~L))+N[8]+1873313359&4294967295,R=D+(x<<6&4294967295|x>>>26),x=L+(D^(R|~M))+N[15]+4264355552&4294967295,L=R+(x<<10&4294967295|x>>>22),x=M+(R^(L|~D))+N[6]+2734768916&4294967295,M=L+(x<<15&4294967295|x>>>17),x=D+(L^(M|~R))+N[13]+1309151649&4294967295,D=M+(x<<21&4294967295|x>>>11),x=R+(M^(D|~L))+N[4]+4149444226&4294967295,R=D+(x<<6&4294967295|x>>>26),x=L+(D^(R|~M))+N[11]+3174756917&4294967295,L=R+(x<<10&4294967295|x>>>22),x=M+(R^(L|~D))+N[2]+718787259&4294967295,M=L+(x<<15&4294967295|x>>>17),x=D+(L^(M|~R))+N[9]+3951481745&4294967295,w.g[0]=w.g[0]+R&4294967295,w.g[1]=w.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,w.g[2]=w.g[2]+M&4294967295,w.g[3]=w.g[3]+L&4294967295}r.prototype.v=function(w,R){R===void 0&&(R=w.length);const D=R-this.blockSize,N=this.C;let M=this.h,L=0;for(;L<R;){if(M==0)for(;L<=D;)o(this,w,L),L+=this.blockSize;if(typeof w=="string"){for(;L<R;)if(N[M++]=w.charCodeAt(L++),M==this.blockSize){o(this,N),M=0;break}}else for(;L<R;)if(N[M++]=w[L++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=R},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var R=1;R<w.length-8;++R)w[R]=0;R=this.o*8;for(var D=w.length-8;D<w.length;++D)w[D]=R&255,R/=256;for(this.v(w),w=Array(16),R=0,D=0;D<4;++D)for(let N=0;N<32;N+=8)w[R++]=this.g[D]>>>N&255;return w};function u(w,R){var D=m;return Object.prototype.hasOwnProperty.call(D,w)?D[w]:D[w]=R(w)}function c(w,R){this.h=R;const D=[];let N=!0;for(let M=w.length-1;M>=0;M--){const L=w[M]|0;N&&L==R||(D[M]=L,N=!1)}this.g=D}var m={};function p(w){return-128<=w&&w<128?u(w,function(R){return new c([R|0],R<0?-1:0)}):new c([w|0],w<0?-1:0)}function g(w){if(isNaN(w)||!isFinite(w))return E;if(w<0)return j(g(-w));const R=[];let D=1;for(let N=0;w>=D;N++)R[N]=w/D|0,D*=4294967296;return new c(R,0)}function v(w,R){if(w.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w.charAt(0)=="-")return j(v(w.substring(1),R));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(R,8));let N=E;for(let L=0;L<w.length;L+=8){var M=Math.min(8,w.length-L);const x=parseInt(w.substring(L,L+M),R);M<8?(M=g(Math.pow(R,M)),N=N.j(M).add(g(x))):(N=N.j(D),N=N.add(g(x)))}return N}var E=p(0),A=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(H(this))return-j(this).m();let w=0,R=1;for(let D=0;D<this.g.length;D++){const N=this.i(D);w+=(N>=0?N:4294967296+N)*R,R*=4294967296}return w},n.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(U(this))return"0";if(H(this))return"-"+j(this).toString(w);const R=g(Math.pow(w,6));var D=this;let N="";for(;;){const M=ot(D,R).g;D=X(D,M.j(R));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(w);if(D=M,U(D))return L+N;for(;L.length<6;)L="0"+L;N=L+N}},n.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function U(w){if(w.h!=0)return!1;for(let R=0;R<w.g.length;R++)if(w.g[R]!=0)return!1;return!0}function H(w){return w.h==-1}n.l=function(w){return w=X(this,w),H(w)?-1:U(w)?0:1};function j(w){const R=w.g.length,D=[];for(let N=0;N<R;N++)D[N]=~w.g[N];return new c(D,~w.h).add(A)}n.abs=function(){return H(this)?j(this):this},n.add=function(w){const R=Math.max(this.g.length,w.g.length),D=[];let N=0;for(let M=0;M<=R;M++){let L=N+(this.i(M)&65535)+(w.i(M)&65535),x=(L>>>16)+(this.i(M)>>>16)+(w.i(M)>>>16);N=x>>>16,L&=65535,x&=65535,D[M]=x<<16|L}return new c(D,D[D.length-1]&-2147483648?-1:0)};function X(w,R){return w.add(j(R))}n.j=function(w){if(U(this)||U(w))return E;if(H(this))return H(w)?j(this).j(j(w)):j(j(this).j(w));if(H(w))return j(this.j(j(w)));if(this.l(C)<0&&w.l(C)<0)return g(this.m()*w.m());const R=this.g.length+w.g.length,D=[];for(var N=0;N<2*R;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<w.g.length;M++){const L=this.i(N)>>>16,x=this.i(N)&65535,Wt=w.i(M)>>>16,he=w.i(M)&65535;D[2*N+2*M]+=x*he,nt(D,2*N+2*M),D[2*N+2*M+1]+=L*he,nt(D,2*N+2*M+1),D[2*N+2*M+1]+=x*Wt,nt(D,2*N+2*M+1),D[2*N+2*M+2]+=L*Wt,nt(D,2*N+2*M+2)}for(w=0;w<R;w++)D[w]=D[2*w+1]<<16|D[2*w];for(w=R;w<2*R;w++)D[w]=0;return new c(D,0)};function nt(w,R){for(;(w[R]&65535)!=w[R];)w[R+1]+=w[R]>>>16,w[R]&=65535,R++}function Q(w,R){this.g=w,this.h=R}function ot(w,R){if(U(R))throw Error("division by zero");if(U(w))return new Q(E,E);if(H(w))return R=ot(j(w),R),new Q(j(R.g),j(R.h));if(H(R))return R=ot(w,j(R)),new Q(j(R.g),R.h);if(w.g.length>30){if(H(w)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var D=A,N=R;N.l(w)<=0;)D=at(D),N=at(N);var M=ut(D,1),L=ut(N,1);for(N=ut(N,2),D=ut(D,2);!U(N);){var x=L.add(N);x.l(w)<=0&&(M=M.add(D),L=x),N=ut(N,1),D=ut(D,1)}return R=X(w,M.j(R)),new Q(M,R)}for(M=E;w.l(R)>=0;){for(D=Math.max(1,Math.floor(w.m()/R.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),L=g(D),x=L.j(R);H(x)||x.l(w)>0;)D-=N,L=g(D),x=L.j(R);U(L)&&(L=A),M=M.add(L),w=X(w,x)}return new Q(M,w)}n.B=function(w){return ot(this,w).h},n.and=function(w){const R=Math.max(this.g.length,w.g.length),D=[];for(let N=0;N<R;N++)D[N]=this.i(N)&w.i(N);return new c(D,this.h&w.h)},n.or=function(w){const R=Math.max(this.g.length,w.g.length),D=[];for(let N=0;N<R;N++)D[N]=this.i(N)|w.i(N);return new c(D,this.h|w.h)},n.xor=function(w){const R=Math.max(this.g.length,w.g.length),D=[];for(let N=0;N<R;N++)D[N]=this.i(N)^w.i(N);return new c(D,this.h^w.h)};function at(w){const R=w.g.length+1,D=[];for(let N=0;N<R;N++)D[N]=w.i(N)<<1|w.i(N-1)>>>31;return new c(D,w.h)}function ut(w,R){const D=R>>5;R%=32;const N=w.g.length-D,M=[];for(let L=0;L<N;L++)M[L]=R>0?w.i(L+D)>>>R|w.i(L+D+1)<<32-R:w.i(L+D);return new c(M,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Zs=c}).apply(typeof VT<"u"?VT:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var DA,Ml,xA,sh,ep,VA,MA,IA;(function(){var n,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=i(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var k=h[b];if(!(k in T))break t;T=T[k]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,k,F){for(var rt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)rt[Rt-2]=arguments[Rt];return y.prototype[k].apply(b,rt)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function U(h,y){for(let b=1;b<arguments.length;b++){const k=arguments[b];var T=typeof k;if(T=T!="object"?T:k?Array.isArray(k)?"array":T:"null",T=="array"||T=="object"&&typeof k.length=="number"){T=h.length||0;const F=k.length||0;h.length=T+F;for(let rt=0;rt<F;rt++)h[T+rt]=k[rt]}else h.push(k)}}class H{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function X(){var h=w;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,T){const b=Q.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var Q=new H(()=>new ot,h=>h.reset());class ot{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ut=!1,w=new nt,R=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(D)}};function D(){for(var h;h=X();){try{h.h.call(h.g)}catch(T){j(T)}var y=Q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ut=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function Wt(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Wt,M),Wt.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),Y=0;function it(h,y,T,b,k){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=k,this.key=++Y,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function It(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function O(h){const y={};for(const T in h)y[T]=h[T];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,y){let T,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(T in b)h[T]=b[T];for(let F=0;F<W.length;F++)T=W[F],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,y,T,b,k){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const rt=Dt(h,y,b,k);return rt>-1?(y=h[rt],T||(y.fa=!1)):(y=new it(y,this.src,F,!!b,k),y.fa=T,h.push(y)),y};function Et(h,y){const T=y.type;if(T in h.g){var b=h.g[T],k=Array.prototype.indexOf.call(b,y,void 0),F;(F=k>=0)&&Array.prototype.splice.call(b,k,1),F&&(ft(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Dt(h,y,T,b){for(let k=0;k<h.length;++k){const F=h[k];if(!F.da&&F.listener==y&&F.capture==!!T&&F.ha==b)return k}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(h,y,T,b,k){if(Array.isArray(y)){for(let F=0;F<y.length;F++)re(h,y[F],T,b,k);return null}return T=Ro(T),h&&h[he]?h.J(y,T,m(b)?!!b.capture:!1,k):or(h,y,T,!1,b,k)}function or(h,y,T,b,k,F){if(!y)throw Error("Invalid event type");const rt=m(k)?!!k.capture:!!k;let Rt=lr(h);if(Rt||(h[kt]=Rt=new ht(h)),T=Rt.add(y,T,b,rt,F),T.proxy)return T;if(b=ea(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)L||(k=rt),k===void 0&&(k=!1),h.addEventListener(y.toString(),b,k);else if(h.attachEvent)h.attachEvent(oi(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ea(){function h(T){return y.call(h.src,h.listener,T)}const y=So;return h}function na(h,y,T,b,k){if(Array.isArray(y))for(var F=0;F<y.length;F++)na(h,y[F],T,b,k);else b=m(b)?!!b.capture:!!b,T=Ro(T),h&&h[he]?(h=h.i,F=String(y).toString(),F in h.g&&(y=h.g[F],T=Dt(y,T,b,k),T>-1&&(ft(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[F],h.h--)))):h&&(h=lr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Dt(y,T,b,k)),(T=h>-1?y[h]:null)&&ia(T))}function ia(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[he])Et(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(oi(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=lr(y))?(Et(T,h),T.h==0&&(T.src=null,y[kt]=null)):ft(h)}}}function oi(h){return h in Ne?Ne[h]:Ne[h]="on"+h}function So(h,y){if(h.da)h=!0;else{y=new Wt(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&ia(h),h=T.call(b,y)}return h}function lr(h){return h=h[kt],h instanceof ht?h:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(h){return typeof h=="function"?h:(h[bo]||(h[bo]=function(y){return h.handleEvent(y)}),h[bo])}function Ee(){N.call(this),this.i=new ht(this),this.M=this,this.G=null}E(Ee,N),Ee.prototype[he]=!0,Ee.prototype.removeEventListener=function(h,y,T,b){na(this,h,y,T,b)};function Oe(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var k=y;y=new M(b,h),lt(y,k)}k=!0;let F,rt;if(T)for(rt=T.length-1;rt>=0;rt--)F=y.g=T[rt],k=fs(F,b,!0,y)&&k;if(F=y.g=h,k=fs(F,b,!0,y)&&k,k=fs(F,b,!1,y)&&k,T)for(rt=0;rt<T.length;rt++)F=y.g=T[rt],k=fs(F,b,!1,y)&&k}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)ft(T[b]);delete h.g[y],h.h--}}this.G=null},Ee.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},Ee.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function fs(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let F=0;F<y.length;++F){const rt=y[F];if(rt&&!rt.da&&rt.capture==T){const Rt=rt.listener,ge=rt.ha||rt.src;rt.fa&&Et(h.i,rt),k=Rt.call(ge,b)!==!1&&k}}return k&&!b.defaultPrevented}function Wh(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function pu(h){h.g=Wh(()=>{h.g=null,h.i&&(h.i=!1,pu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends N{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(h){N.call(this),this.h=h,this.g={}}E(ur,N);var wo=[];function Co(h){Ct(h.g,function(y,T){this.g.hasOwnProperty(T)&&ia(y)},h),h.g={}}ur.prototype.N=function(){ur.Z.N.call(this),Co(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=c.JSON.stringify,tf=c.JSON.parse,gu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function yu(){}function vu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){M.call(this,"d")}E(He,M);function Cn(){M.call(this,"c")}E(Cn,M);var pe={},_u=null;function sa(){return _u=_u||new Ee}pe.Ia="serverreachability";function Tu(h){M.call(this,pe.Ia,h)}E(Tu,M);function li(h){const y=sa();Oe(y,new Tu(y))}pe.STAT_EVENT="statevent";function cr(h,y){M.call(this,pe.STAT_EVENT,h),this.stat=y}E(cr,M);function Ae(h){const y=sa();Oe(y,new cr(y,h))}pe.Ja="timingevent";function ui(h,y){M.call(this,pe.Ja,h),this.size=y}E(ui,M);function ci(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function ef(h,y,T,b,k,F){h.info(function(){if(h.g)if(F){var rt="",Rt=F.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var ge=Rt[Ht].split("=");if(ge.length>1){const ae=ge[0];ge=ge[1];const Mn=ae.split("_");rt=Mn.length>=2&&Mn[1]=="type"?rt+(ae+"="+ge+"&"):rt+(ae+"=redacted&")}}}else rt=null;else rt=F;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+y+`
`+T+`
`+rt})}function Eu(h,y,T,b,k,F,rt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+y+`
`+T+`
`+F+" "+rt})}function hi(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+nf(h,T)+(b?" "+b:"")})}function hr(h,y){h.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function nf(h,y){if(!h.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var T=F[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var k=b[0];if(k!="noop"&&k!="stop"&&k!="close")for(let rt=1;rt<b.length;rt++)b[rt]=""}}}}return ds(F)}catch{return y}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function dr(){}E(dr,yu),dr.prototype.g=function(){return new XMLHttpRequest},xo=new dr;function Bi(h){return encodeURIComponent(String(h))}function Au(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Qn(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Se={},ke={};function fi(h,y,T){h.M=1,h.A=mr(Re(y)),h.u=T,h.R=!0,ra(h,null)}function ra(h,y){h.F=Date.now(),di(h),h.B=Re(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),ua(T.i,"t",b),h.C=0,T=h.j.L,h.h=new Xn,h.g=Uu(h.j,T?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var k="readystatechange";Array.isArray(k)||(k&&(wo[0]=k.toString()),k=wo);for(let F=0;F<k.length;F++){const rt=re(T,k[F],b||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),li(),ef(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Jn(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=Jn(this.g),ge=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||Rt!=4||ge==7||(ge==8||Ht<=0?li(3):li(2)),mi(this);var y=this.g.ca();this.X=y;var T=sf(this);if(this.o=y==200,Eu(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,k=this.g;if((b=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var F=b;break e}}F=null}if(h=F)hi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,h);else{this.o=!1,this.m=3,Ae(12),vn(this),Dn(this);break t}}if(this.R){h=!0;let ae;for(;!this.K&&this.C<T.length;)if(ae=bu(this,T),ae==ke){Rt==4&&(this.m=4,Ae(14),h=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Se){this.m=4,Ae(15),hi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else hi(this.i,this.l,ae,null),pi(this,ae);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||T.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)hi(this.i,this.l,T,"[Invalid Chunked Response]"),vn(this),Dn(this);else if(T.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Fo(rt),rt.P=!0,Ae(11))}}else hi(this.i,this.l,T,null),pi(this,T);Rt==4&&vn(this),this.o&&!this.K&&(Rt==4?Nu(this.j,this):(this.o=!1,di(this)))}else qi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),vn(this),Dn(this)}}}catch{}finally{}};function sf(h){if(!Su(h))return h.g.la();const y=Fe(h.g);if(y==="")return"";let T="";const b=y.length,k=Jn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return vn(h),Dn(h),"";h.h.i=new c.TextDecoder}for(let F=0;F<b;F++)h.h.h=!0,T+=h.h.i.decode(y[F],{stream:!(k&&F==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Su(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function bu(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?ke:(T=Number(y.substring(T,b)),isNaN(T)?Se:(b+=1,b+T>y.length?ke:(y=y.slice(b,b+T),h.C=b+T,y)))}Qn.prototype.cancel=function(){this.K=!0,vn(this)};function di(h){h.T=Date.now()+h.H,aa(h,h.H)}function aa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ci(g(h.aa,h),y)}function mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(hr(this.i,this.B),this.M!=2&&(li(),Ae(17)),vn(this),this.m=2,Dn(this)):aa(this,this.T-h)};function Dn(h){h.j.I==0||h.K||Nu(h.j,h)}function vn(h){mi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Co(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function pi(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||yi(T.h,h))){if(!h.L&&yi(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)ma(T),Es(T);else break t;Er(T),Ae(18)}}else T.xa=k[1],0<T.xa-T.K&&k[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ci(g(T.Va,T),6e3));gi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Si(T,11)}else if((h.L||T.g==h)&&ma(T),!x(y))for(k=T.Ba.g.parse(y),y=0;y<k.length;y++){let Ht=k[y];const ae=Ht[0];if(!(ae<=T.K))if(T.K=ae,Ht=Ht[1],T.I==2)if(Ht[0]=="c"){T.M=Ht[1],T.ba=Ht[2];const Mn=Ht[3];Mn!=null&&(T.ka=Mn,T.j.info("VER="+T.ka));const bi=Ht[4];bi!=null&&(T.za=bi,T.j.info("SVER="+T.za));const Wn=Ht[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const ti=h.g;if(ti){const Ar=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var F=b.h;F.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Io(F,F.h),F.h=null))}if(b.G){const pa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(b.wa=pa,Kt(b.J,b.G,pa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var rt=h;if(b.na=Lu(b,b.L?b.ba:null,b.W),rt.L){No(b.h,rt);var Rt=rt,ge=b.O;ge&&(Rt.H=ge),Rt.D&&(mi(Rt),di(Rt)),b.g=rt}else Mu(b);T.i.length>0&&Ai(T)}else Ht[0]!="stop"&&Ht[0]!="close"||Si(T,7);else T.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Si(T,7):qo(T):Ht[0]!="noop"&&T.l&&T.l.qa(Ht),T.A=0)}}li(4)}catch{}}var be=class{constructor(h,y){this.g=h,this.map=y}};function Vo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function gi(h){return h.h?1:h.g?h.g.size:0}function yi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Io(h,y){h.g?h.g.add(y):h.h=y}function No(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Vo.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Oo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return C(h.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let k,F=null;b>=0?(k=h[T].substring(0,b),F=h[T].substring(b+1)):k=h[T],y(k,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _n(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof _n?(this.l=h.l,ze(this,h.j),this.o=h.o,this.g=h.g,ms(this,h.u),this.h=h.h,Po(this,xu(h.i)),this.m=h.m):h&&(y=String(h).match(Ru))?(this.l=!1,ze(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),ms(this,y[4]),this.h=vi(y[5]||"",!0),Po(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}_n.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(pr(y,la,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(pr(y,la,!0),"@"),h.push(Bi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(pr(T,T.charAt(0)=="/"?Lo:wu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",pr(T,Cu)),h.join("")},_n.prototype.resolve=function(h){const y=Re(this);let T=!!h.j;T?ze(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)ms(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var k=y.h.lastIndexOf("/");k!=-1&&(b=y.h.slice(0,k+1)+b)}if(k=b,k==".."||k==".")b="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){b=k.lastIndexOf("/",0)==0,k=k.split("/");const F=[];for(let rt=0;rt<k.length;){const Rt=k[rt++];Rt=="."?b&&rt==k.length&&F.push(""):Rt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),b&&rt==k.length&&F.push("")):(F.push(Rt),b=!0)}b=F.join("/")}else b=k}return T?y.h=b:T=h.i.toString()!=="",T?Po(y,xu(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Re(h){return new _n(h)}function ze(h,y,T){h.j=T?vi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ms(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Po(h,y,T){y instanceof gs?(h.i=y,ca(h.i,h.l)):(T||(y=pr(y,ps)),h.i=new gs(y,h.l))}function Kt(h,y,T){h.i.set(y,T)}function mr(h){return Kt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function vi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function pr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,un),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var la=/[#\/\?@]/g,wu=/[#\?:]/g,Lo=/[#\?]/g,ps=/[#\?@]/g,Cu=/#/g;function gs(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function cn(h){h.g||(h.g=new Map,h.h=0,h.i&&oa(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=gs.prototype,n.add=function(h,y){cn(this),this.i=null,h=ys(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Du(h,y){cn(h),y=ys(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Uo(h,y){return cn(h),y=ys(h,y),h.g.has(y)}n.forEach=function(h,y){cn(this),this.g.forEach(function(T,b){T.forEach(function(k){h.call(y,k,b,this)},this)},this)};function ko(h,y){cn(h);let T=[];if(typeof y=="string")Uo(h,y)&&(T=T.concat(h.g.get(ys(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return cn(this),this.i=null,h=ys(this,h),Uo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=ko(this,h),h.length>0?String(h[0]):y):y};function ua(h,y,T){Du(h,y),T.length>0&&(h.i=null,h.g.set(ys(h,y),C(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const k=Bi(T);T=ko(this,T);for(let F=0;F<T.length;F++){let rt=k;T[F]!==""&&(rt+="="+Bi(T[F])),h.push(rt)}}return this.i=h.join("&")};function xu(h){const y=new gs;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ys(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ca(h,y){y&&!h.j&&(cn(h),h.i=null,h.g.forEach(function(T,b){const k=b.toLowerCase();b!=k&&(Du(this,b),ua(this,k,T))},h)),h.j=y}function Zn(h,y){const T=new Yn;if(c.Image){const b=new Image;b.onload=v(xn,T,"TestLoadImage: loaded",!0,y,b),b.onerror=v(xn,T,"TestLoadImage: error",!1,y,b),b.onabort=v(xn,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(xn,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function zo(h,y){const T=new Yn,b=new AbortController,k=setTimeout(()=>{b.abort(),xn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(F=>{clearTimeout(k),F.ok?xn(T,"TestPingServer: ok",!0,y):xn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),xn(T,"TestPingServer: error",!1,y)})}function xn(h,y,T,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(T)}catch{}}function vs(){this.g=new gu}function _i(h){this.i=h.Sb||null,this.h=h.ab||!1}E(_i,yu),_i.prototype.g=function(){return new gr(this.i,this.h)};function gr(h,y){Ee.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(gr,Ee),n=gr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,$n(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?_s(this):$n(this),this.readyState==3&&ha(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,_s(this))},n.Na=function(h){this.g&&(this.response=h,_s(this))},n.ga=function(){this.g&&_s(this)};function _s(h){h.readyState=4,h.l=null,h.j=null,h.B=null,$n(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function $n(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vn(h){let y="";return Ct(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function yr(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Vn(T),typeof h=="string"?T!=null&&Bi(T):Kt(h,y,T))}function Xt(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Xt,Ee);var Ti=/^https?$/i,Bo=["POST","PUT"];n=Xt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(F){vr(this,F);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)T.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())T.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(F=>F.toLowerCase()=="content-type"),k=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Bo,y,void 0)>=0)||b||k||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,rt]of T)this.g.setRequestHeader(F,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){vr(this,F)}};function vr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,jo(h),ji(h)}function jo(h){h.A||(h.A=!0,Oe(h,"complete"),Oe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Oe(this,"complete"),Oe(this,"abort"),ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Xt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},n.Xa=function(){_r(this)};function _r(h){if(h.h&&typeof u<"u"){if(h.v&&Jn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Oe(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const F=h.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=F===0){let rt=String(h.D).match(Ru)[1]||null;!rt&&c.self&&c.self.location&&(rt=c.self.location.protocol.slice(0,-1)),b=!Ti.test(rt?rt.toLowerCase():"")}T=b}if(T)Oe(h,"complete"),Oe(h,"success");else{h.o=6;try{var k=Jn(h)>2?h.g.statusText:""}catch{k=""}h.l=k+" ["+h.ca()+"]",jo(h)}}finally{ji(h)}}}}function ji(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Oe(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),tf(y)}};function Fe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(h){const y={};h=(h.g&&Jn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(x(h[b]))continue;var T=Au(h[b]);const k=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const F=y[k]||[];y[k]=F,F.push(T)}It(y,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ts(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,h),this.Za=Ei("retryDelaySeedMs",1e4,h),this.Ta=Ei("forwardChannelMaxRetries",2,h),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(h&&h.concurrentRequestLimit),this.Ba=new vs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ts.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,b){Ae(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=Lu(this,null,this.W),Ai(this)};function qo(h){if(fa(h),h.I==3){var y=h.V++,T=Re(h.J);if(Kt(T,"SID",h.M),Kt(T,"RID",y),Kt(T,"TYPE","terminate"),Tr(h,T),y=new Qn(h,h.j,y),y.M=2,y.A=mr(Re(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Uu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}Pu(h)}function Es(h){h.g&&(Fo(h),h.g.cancel(),h.g=null)}function fa(h){Es(h),h.v&&(c.clearTimeout(h.v),h.v=null),ma(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ai(h){if(!Mo(h.h)&&!h.m){h.m=!0;var y=h.Ea;at||R(),ut||(at(),ut=!0),w.add(y,h),h.D=0}}function da(h,y){return gi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ci(g(h.Ea,h,y),Ou(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const k=new Qn(this,this.j,h);let F=this.o;if(this.U&&(F?(F=O(F),lt(F,this.U)):F=this.U),this.u!==null||this.R||(k.J=F,F=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=Vu(this,k,y),T=Re(this.J),Kt(T,"RID",h),Kt(T,"CVER",22),this.G&&Kt(T,"X-HTTP-Session-Id",this.G),Tr(this,T),F&&(this.R?y="headers="+Bi(Vn(F))+"&"+y:this.u&&yr(T,this.u,F)),Io(this.h,k),this.Ra&&Kt(T,"TYPE","init"),this.S?(Kt(T,"$req",y),Kt(T,"SID","null"),k.U=!0,fi(k,T,null)):fi(k,T,y),this.I=2}}else this.I==3&&(h?Ho(this,h):this.i.length==0||Mo(this.h)||Ho(this))};function Ho(h,y){var T;y?T=y.l:T=h.V++;const b=Re(h.J);Kt(b,"SID",h.M),Kt(b,"RID",T),Kt(b,"AID",h.K),Tr(h,b),h.u&&h.o&&yr(b,h.u,h.o),T=new Qn(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Vu(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Io(h.h,T),fi(T,b,y)}function Tr(h,y){h.H&&Ct(h.H,function(T,b){Kt(y,b,T)}),h.l&&Ct({},function(T,b){Kt(y,b,T)})}function Vu(h,y,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var k=h.i;let Rt=-1;for(;;){const ge=["count="+T];Rt==-1?T>0?(Rt=k[0].g,ge.push("ofs="+Rt)):Rt=0:ge.push("ofs="+Rt);let Ht=!0;for(let ae=0;ae<T;ae++){var F=k[ae].g;const Mn=k[ae].map;if(F-=Rt,F<0)Rt=Math.max(0,k[ae].g-100),Ht=!1;else try{F="req"+F+"_"||"";try{var rt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[bi,Wn]of rt){let ti=Wn;m(Wn)&&(ti=ds(Wn)),ge.push(F+bi+"="+encodeURIComponent(ti))}}catch(bi){throw ge.push(F+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Mn)}}if(Ht){rt=ge.join("&");break t}}rt=void 0}return h=h.i.splice(0,T),y.G=h,rt}function Mu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;at||R(),ut||(at(),ut=!0),w.add(y,h),h.A=0}}function Er(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ci(g(h.Da,h),Ou(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ci(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Es(this),Iu(this))};function Fo(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Iu(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Re(h.na);Kt(y,"RID","rpc"),Kt(y,"SID",h.M),Kt(y,"AID",h.K),Kt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Kt(y,"TO",h.ia),Kt(y,"TYPE","xmlhttp"),Tr(h,y),h.u&&h.o&&yr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=mr(Re(y)),T.u=null,T.R=!0,ra(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Es(this),Er(this),Ae(19))};function ma(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Nu(h,y){var T=null;if(h.g==y){ma(h),Fo(h),h.g=null;var b=2}else if(yi(h.h,y))T=y.G,No(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var k=h.D;b=sa(),Oe(b,new ui(b,T)),Ai(h)}else Mu(h);else if(k=y.m,k==3||k==0&&y.X>0||!(b==1&&da(h,y)||b==2&&Er(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),k){case 1:Si(h,5);break;case 4:Si(h,10);break;case 3:Si(h,6);break;default:Si(h,2)}}}function Ou(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Si(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),b=h.Ua;const k=!b;b=new _n(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ze(b,"https"),mr(b),k?Zn(b.toString(),T):zo(b.toString(),T)}else Ae(2);h.I=0,h.l&&h.l.pa(y),Pu(h),fa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Pu(h){if(h.I=0,h.ja=[],h.l){const y=Oo(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Lu(h,y,T){var b=T instanceof _n?Re(T):new _n(T);if(b.g!="")y&&(b.g=y+"."+b.g),ms(b,b.u);else{var k=c.location;b=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const F=new _n(null);b&&ze(F,b),y&&(F.g=y),k&&ms(F,k),T&&(F.h=T),b=F}return T=h.G,y=h.wa,T&&y&&Kt(b,T,y),Kt(b,"VER",h.ka),Tr(h,b),b}function Uu(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Xt(new _i({ab:T})):new Xt(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}n=ku.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function As(){}As.prototype.g=function(h,y){return new an(h,y)};function an(h,y){Ee.call(this),this.g=new Ts(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!x(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Hi(this)}E(an,Ee),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){qo(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=ds(h),h=T);y.i.push(new be(y.Ya++,h)),y.I==3&&Ai(y)},an.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,an.Z.N.call(this)};function zu(h){He.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(zu,He);function Bu(){Cn.call(this),this.status=1}E(Bu,Cn);function Hi(h){this.g=h}E(Hi,ku),Hi.prototype.ra=function(){Oe(this.g,"a")},Hi.prototype.qa=function(h){Oe(this.g,new zu(h))},Hi.prototype.pa=function(h){Oe(this.g,new Bu)},Hi.prototype.oa=function(){Oe(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,IA=function(){return new As},MA=function(){return sa()},VA=pe,ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,sh=fr,Do.COMPLETE="complete",xA=Do,vu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Ml=vu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,DA=Xt}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const MT="@firebase/firestore",IT="4.9.2";class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let _o="12.3.0";const Qr=new yA("@firebase/firestore");function Ga(){return Qr.logLevel}function ct(n,...t){if(Qr.logLevel<=Bt.DEBUG){const i=t.map(tg);Qr.debug(`Firestore (${_o}): ${n}`,...i)}}function cs(n,...t){if(Qr.logLevel<=Bt.ERROR){const i=t.map(tg);Qr.error(`Firestore (${_o}): ${n}`,...i)}}function oo(n,...t){if(Qr.logLevel<=Bt.WARN){const i=t.map(tg);Qr.warn(`Firestore (${_o}): ${n}`,...i)}}function tg(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function _t(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,NA(n,r,i)}function NA(n,t,i){let r=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw cs(r),new Error(r)}function Gt(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||NA(t,o,r)}function bt(n,t){return n}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Zr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class OA{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class uM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class cM{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rs,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rs)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new OA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class hM{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new hM(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dM{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,EA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new NT(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}class eg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=mM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Pt(n,t){return n<t?-1:n>t?1:0}function np(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Sm(o)===Sm(u)?Pt(o,u):Sm(o)?1:-1}return Pt(n.length,t.length)}const pM=55296,gM=57343;function Sm(n){const t=n.charCodeAt(0);return t>=pM&&t<=gM}function lo(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}const OT="__name__";class xi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=xi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Pt(t.length,i.length)}static compareSegments(t,i){const r=xi.isNumericId(t),o=xi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(t).compare(xi.extractNumericId(i)):np(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class ie extends xi{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new pt(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const yM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends xi{construct(t,i,r){return new $e(t,i,r)}static isValidIdentifier(t){return yM.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OT}static keyField(){return new $e([OT])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new pt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new pt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new pt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ie.fromString(t))}static fromName(t){return new yt(ie.fromString(t).popFirst(5))}static empty(){return new yt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ie(t.slice()))}}function PA(n,t,i){if(!i)throw new pt(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function vM(n,t,i,r){if(t===!0&&r===!0)throw new pt(et.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function PT(n){if(!yt.isDocumentKey(n))throw new pt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LT(n){if(yt.isDocumentKey(n))throw new pt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ng(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":_t(12329,{type:typeof n})}function uo(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ng(n);throw new pt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function Ie(n,t){const i={typeString:n};return t&&(i.value=t),i}function cu(n,t){if(!LA(n))throw new pt(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new pt(et.INVALID_ARGUMENT,i);return!0}const UT=-62135596800,kT=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*kT);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new pt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<UT)throw new pt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kT}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-UT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new se(0,0))}static max(){return new At(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function _M(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=At.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new tr(o,yt.empty(),t)}function TM(n){return new tr(n.readTime,n.key,Wl)}class tr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new tr(At.min(),yt.empty(),Wl)}static max(){return new tr(At.max(),yt.empty(),Wl)}}function EM(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(n.documentKey,t.documentKey),i!==0?i:Pt(n.largestBatchId,t.largestBatchId))}const AM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function To(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==AM)throw n;ct("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new tt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):tt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):tt.reject(i)}static resolve(t){return new tt(((i,r)=>{i(t)}))}static reject(t){return new tt(((i,r)=>{r(t)}))}static waitFor(t){return new tt(((i,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&i()}),(p=>r(p)))})),c=!0,u===o&&i()}))}static or(t){let i=tt.resolve(!1);for(const r of t)i=i.next((o=>o?tt.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new tt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new tt(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function bM(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Eo(n){return n.name==="IndexedDbTransactionError"}class Uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Uh.ce=-1;const ig=-1;function kh(n){return n==null}function vh(n){return n===0&&1/n==-1/0}function RM(n){return typeof n=="number"&&Number.isInteger(n)&&!vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const UA="";function wM(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=zT(t)),t=CM(n.get(i),t);return zT(t)}function CM(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case UA:i+="";break;default:i+=u}}return i}function zT(n){return n+UA+""}function BT(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function $r(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function kA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xc(this.root,t,this.comparator,!0)}}class Xc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Ze(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(t){return new jT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class jT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new ri([])}unionWith(t){let i=new Ue($e.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new ri(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class zA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zA("Invalid base64 string: "+u):u}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const DM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(n){if(Gt(!!n,39018),typeof n=="string"){let t=0;const i=DM.exec(n);if(Gt(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function nr(n){return typeof n=="string"?Je.fromBase64String(n):Je.fromUint8Array(n)}const BA="server_timestamp",jA="__type__",qA="__previous_value__",HA="__local_write_time__";function sg(n){return(n?.mapValue?.fields||{})[jA]?.stringValue===BA}function zh(n){const t=n.mapValue.fields[qA];return sg(t)?zh(t):t}function tu(n){const t=er(n.mapValue.fields[HA].timestampValue);return new se(t.seconds,t.nanos)}class xM{constructor(t,i,r,o,u,c,m,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const _h="(default)";class eu{constructor(t,i){this.projectId=t,this.database=i||_h}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(t){return t instanceof eu&&t.projectId===this.projectId&&t.database===this.database}}const FA="__type__",VM="__max__",Zc={mapValue:{}},GA="__vector__",Th="value";function ir(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sg(n)?4:IM(n)?9007199254740991:MM(n)?10:11:_t(28295,{value:n})}function Li(n,t){if(n===t)return!0;const i=ir(n);if(i!==ir(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tu(n).isEqual(tu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=er(o.timestampValue),m=er(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return nr(o.bytesValue).isEqual(nr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Te(o.doubleValue),m=Te(u.doubleValue);return c===m?vh(c)===vh(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return lo(n.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(BT(c)!==BT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Li(c[p],m[p])))return!1;return!0})(n,t);default:return _t(52216,{left:n})}}function nu(n,t){return(n.values||[]).find((i=>Li(i,t)))!==void 0}function co(n,t){if(n===t)return 0;const i=ir(n),r=ir(t);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Te(u.integerValue||u.doubleValue),p=Te(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return qT(n.timestampValue,t.timestampValue);case 4:return qT(tu(n),tu(t));case 5:return np(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=nr(u),p=nr(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Pt(m[g],p[g]);if(v!==0)return v}return Pt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Pt(Te(u.latitude),Te(c.latitude));return m!==0?m:Pt(Te(u.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return HT(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Th]?.arrayValue,v=p[Th]?.arrayValue,E=Pt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:HT(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Zc.mapValue&&c===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(c===Zc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=np(p[E],v[E]);if(A!==0)return A;const C=co(m[p[E]],g[v[E]]);if(C!==0)return C}return Pt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function qT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const i=er(n),r=er(t),o=Pt(i.seconds,r.seconds);return o!==0?o:Pt(i.nanos,r.nanos)}function HT(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=co(i[o],r[o]);if(u)return u}return Pt(i.length,r.length)}function ho(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=er(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return nr(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return yt.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=ip(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${ip(i.fields[c])}`;return o+"}"})(n.mapValue):_t(61005,{value:n})}function rh(n){switch(ir(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zh(n);return t?16+rh(t):16;case 5:return 2*n.stringValue.length;case 6:return nr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+rh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return $r(r.fields,((u,c)=>{o+=u.length+rh(c)})),o})(n.mapValue);default:throw _t(13486,{value:n})}}function sp(n){return!!n&&"integerValue"in n}function rg(n){return!!n&&"arrayValue"in n}function FT(n){return!!n&&"nullValue"in n}function GT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ah(n){return!!n&&"mapValue"in n}function MM(n){return(n?.mapValue?.fields||{})[FA]?.stringValue===GA}function jl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return $r(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=jl(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=jl(n.arrayValue.values[i]);return t}return{...n}}function IM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VM}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!ah(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=jl(i)}setAll(t){let i=$e.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}c?r[m.lastSegment()]=jl(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());ah(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){$r(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new qn(jl(this.value))}}function KA(n){const t=[];return $r(n.fields,((i,r)=>{const o=new $e([i]);if(ah(r)){const u=KA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ri(t)}class nn{constructor(t,i,r,o,u,c,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new nn(t,0,At.min(),At.min(),At.min(),qn.empty(),0)}static newFoundDocument(t,i,r,o){return new nn(t,1,i,At.min(),r,o,0)}static newNoDocument(t,i){return new nn(t,2,i,At.min(),At.min(),qn.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,At.min(),At.min(),qn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Eh{constructor(t,i){this.position=t,this.inclusive=i}}function KT(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),i.key):r=co(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function YT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Li(n.position[i],t.position[i]))return!1;return!0}class Ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function NM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class YA{}class Le extends YA{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new PM(t,i,r):i==="array-contains"?new kM(t,r):i==="in"?new zM(t,r):i==="not-in"?new BM(t,r):i==="array-contains-any"?new jM(t,r):new Le(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new LM(t,r):new UM(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(co(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(co(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends YA{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return QA(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QA(n){return n.op==="and"}function XA(n){return OM(n)&&QA(n)}function OM(n){for(const t of n.filters)if(t instanceof Ui)return!1;return!0}function rp(n){if(n instanceof Le)return n.field.canonicalString()+n.op.toString()+ho(n.value);if(XA(n))return n.filters.map((t=>rp(t))).join(",");{const t=n.filters.map((i=>rp(i))).join(",");return`${n.op}(${t})`}}function ZA(n,t){return n instanceof Le?(function(r,o){return o instanceof Le&&r.op===o.op&&r.field.isEqual(o.field)&&Li(r.value,o.value)})(n,t):n instanceof Ui?(function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&ZA(c,o.filters[m])),!0):!1})(n,t):void _t(19439)}function $A(n){return n instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${ho(i.value)}`})(n):n instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map($A).join(" ,")+"}"})(n):"Filter"}class PM extends Le{constructor(t,i,r){super(t,i,r),this.key=yt.fromName(r.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class LM extends Le{constructor(t,i){super(t,"in",i),this.keys=JA("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class UM extends Le{constructor(t,i){super(t,"not-in",i),this.keys=JA("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function JA(n,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class kM extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return rg(i)&&nu(i.arrayValue,this.value)}}class zM extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&nu(this.value.arrayValue,i)}}class BM extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!nu(this.value.arrayValue,i)}}class jM extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!rg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>nu(this.value.arrayValue,r)))}}class qM{constructor(t,i=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function QT(n,t=null,i=[],r=[],o=null,u=null,c=null){return new qM(n,t,i,r,o,u,c)}function ag(n){const t=bt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>rp(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),kh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>ho(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>ho(r))).join(",")),t.Te=i}return t.Te}function og(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!NM(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!ZA(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YT(n.startAt,t.startAt)&&YT(n.endAt,t.endAt)}function ap(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Bh{constructor(t,i=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HM(n,t,i,r,o,u,c,m){return new Bh(n,t,i,r,o,u,c,m)}function lg(n){return new Bh(n)}function XT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function FM(n){return n.collectionGroup!==null}function ql(n){const t=bt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ue($e.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ah(u,r))})),i.has($e.keyField().canonicalString())||t.Ie.push(new Ah($e.keyField(),r))}return t.Ie}function Ii(n){const t=bt(n);return t.Ee||(t.Ee=GM(t,ql(n))),t.Ee}function GM(n,t){if(n.limitType==="F")return QT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)}));const i=n.endAt?new Eh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eh(n.startAt.position,n.startAt.inclusive):null;return QT(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function op(n,t,i){return new Bh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function jh(n,t){return og(Ii(n),Ii(t))&&n.limitType===t.limitType}function WA(n){return`${ag(Ii(n))}|lt:${n.limitType}`}function Ka(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>$A(o))).join(", ")}]`),kh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>ho(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>ho(o))).join(",")),`Target(${r})`})(Ii(n))}; limitType=${n.limitType})`}function qh(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):yt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of ql(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=KT(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,ql(r),o)||r.endAt&&!(function(c,m,p){const g=KT(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,ql(r),o))})(n,t)}function KM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tS(n){return(t,i)=>{let r=!1;for(const o of ql(n)){const u=YM(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function YM(n,t,i){const r=n.field.isKeyField()?yt.comparator(t.key,i.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?co(p,g):_t(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:n.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$r(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}const QM=new ce(yt.comparator);function hs(){return QM}const eS=new ce(yt.comparator);function Il(...n){let t=eS;for(const i of n)t=t.insert(i.key,i);return t}function nS(n){let t=eS;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Fr(){return Hl()}function iS(){return Hl()}function Hl(){return new Jr((n=>n.toString()),((n,t)=>n.isEqual(t)))}const XM=new ce(yt.comparator),ZM=new Ue(yt.comparator);function Lt(...n){let t=ZM;for(const i of n)t=t.add(i);return t}const $M=new Ue(Pt);function JM(){return $M}function ug(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(t)?"-0":t}}function sS(n){return{integerValue:""+n}}function WM(n,t){return RM(t)?sS(t):ug(n,t)}class Hh{constructor(){this._=void 0}}function tI(n,t,i){return n instanceof Sh?(function(o,u){const c={fields:{[jA]:{stringValue:BA},[HA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sg(u)&&(u=zh(u)),u&&(c.fields[qA]=u),{mapValue:c}})(i,t):n instanceof iu?aS(n,t):n instanceof su?oS(n,t):(function(o,u){const c=rS(o,u),m=ZT(c)+ZT(o.Ae);return sp(c)&&sp(o.Ae)?sS(m):ug(o.serializer,m)})(n,t)}function eI(n,t,i){return n instanceof iu?aS(n,t):n instanceof su?oS(n,t):i}function rS(n,t){return n instanceof bh?(function(r){return sp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Sh extends Hh{}class iu extends Hh{constructor(t){super(),this.elements=t}}function aS(n,t){const i=lS(t);for(const r of n.elements)i.some((o=>Li(o,r)))||i.push(r);return{arrayValue:{values:i}}}class su extends Hh{constructor(t){super(),this.elements=t}}function oS(n,t){let i=lS(t);for(const r of n.elements)i=i.filter((o=>!Li(o,r)));return{arrayValue:{values:i}}}class bh extends Hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function ZT(n){return Te(n.integerValue||n.doubleValue)}function lS(n){return rg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nI(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof iu&&o instanceof iu||r instanceof su&&o instanceof su?lo(r.elements,o.elements,Li):r instanceof bh&&o instanceof bh?Li(r.Ae,o.Ae):r instanceof Sh&&o instanceof Sh})(n.transform,t.transform)}class iI{constructor(t,i){this.version=t,this.transformResults=i}}class as{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new as}static exists(t){return new as(void 0,t)}static updateTime(t){return new as(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Fh{}function uS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new hS(n.key,as.none()):new hu(n.key,n.data,as.none());{const i=n.data,r=qn.empty();let o=new Ue($e.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new Wr(n.key,r,new ri(o.toArray()),as.none())}}function sI(n,t,i){n instanceof hu?(function(o,u,c){const m=o.value.clone(),p=JT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,i):n instanceof Wr?(function(o,u,c){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=JT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(cS(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function Fl(n,t,i,r){return n instanceof hu?(function(u,c,m,p){if(!oh(u.precondition,c))return m;const g=u.value.clone(),v=WT(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,i,r):n instanceof Wr?(function(u,c,m,p){if(!oh(u.precondition,c))return m;const g=WT(u.fieldTransforms,p,c),v=c.data;return v.setAll(cS(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,t,i,r):(function(u,c,m){return oh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,i)}function rI(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=rS(r.transform,o||null);u!=null&&(i===null&&(i=qn.empty()),i.set(r.field,u))}return i||null}function $T(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&lo(r,o,((u,c)=>nI(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class hu extends Fh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wr extends Fh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cS(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function JT(n,t,i){const r=new Map;Gt(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,eI(c,m,i[o]))}return r}function WT(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,tI(u,c,t))}return r}class hS extends Fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends Fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oI{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&sI(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Fl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Fl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=iS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=i.has(o.key)?null:m;const p=uS(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((i,r)=>$T(i,r)))&&lo(this.baseMutations,t.baseMutations,((i,r)=>$T(i,r)))}}class cg{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return XM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new cg(t,i,r,o)}}class lI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ve,zt;function cI(n){switch(n){case et.OK:return _t(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return _t(15467,{code:n})}}function fS(n){if(n===void 0)return cs("GRPC error has no .code"),et.UNKNOWN;switch(n){case Ve.OK:return et.OK;case Ve.CANCELLED:return et.CANCELLED;case Ve.UNKNOWN:return et.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return et.INTERNAL;case Ve.UNAVAILABLE:return et.UNAVAILABLE;case Ve.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ve.NOT_FOUND:return et.NOT_FOUND;case Ve.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ve.ABORTED:return et.ABORTED;case Ve.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ve.DATA_LOSS:return et.DATA_LOSS;default:return _t(39323,{code:n})}}(zt=Ve||(Ve={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function hI(){return new TextEncoder}const fI=new Zs([4294967295,4294967295],0);function tE(n){const t=hI().encode(n),i=new CA;return i.update(t),new Uint8Array(i.digest())}function eE(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zs([i,r],0),new Zs([o,u],0)]}class hg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zs.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Zs.fromNumber(r)));return o.compare(fI)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=tE(t),[r,o]=eE(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new hg(u,o,i);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const i=tE(t),[r,o]=eE(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.Se(c)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,fu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Gh(At.min(),o,new ce(Pt),hs(),Lt())}}class fu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new fu(r,i,Lt(),Lt(),Lt())}}class lh{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class dS{constructor(t,i){this.targetId=t,this.Ce=i}}class mS{constructor(t,i,r=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class nE{constructor(){this.ve=0,this.Fe=iE(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:u})}})),new fu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=iE()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dI{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.Je=$c(),this.He=$c(),this.Ye=new ce(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(ap(u))if(r===0){const c=new yt(u.path);this.et(i,c,nn.newNoDocument(c,At.min()))}else Gt(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,m;try{c=nr(r).toUint8Array()}catch(p){if(p instanceof zA)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new hg(c,o,u)}catch(p){return oo(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&ap(m.target)){const p=new yt(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,t))}u.Be&&(i.set(c,u.ke()),u.qe())}}));let r=Lt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new Gh(t,i,this.Ye,this.je,r);return this.je=hs(),this.Je=$c(),this.He=$c(),this.Ye=new ce(Pt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new nE,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ue(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ue(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function $c(){return new ce(yt.comparator)}function iE(){return new ce(yt.comparator)}const mI={asc:"ASCENDING",desc:"DESCENDING"},pI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gI={and:"AND",or:"OR"};class yI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lp(n,t){return n.useProto3Json||kh(t)?t:{value:t}}function Rh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function vI(n,t){return Rh(n,t.toTimestamp())}function Ni(n){return Gt(!!n,49232),At.fromTimestamp((function(i){const r=er(i);return new se(r.seconds,r.nanos)})(n))}function fg(n,t){return up(n,t).canonicalString()}function up(n,t){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function gS(n){const t=ie.fromString(n);return Gt(ES(t),10190,{key:t.toString()}),t}function cp(n,t){return fg(n.databaseId,t.path)}function bm(n,t){const i=gS(t);if(i.get(1)!==n.databaseId.projectId)throw new pt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new pt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new yt(vS(i))}function yS(n,t){return fg(n.databaseId,t)}function _I(n){const t=gS(n);return t.length===4?ie.emptyPath():vS(t)}function hp(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vS(n){return Gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sE(n,t,i){return{name:cp(n,t),fields:i.value.mapValue.fields}}function TI(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Gt(v===void 0||typeof v=="string",58123),Je.fromBase64String(v||"")):(Gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Je.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?et.UNKNOWN:fS(g.code);return new pt(v,g.message||"")})(c);i=new mS(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=bm(n,r.document.name),u=Ni(r.document.updateTime),c=r.document.createTime?Ni(r.document.createTime):At.min(),m=new qn({mapValue:{fields:r.document.fields}}),p=nn.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];i=new lh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=bm(n,r.document),u=r.readTime?Ni(r.readTime):At.min(),c=nn.newNoDocument(o,u),m=r.removedTargetIds||[];i=new lh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=bm(n,r.document),u=r.removedTargetIds||[];i=new lh([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new uI(o,u),m=r.targetId;i=new dS(m,c)}}return i}function EI(n,t){let i;if(t instanceof hu)i={update:sE(n,t.key,t.value)};else if(t instanceof hS)i={delete:cp(n,t.key)};else if(t instanceof Wr)i={update:sE(n,t.key,t.data),updateMask:VI(t.fieldMask)};else{if(!(t instanceof aI))return _t(16599,{Vt:t.type});i={verify:cp(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof Sh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw _t(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:vI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(n,t.precondition)),i}function AI(n,t){return n&&n.length>0?(Gt(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?Ni(o.updateTime):Ni(u);return c.isEqual(At.min())&&(c=Ni(u)),new iI(c,o.transformResults||[])})(i,t)))):[]}function SI(n,t){return{documents:[yS(n,t.path)]}}function bI(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=yS(n,o);const u=(function(g){if(g.length!==0)return TS(Ui.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:Ya(A.field),direction:CI(A.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const m=lp(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:o}}function RI(n){let t=_I(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(E){const A=_S(E);return A instanceof Ui&&XA(A)?A.getFilters():[A]})(i.where));let c=[];i.orderBy&&(c=(function(E){return E.map((A=>(function(U){return new Ah(Qa(U.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(i.orderBy));let m=null;i.limit&&(m=(function(E){let A;return A=typeof E=="object"?E.value:E,kh(A)?null:A})(i.limit));let p=null;i.startAt&&(p=(function(E){const A=!!E.before,C=E.values||[];return new Eh(C,A)})(i.startAt));let g=null;return i.endAt&&(g=(function(E){const A=!E.before,C=E.values||[];return new Eh(C,A)})(i.endAt)),HM(t,o,c,u,m,"F",p,g)}function wI(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function _S(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qa(i.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return Le.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(i.unaryFilter.field);return Le.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qa(i.unaryFilter.field);return Le.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(n):n.fieldFilter!==void 0?(function(i){return Le.create(Qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((r=>_S(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(n):_t(30097,{filter:n})}function CI(n){return mI[n]}function DI(n){return pI[n]}function xI(n){return gI[n]}function Ya(n){return{fieldPath:n.canonicalString()}}function Qa(n){return $e.fromServerFormat(n.fieldPath)}function TS(n){return n instanceof Le?(function(i){if(i.op==="=="){if(GT(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(FT(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(GT(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(FT(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:DI(i.op),value:i.value}}})(n):n instanceof Ui?(function(i){const r=i.getFilters().map((o=>TS(o)));return r.length===1?r[0]:{compositeFilter:{op:xI(i.op),filters:r}}})(n):_t(54877,{filter:n})}function VI(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ES(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ks{constructor(t,i,r,o,u=At.min(),c=At.min(),m=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class MI{constructor(t){this.yt=t}}function II(n){const t=RI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?op(t,t.limit,"L"):t}class NI{constructor(){this.Cn=new OI}addToCollectionParentIndex(t,i){return this.Cn.add(i),tt.resolve()}getCollectionParents(t,i){return tt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return tt.resolve()}deleteFieldIndex(t,i){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,i){return tt.resolve()}getDocumentsMatchingTarget(t,i){return tt.resolve(null)}getIndexType(t,i){return tt.resolve(0)}getFieldIndexes(t,i){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,i){return tt.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,i){return tt.resolve(tr.min())}updateCollectionGroup(t,i,r){return tt.resolve()}updateIndexEntries(t,i){return tt.resolve()}}class OI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ue(ie.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ue(ie.comparator)).toArray()}}const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(AS,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class fo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const aE="LruGarbageCollector",PI=1048576;function oE([n,t],[i,r]){const o=Pt(n,i);return o===0?Pt(t,r):o}class LI{constructor(t){this.Ir=t,this.buffer=new Ue(oE),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();oE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class UI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(aE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Eo(i)?ct(aE,"Ignoring IndexedDB error during garbage collection: ",i):await To(i)}await this.Vr(3e5)}))}}class kI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return tt.resolve(Uh.ce);const r=new LI(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(rE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,i)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(g=Date.now(),Ga()<=Bt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function zI(n,t){return new kI(n,t)}class BI{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?tt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class qI{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Fl(r.mutation,o,ri.empty(),se.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Lt()){const o=Fr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=Il();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=Fr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Lt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{i.set(c,m)}))}))}computeViews(t,i,r,o){let u=hs();const c=Hl(),m=(function(){return Hl()})();return i.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Wr)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Fl(v.mutation,g,v.mutation.getFieldMask(),se.now())):c.set(g.key,ri.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),i.forEach(((g,v)=>m.set(g,new jI(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,i){const r=Hl();let o=new ce(((c,m)=>c-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||ri.empty();v=m.applyToLocalView(g,v),r.set(p,v);const E=(o.get(m.batchId)||Lt()).add(p);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=iS();v.forEach((A=>{if(!u.has(A)){const C=uS(i.get(A),r.get(A));C!==null&&E.set(A,C),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return tt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):FM(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):tt.resolve(Fr());let m=Wl,p=u;return c.next((g=>tt.forEach(g,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?tt.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Lt()))).next((v=>({batchId:m,changes:nS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((r=>{let o=Il();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=Il();return this.indexManager.getCollectionParents(t,u).next((m=>tt.forEach(m,(p=>{const g=(function(E,A){return new Bh(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))}));let m=Il();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Fl(v.mutation,g,ri.empty(),se.now()),qh(i,g)&&(m=m.insert(p,g))})),m}))}}class HI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return tt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(i)),tt.resolve()}getNamedQuery(t,i){return tt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:II(o.bundledQuery),readTime:Ni(o.readTime)}})(i)),tt.resolve()}}class FI{constructor(){this.overlays=new ce(yt.comparator),this.qr=new Map}getOverlay(t,i){return tt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Fr();return tt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.St(t,i,u)})),tt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),tt.resolve()}getOverlaysForCollection(t,i,r){const o=Fr(),u=i.length+1,c=new yt(i.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ce(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Fr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Fr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return tt.resolve(m)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new lI(i,r));let u=this.qr.get(i);u===void 0&&(u=Lt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class GI{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,tt.resolve()}}class dg{constructor(){this.Qr=new Ue(je.$r),this.Ur=new Ue(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new je(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new je(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new yt(new ie([])),r=new je(i,t),o=new je(i,t+1),u=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new ie([])),r=new je(i,t),o=new je(i,t+1);let u=Lt();return this.Ur.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new je(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class KI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(je.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new oI(u,i,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(c)}lookupMutationBatch(t,i){return tt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ue(Pt);return i.forEach((o=>{const u=new je(o,0),c=new je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{r=r.add(m.Yr)}))})),tt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const c=new je(new yt(u),0);let m=new Ue(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),tt.resolve(this.ti(m))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return tt.forEach(i.mutations,(o=>{const u=new je(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new je(i,0),o=this.Zr.firstAfterOrEqual(r);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class YI{constructor(t){this.ri=t,this.docs=(function(){return new ce(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return tt.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let r=hs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),tt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=hs();const c=i.path,m=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||EM(TM(v),r)<=0||(o.has(v.key)||qh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){_t(9500)}ii(t,i){return tt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new QI(this)}getSize(t){return tt.resolve(this.size)}}class QI extends BI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),tt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class XI{constructor(t){this.persistence=t,this.si=new Jr((i=>ag(i)),og),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=fo.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),tt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,tt.resolve()}updateTargetData(t,i){return this.Pr(i),tt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return tt.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),tt.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),tt.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return tt.resolve(r)}containsKey(t,i){return tt.resolve(this._i.containsKey(i))}}class SS{constructor(t,i){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new GI,this.referenceDelegate=t(this),this.Pi=new XI(this),this.indexManager=new NI,this.remoteDocumentCache=(function(o){return new YI(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new MI(i),this.Ii=new HI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new FI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new KI(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ct("MemoryPersistence","Starting transaction:",t);const o=new ZI(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return tt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class ZI extends SM{constructor(t){super(),this.currentSequenceNumber=t}}class mg{constructor(t){this.persistence=t,this.Ri=new dg,this.Vi=null}static mi(t){return new mg(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),tt.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),tt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(r=>{const o=yt.fromPath(r);return this.gi(t,o).next((u=>{u||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class wh{constructor(t,i){this.persistence=t,this.pi=new Jr((r=>wM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=zI(this,i)}static mi(t,i){return new wh(t,i)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return tt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?tt.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,i).next((m=>{m||(r++,u.removeEntry(c,At.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),tt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),tt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=rh(t.data.value)),i}br(t,i,r){return tt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return tt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class pg{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Lt(),o=Lt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pg(t,i.fromCache,r,o)}}class $I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class JI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kx()?8:bM(Fx())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new $I;return this.Ss(t,i,c).next((m=>{if(u.result=m,this.Vs)return this.bs(t,i,c,m.size)}))})).next((()=>u.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Ga()<=Bt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(Ga()<=Bt.DEBUG&&ct("QueryEngine","Query:",Ka(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ga()<=Bt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):tt.resolve())}ys(t,i){if(XT(i))return tt.resolve(null);let r=Ii(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=op(i,null,"F"),r=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Lt(...u);return this.ps.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.Ds(i,m);return this.Cs(i,g,c,p.readTime)?this.ys(t,op(i,null,"F")):this.vs(t,g,i,p)}))))})))))}ws(t,i,r,o){return XT(i)||o.isEqual(At.min())?tt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const c=this.Ds(i,u);return this.Cs(i,c,r,o)?tt.resolve(null):(Ga()<=Bt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ka(i)),this.vs(t,c,i,_M(o,Wl)).next((m=>m)))}))}Ds(t,i){let r=new Ue(tS(t));return i.forEach(((o,u)=>{qh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Ga()<=Bt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.ps.getDocumentsMatchingQuery(t,i,tr.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const gg="LocalStore",WI=3e8;class t4{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ce(Pt),this.xs=new Jr((u=>ag(u)),og),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function e4(n,t,i,r){return new t4(n,t,i,r)}async function bS(n,t){const i=bt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Lt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function n4(n,t){const i=bt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const E=g.batch,A=E.keys();let C=tt.resolve();return A.forEach((U=>{C=C.next((()=>v.getEntry(p,U))).next((H=>{const j=g.docVersions.get(U);Gt(j!==null,48541),H.version.compareTo(j)<0&&(E.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,E)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Lt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function RS(n){const t=bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function i4(n,t){const i=bt(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];t.targetChanges.forEach(((v,E)=>{const A=o.get(E);if(!A)return;m.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,E).next((()=>i.Pi.addMatchingKeys(u,v.addedDocuments,E))));let C=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(Je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(E,C),(function(H,j,X){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=WI?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(A,C,v)&&m.push(i.Pi.updateTargetData(u,C))}));let p=hs(),g=Lt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(s4(u,c,t.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(At.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next((E=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return tt.waitFor(m).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(i.Ms=o,u)))}function s4(n,t,i){let r=Lt(),o=Lt();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=hs();return i.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ct(gg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function r4(n,t){const i=bt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ig),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function a4(n,t){const i=bt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((u=>u?(o=u,tt.resolve(o)):i.Pi.allocateTargetId(r).next((c=>(o=new Ks(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function fp(n,t,i){const r=bt(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Eo(c))throw c;ct(gg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function lE(n,t,i){const r=bt(n);let o=At.min(),u=Lt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=bt(p),A=E.xs.get(v);return A!==void 0?tt.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,v)})(r,c,Ii(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,i?o:At.min(),i?u:Lt()))).next((m=>(o4(r,KM(t),m),{documents:m,Qs:u})))))}function o4(n,t,i){let r=n.Os.get(t)||At.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class uE{constructor(){this.activeTargetIds=JM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class l4{constructor(){this.Mo=new uE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new uE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class u4{Oo(t){}shutdown(){}}const cE="ConnectivityMonitor";class hE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(cE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(cE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jc=null;function dp(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}const Rm="RestConnection",c4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const c=dp(),m=this.zo(t,i.toUriEncodedString());ct(Rm,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=Lh(g);return this.Jo(t,m,p,r,v).then((E=>(ct(Rm,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw oo(Rm,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}Ho(t,i,r,o,u,c){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const r=c4[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class f4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const tn="WebChannelConnection";class d4 extends h4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const c=dp();return new Promise(((m,p)=>{const g=new DA;g.setWithCredentials(!0),g.listenOnce(xA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case sh.NO_ERROR:const E=g.getResponseJson();ct(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case sh.TIMEOUT:ct(tn,`RPC '${t}' ${c} timed out`),p(new pt(et.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const A=g.getStatus();if(ct(tn,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const H=(function(X){const nt=X.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(nt)>=0?nt:et.UNKNOWN})(U.status);p(new pt(H,U.message))}else p(new pt(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(et.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ct(tn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);ct(tn,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=dp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=IA(),m=MA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(tn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let A=!1,C=!1;const U=new f4({Yo:j=>{C?ct(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(A||(ct(tn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),ct(tn,`RPC '${t}' stream ${o} sending:`,j),E.send(j))},Zo:()=>E.close()}),H=(j,X,nt)=>{j.listen(X,(Q=>{try{nt(Q)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return H(E,Ml.EventType.OPEN,(()=>{C||(ct(tn,`RPC '${t}' stream ${o} transport opened.`),U.o_())})),H(E,Ml.EventType.CLOSE,(()=>{C||(C=!0,ct(tn,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(E))})),H(E,Ml.EventType.ERROR,(j=>{C||(C=!0,oo(tn,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),U.a_(new pt(et.UNAVAILABLE,"The operation could not be completed")))})),H(E,Ml.EventType.MESSAGE,(j=>{if(!C){const X=j.data[0];Gt(!!X,16349);const nt=X,Q=nt?.error||nt[0]?.error;if(Q){ct(tn,`RPC '${t}' stream ${o} received error:`,Q);const ot=Q.status;let at=(function(R){const D=Ve[R];if(D!==void 0)return fS(D)})(ot),ut=Q.message;at===void 0&&(at=et.INTERNAL,ut="Unknown error status: "+ot+" with message "+Q.message),C=!0,U.a_(new pt(at,ut)),E.close()}else ct(tn,`RPC '${t}' stream ${o} received:`,X),U.u_(X)}})),H(m,VA.STAT_EVENT,(j=>{j.stat===ep.PROXY?ct(tn,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===ep.NOPROXY&&ct(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function wm(){return typeof document<"u"?document:null}function Kh(n){return new yI(n,!0)}class wS{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const fE="PersistentStream";class CS{constructor(t,i,r,o,u,c,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wS(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new pt(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(fE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m4 extends CS{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=TI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return At.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Ni(c.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=hp(this.serializer),i.addTarget=(function(u,c){let m;const p=c.target;if(m=ap(p)?{documents:SI(u,p)}:{query:bI(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=pS(u,c.resumeToken);const g=lp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(At.min())>0){m.readTime=Rh(u,c.snapshotVersion.toTimestamp());const g=lp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=wI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=hp(this.serializer),i.removeTarget=t,this.q_(i)}}class p4 extends CS{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=AI(t.writeResults,t.commitTime),r=Ni(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=hp(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>EI(this.serializer,r)))};this.q_(i)}}class g4{}class y4 extends g4{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,up(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(et.UNKNOWN,u.toString())}))}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(t,up(i,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class v4{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class _4{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ta(this)&&(ct(Xr,"Restarting streams for network reachability change."),await(async function(p){const g=bt(p);g.Ea.add(4),await du(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Yh(g)})(this))}))})),this.Ra=new v4(r,o)}}async function Yh(n){if(ta(n))for(const t of n.da)await t(!0)}async function du(n){for(const t of n.da)await t(!1)}function DS(n,t){const i=bt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Tg(i)?_g(i):Ao(i).O_()&&vg(i,t))}function yg(n,t){const i=bt(n),r=Ao(i);i.Ia.delete(t),r.O_()&&xS(i,t),i.Ia.size===0&&(r.O_()?r.L_():ta(i)&&i.Ra.set("Unknown"))}function vg(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ao(n).Y_(t)}function xS(n,t){n.Va.Ue(t),Ao(n).Z_(t)}function _g(n){n.Va=new dI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ao(n).start(),n.Ra.ua()}function Tg(n){return ta(n)&&!Ao(n).x_()&&n.Ia.size>0}function ta(n){return bt(n).Ea.size===0}function VS(n){n.Va=void 0}async function T4(n){n.Ra.set("Online")}async function E4(n){n.Ia.forEach(((t,i)=>{vg(n,t)}))}async function A4(n,t){VS(n),Tg(n)?(n.Ra.ha(t),_g(n)):n.Ra.set("Unknown")}async function S4(n,t,i){if(n.Ra.set("Online"),t instanceof mS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(n,t)}catch(r){ct(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ch(n,r)}else if(t instanceof lh?n.Va.Ze(t):t instanceof dS?n.Va.st(t):n.Va.tt(t),!i.isEqual(At.min()))try{const r=await RS(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Je.EMPTY_BYTE_STRING,v.snapshotVersion)),xS(u,p);const E=new Ks(v.target,p,g,v.sequenceNumber);vg(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(n,i)}catch(r){ct(Xr,"Failed to raise snapshot:",r),await Ch(n,r)}}async function Ch(n,t,i){if(!Eo(t))throw t;n.Ea.add(1),await du(n),n.Ra.set("Offline"),i||(i=()=>RS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ct(Xr,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Yh(n)}))}function MS(n,t){return t().catch((i=>Ch(n,i,t)))}async function Qh(n){const t=bt(n),i=sr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ig;for(;b4(t);)try{const o=await r4(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,R4(t,o)}catch(o){await Ch(t,o)}IS(t)&&NS(t)}function b4(n){return ta(n)&&n.Ta.length<10}function R4(n,t){n.Ta.push(t);const i=sr(n);i.O_()&&i.X_&&i.ea(t.mutations)}function IS(n){return ta(n)&&!sr(n).x_()&&n.Ta.length>0}function NS(n){sr(n).start()}async function w4(n){sr(n).ra()}async function C4(n){const t=sr(n);for(const i of n.Ta)t.ea(i.mutations)}async function D4(n,t,i){const r=n.Ta.shift(),o=cg.from(r,t,i);await MS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Qh(n)}async function x4(n,t){t&&sr(n).X_&&await(async function(r,o){if((function(c){return cI(c)&&c!==et.ABORTED})(o.code)){const u=r.Ta.shift();sr(r).B_(),await MS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qh(r)}})(n,t),IS(n)&&NS(n)}async function dE(n,t){const i=bt(n);i.asyncQueue.verifyOperationInProgress(),ct(Xr,"RemoteStore received new credentials");const r=ta(i);i.Ea.add(3),await du(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Yh(i)}async function V4(n,t){const i=bt(n);t?(i.Ea.delete(2),await Yh(i)):t||(i.Ea.add(2),await du(i),i.Ra.set("Unknown"))}function Ao(n){return n.ma||(n.ma=(function(i,r,o){const u=bt(i);return u.sa(),new m4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:T4.bind(null,n),t_:E4.bind(null,n),r_:A4.bind(null,n),H_:S4.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Tg(n)?_g(n):n.Ra.set("Unknown")):(await n.ma.stop(),VS(n))}))),n.ma}function sr(n){return n.fa||(n.fa=(function(i,r,o){const u=bt(i);return u.sa(),new p4(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:w4.bind(null,n),r_:x4.bind(null,n),ta:C4.bind(null,n),na:D4.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Qh(n)):(await n.fa.stop(),n.Ta.length>0&&(ct(Xr,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Eg{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,m=new Eg(t,i,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(n,t){if(cs("AsyncQueue",`${t}: ${n}`),Eo(n))return new pt(et.UNAVAILABLE,`${t}: ${n}`);throw n}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||yt.comparator(i.key,r.key):(i,r)=>yt.comparator(i.key,r.key),this.keyedMap=Il(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new eo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class mE{constructor(){this.ga=new ce(yt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class mo{constructor(t,i,r,o,u,c,m,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((m=>{c.push({type:0,doc:m})})),new mo(t,i,eo.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class M4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class I4{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=bt(i),u=o.queries;o.queries=pE(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new pt(et.ABORTED,"Firestore shutting down"))}}function pE(){return new Jr((n=>WA(n)),jh)}async function OS(n,t){const i=bt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new M4,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const m=Ag(c,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Sg(i)}async function PS(n,t){const i=bt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function N4(n,t){const i=bt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&Sg(i)}function O4(n,t,i){const r=bt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function Sg(n){n.Ca.forEach((t=>{t.next()}))}var mp,gE;(gE=mp||(mp={})).Ma="default",gE.Cache="cache";class LS{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new mo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mp.Cache}}class US{constructor(t){this.key=t}}class kS{constructor(t){this.key=t}}class P4{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=tS(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new mE,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const A=o.get(v),C=qh(this.query,E)?E:null,U=!!A&&this.mutatedKeys.has(A.key),H=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;A&&C?A.data.isEqual(C.data)?U!==H&&(r.track({type:3,doc:C}),j=!0):this.su(A,C)||(r.track({type:2,doc:C}),j=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!A&&C?(r.track({type:0,doc:C}),j=!0):A&&!C&&(r.track({type:1,doc:A}),j=!0,(p||g)&&(m=!0)),j&&(C?(c=c.add(C),u=H?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(C,U){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:j})}};return H(C)-H(U)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new mo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new kS(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new US(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class L4{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class U4{constructor(t){this.key=t,this.hu=!1}}class k4{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Jr((m=>WA(m)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(yt.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z4(n,t,i=!0){const r=FS(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zS(r,t,i,!0),o}async function B4(n,t){const i=FS(n);await zS(i,t,!0,!1)}async function zS(n,t,i,r){const o=await a4(n.localStore,Ii(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await j4(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&DS(n.remoteStore,o),m}async function j4(n,t,i,r,o){n.pu=(E,A,C)=>(async function(H,j,X,nt){let Q=j.view.ru(X);Q.Cs&&(Q=await lE(H.localStore,j.query,!1).then((({documents:w})=>j.view.ru(w,Q))));const ot=nt&&nt.targetChanges.get(j.targetId),at=nt&&nt.targetMismatches.get(j.targetId)!=null,ut=j.view.applyChanges(Q,H.isPrimaryClient,ot,at);return vE(H,j.targetId,ut.au),ut.snapshot})(n,E,A,C);const u=await lE(n.localStore,t,!0),c=new P4(t,u.Qs),m=c.ru(u.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);vE(n,i,g.au);const v=new L4(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function q4(n,t,i){const r=bt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!jh(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&yg(r.remoteStore,o.targetId),pp(r,o.targetId)})).catch(To)):(pp(r,o.targetId),await fp(r.localStore,o.targetId,!0))}async function H4(n,t){const i=bt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),yg(i.remoteStore,r.targetId))}async function F4(n,t,i){const r=$4(n);try{const o=await(function(c,m){const p=bt(c),g=se.now(),v=m.reduce(((C,U)=>C.add(U.key)),Lt());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=hs(),H=Lt();return p.Ns.getEntries(C,v).next((j=>{U=j,U.forEach(((X,nt)=>{nt.isValidDocument()||(H=H.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,U))).next((j=>{E=j;const X=[];for(const nt of m){const Q=rI(nt,E.get(nt.key).overlayedDocument);Q!=null&&X.push(new Wr(nt.key,Q,KA(Q.value.mapValue),as.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,X,m)})).next((j=>{A=j;const X=j.applyToLocalDocumentSet(E,H);return p.documentOverlayCache.saveOverlays(C,j.batchId,X)}))})).then((()=>({batchId:A.batchId,changes:nS(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ce(Pt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(r,o.batchId,i),await mu(r,o.changes),await Qh(r.remoteStore)}catch(o){const u=Ag(o,"Failed to persist write");i.reject(u)}}async function BS(n,t){const i=bt(n);try{const r=await i4(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Gt(c.hu,14607):o.removedDocuments.size>0&&(Gt(c.hu,42227),c.hu=!1))})),await mu(i,r,t)}catch(r){await To(r)}}function yE(n,t,i){const r=bt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=bt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,E)=>{for(const A of E.Sa)A.va(m)&&(g=!0)})),g&&Sg(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function G4(n,t,i){const r=bt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new ce(yt.comparator);c=c.insert(u,nn.newNoDocument(u,At.min()));const m=Lt().add(u),p=new Gh(At.min(),new Map,new ce(Pt),c,m);await BS(r,p),r.du=r.du.remove(u),r.Au.delete(t),Rg(r)}else await fp(r.localStore,t,!1).then((()=>pp(r,t,i))).catch(To)}async function K4(n,t){const i=bt(n),r=t.batch.batchId;try{const o=await n4(i.localStore,t);qS(i,r,null),jS(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await mu(i,o)}catch(o){await To(o)}}async function Y4(n,t,i){const r=bt(n);try{const o=await(function(c,m){const p=bt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((E=>(Gt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);qS(r,t,i),jS(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await mu(r,o)}catch(o){await To(o)}}function jS(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function qS(n,t,i){const r=bt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function pp(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||HS(n,r)}))}function HS(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(yg(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),Rg(n))}function vE(n,t,i){for(const r of i)r instanceof US?(n.Ru.addReference(r.key,t),Q4(n,r)):r instanceof kS?(ct(bg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||HS(n,r.key)):_t(19791,{wu:r})}function Q4(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(ct(bg,"New document in limbo: "+i),n.Eu.add(r),Rg(n))}function Rg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new yt(ie.fromString(t)),r=n.fu.next();n.Au.set(r,new U4(i)),n.du=n.du.insert(i,r),DS(n.remoteStore,new Ks(Ii(lg(i.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function mu(n,t,i){const r=bt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,i).then((g=>{if((g||i)&&r.isPrimaryClient){const v=g?!g.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=pg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(p,g){const v=bt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>tt.forEach(g,(A=>tt.forEach(A.Es,(C=>v.persistence.referenceDelegate.addReference(E,A.targetId,C))).next((()=>tt.forEach(A.ds,(C=>v.persistence.referenceDelegate.removeReference(E,A.targetId,C)))))))))}catch(E){if(!Eo(E))throw E;ct(gg,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const C=v.Ms.get(A),U=C.snapshotVersion,H=C.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(A,H)}}})(r.localStore,u))}async function X4(n,t){const i=bt(n);if(!i.currentUser.isEqual(t)){ct(bg,"User change. New user:",t.toKey());const r=await bS(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new pt(et.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await mu(i,r.Ls)}}function Z4(n,t){const i=bt(n),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const m=i.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function FS(n){const t=bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=G4.bind(null,t),t.Pu.H_=N4.bind(null,t.eventManager),t.Pu.yu=O4.bind(null,t.eventManager),t}function $4(n){const t=bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Y4.bind(null,t),t}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return e4(this.persistence,new JI,t.initialUser,this.serializer)}Cu(t){return new SS(mg.mi,this.serializer)}Du(t){return new l4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class J4 extends Dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new SS((r=>wh.mi(r,i)),this.serializer)}}class gp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X4.bind(null,this.syncEngine),await V4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new I4})()}createDatastore(t){const i=Kh(t.databaseInfo.databaseId),r=(function(u){return new d4(u)})(t.databaseInfo);return(function(u,c,m,p){return new y4(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,m){return new _4(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>yE(this.syncEngine,i,0)),(function(){return hE.v()?new hE:new u4})())}createSyncEngine(t,i){return(function(o,u,c,m,p,g,v){const E=new k4(o,u,c,m,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=bt(i);ct(Xr,"RemoteStore shutting down."),r.Ea.add(5),await du(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gp.provider={build:()=>new gp};class GS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const rr="FirestoreClient";class W4{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{ct(rr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ct(rr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Ag(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Cm(n,t){n.asyncQueue.verifyOperationInProgress(),ct(rr,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await bS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function _E(n,t){n.asyncQueue.verifyOperationInProgress();const i=await tN(n);ct(rr,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>dE(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>dE(t.remoteStore,o))),n._onlineComponents=t}async function tN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(rr,"Using user provided OfflineComponentProvider");try{await Cm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Cm(n,new Dh)}}else ct(rr,"Using default OfflineComponentProvider"),await Cm(n,new J4(void 0));return n._offlineComponents}async function KS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(rr,"Using user provided OnlineComponentProvider"),await _E(n,n._uninitializedComponentsProvider._online)):(ct(rr,"Using default OnlineComponentProvider"),await _E(n,new gp))),n._onlineComponents}function eN(n){return KS(n).then((t=>t.syncEngine))}async function YS(n){const t=await KS(n),i=t.eventManager;return i.onListen=z4.bind(null,t.syncEngine),i.onUnlisten=q4.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=B4.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=H4.bind(null,t.syncEngine),i}function nN(n,t,i={}){const r=new rs;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new GS({next:A=>{v.Nu(),c.enqueueAndForget((()=>PS(u,E)));const C=A.docs.has(m);!C&&A.fromCache?g.reject(new pt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&p&&p.source==="server"?g.reject(new pt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new LS(lg(m.path),v,{includeMetadataChanges:!0,qa:!0});return OS(u,E)})(await YS(n),n.asyncQueue,t,i,r))),r.promise}function iN(n,t,i={}){const r=new rs;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new GS({next:A=>{v.Nu(),c.enqueueAndForget((()=>PS(u,E))),A.fromCache&&p.source==="server"?g.reject(new pt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new LS(m,v,{includeMetadataChanges:!0,qa:!0});return OS(u,E)})(await YS(n),n.asyncQueue,t,i,r))),r.promise}function QS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const TE=new Map;const XS="firestore.googleapis.com",EE=!0;class AE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XS,this.ssl=EE}else this.host=t.host,this.ssl=t.ssl??EE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PI)throw new pt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xh{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=TE.get(i);r&&(ct("ComponentProvider","Removing Datastore"),TE.delete(i),r.terminate())})(this),Promise.resolve()}}function sN(n,t,i,r={}){n=uo(n,Xh);const o=Lh(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${i}`;o&&(dA(`https://${m}`),pA("Firestore",!0)),u.host!==XS&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!gh(p,c)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=en.MOCK_USER;else{g=mA(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(E)}n._authCredentials=new uM(new OA(g,v))}}class Zh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Zh(this.firestore,t,this._query)}}class qe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(cu(i,qe._jsonSchema))return new qe(t,r||null,new yt(ie.fromString(i.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Ie("string",qe._jsonSchemaVersion),referencePath:Ie("string")};class $s extends Zh{constructor(t,i,r){super(t,i,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new yt(t))}withConverter(t){return new $s(this.firestore,t,this._path)}}function ru(n,t,...i){if(n=ro(n),PA("collection","path",t),n instanceof Xh){const r=ie.fromString(t,...i);return LT(r),new $s(n,null,r)}{if(!(n instanceof qe||n instanceof $s))throw new pt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return LT(r),new $s(n.firestore,null,r)}}function ZS(n,t,...i){if(n=ro(n),arguments.length===1&&(t=eg.newId()),PA("doc","path",t),n instanceof Xh){const r=ie.fromString(t,...i);return PT(r),new qe(n,null,new yt(r))}{if(!(n instanceof qe||n instanceof $s))throw new pt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return PT(r),new qe(n.firestore,n instanceof $s?n.converter:null,new yt(r))}}const SE="AsyncQueue";class bE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wS(this,"async_queue_retry"),this._c=()=>{const r=wm();r&&ct(SE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=wm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=wm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Eo(t))throw t;ct(SE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",RE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Eg.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:RE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function RE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class $h extends Xh{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new bE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bE(t),this._firestoreClient=void 0,await t}}}function rN(n,t){const i=typeof n=="object"?n:bA(),r=typeof n=="string"?n:_h,o=TA(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=hA("firestore");u&&sN(o,...u)}return o}function wg(n){if(n._terminated)throw new pt(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aN(n),n._firestoreClient}function aN(n){const t=n._freezeSettings(),i=(function(o,u,c,m){return new xM(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,QS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new W4(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(Je.fromBase64String(t))}catch(i){throw new pt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cu(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ie("string",Hn._jsonSchemaVersion),bytes:Ie("string")};class Cg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new pt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class $S{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new pt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new pt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(cu(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ie("string",Oi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Pi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cu(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Pi(t.vectorValues);throw new pt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Ie("string",Pi._jsonSchemaVersion),vectorValues:Ie("object")};const oN=/^__.*__$/;class lN{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,i,this.fieldTransforms):new hu(t,this.data,i,this.fieldTransforms)}}function JS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:n})}}class Dg{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return xh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JS(this.Ac)&&oN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class uN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Kh(t)}Cc(t,i,r,o=!1){return new Dg({Ac:t,methodName:i,Dc:r,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cN(n){const t=n._freezeSettings(),i=Kh(n._databaseId);return new uN(n._databaseId,!!t.ignoreUndefinedProperties,i)}function hN(n,t,i,r,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);nb("Data must be an object, but it was:",c,r);const m=tb(r,c);let p,g;if(u.merge)p=new ri(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const A=fN(t,E,i);if(!c.contains(A))throw new pt(et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);mN(v,A)||v.push(A)}p=new ri(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new lN(new qn(m),p,g)}function WS(n,t){if(eb(n=ro(n)))return nb("Unsupported field value:",t,n),tb(n,t);if(n instanceof $S)return(function(r,o){if(!JS(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=WS(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=ro(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=se.fromDate(r);return{timestampValue:Rh(o.serializer,u)}}if(r instanceof se){const u=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:pS(o.serializer,r._byteString)};if(r instanceof qe){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Pi)return(function(c,m){return{mapValue:{fields:{[FA]:{stringValue:GA},[Th]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ug(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ng(r)}`)})(n,t)}function tb(n,t){const i={};return kA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$r(n,((r,o)=>{const u=WS(o,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function eb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof se||n instanceof Oi||n instanceof Hn||n instanceof qe||n instanceof $S||n instanceof Pi)}function nb(n,t,i){if(!eb(i)||!LA(i)){const r=ng(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function fN(n,t,i){if((t=ro(t))instanceof Cg)return t._internalPath;if(typeof t=="string")return ib(n,t);throw xh("Field path arguments must be of type string or ",n,!1,void 0,i)}const dN=new RegExp("[~\\*/\\[\\]]");function ib(n,t,i){if(t.search(dN)>=0)throw xh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Cg(...t.split("."))._internalPath}catch{throw xh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function xh(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new pt(et.INVALID_ARGUMENT,m+n+p)}function mN(n,t){return n.some((i=>i.isEqual(t)))}class sb{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(rb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class pN extends sb{data(){return super.data()}}function rb(n,t){return typeof t=="string"?ib(n,t):t instanceof Cg?t._internalPath:t._delegate._internalPath}function gN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yN{convertValue(t,i="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return $r(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[Th].arrayValue?.values?.map((r=>Te(r.doubleValue)));return new Pi(i)}convertGeoPoint(t){return new Oi(Te(t.latitude),Te(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=zh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(tu(t));default:return null}}convertTimestamp(t){const i=er(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Gt(ES(r),9688,{name:t});const o=new eu(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return o.isEqual(i)||cs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function vN(n,t,i){let r;return r=n?n.toFirestore(t):t,r}class Ol{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yr extends sb{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(rb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Ie("string",Yr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class uh extends Yr{data(t={}){return super.data(t)}}class no{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ol(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new uh(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ol(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:_N(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _N(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:n})}}function TN(n){n=uo(n,qe);const t=uo(n.firestore,$h);return nN(wg(t),n._key).then((i=>SN(t,n,i)))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Ie("string",no._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class ab extends yN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,i)}}function Jh(n){n=uo(n,Zh);const t=uo(n.firestore,$h),i=wg(t),r=new ab(t);return gN(n._query),iN(i,n._query).then((o=>new no(t,r,n,o)))}function EN(n,t){const i=uo(n.firestore,$h),r=ZS(n),o=vN(n.converter,t);return AN(i,[hN(cN(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,as.exists(!1))]).then((()=>r))}function AN(n,t){return(function(r,o){const u=new rs;return r.asyncQueue.enqueueAndForget((async()=>F4(await eN(r),o,u))),u.promise})(wg(n),t)}function SN(n,t,i){const r=i.docs.get(t._key),o=new ab(n);return new Yr(n,o,t._key,r,new Ol(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){_o=o})(AA),$l(new ao("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new $h(new cM(r.getProvider("auth-internal")),new dM(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Xs(MT,IT,t),Xs(MT,IT,"esm2020")})();const ob="firebasestorage.googleapis.com",bN="storageBucket",RN=120*1e3,wN=600*1e3;class zi extends Zr{constructor(t,i,r=0){super(Dm(t),`Firebase Storage: ${i} (${Dm(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Dm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ki;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ki||(ki={}));function Dm(n){return"storage/"+n}function CN(){const n="An unknown error occurred, please check the error payload for server response.";return new zi(ki.UNKNOWN,n)}function DN(){return new zi(ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xN(){return new zi(ki.CANCELED,"User canceled the upload/download.")}function VN(n){return new zi(ki.INVALID_URL,"Invalid URL '"+n+"'.")}function MN(n){return new zi(ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function wE(n){return new zi(ki.INVALID_ARGUMENT,n)}function lb(){return new zi(ki.APP_DELETED,"The Firebase app was deleted.")}function IN(n){return new zi(ki.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ai{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=ai.makeFromUrl(t,i)}catch{return new ai(t,"")}if(r.path==="")return r;throw MN(t)}static makeFromUrl(t,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ot){ot.path.charAt(ot.path.length-1)==="/"&&(ot.path_=ot.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(ot){ot.path_=decodeURIComponent(ot.path)}const v="v[A-Za-z0-9_]+",E=i.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${v}/b/${o}/o${A}`,"i"),U={bucket:1,path:3},H=i===ob?"(?:storage.googleapis.com|storage.cloud.google.com)":i,j="([^?#]*)",X=new RegExp(`^https?://${H}/${o}/${j}`,"i"),Q=[{regex:m,indices:p,postModify:u},{regex:C,indices:U,postModify:g},{regex:X,indices:{bucket:1,path:2},postModify:g}];for(let ot=0;ot<Q.length;ot++){const at=Q[ot],ut=at.regex.exec(t);if(ut){const w=ut[at.indices.bucket];let R=ut[at.indices.path];R||(R=""),r=new ai(w,R),at.postModify(r);break}}if(r==null)throw VN(t);return r}}class NN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ON(n,t,i){let r=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...j){g||(g=!0,t.apply(null,j))}function E(j){o=setTimeout(()=>{o=null,n(C,p())},j)}function A(){u&&clearTimeout(u)}function C(j,...X){if(g){A();return}if(j){A(),v.call(null,j,...X);return}if(p()||c){A(),v.call(null,j,...X);return}r<64&&(r*=2);let Q;m===1?(m=2,Q=0):Q=(r+Math.random())*1e3,E(Q)}let U=!1;function H(j){U||(U=!0,A(),!g&&(o!==null?(j||(m=2),clearTimeout(o),E(0)):j||(m=1)))}return E(0),u=setTimeout(()=>{c=!0,H(!0)},i),H}function PN(n){n(!1)}function LN(n){return n!==void 0}function CE(n,t,i,r){if(r<t)throw wE(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>i)throw wE(`Invalid value for '${n}'. Expected ${i} or less.`)}function UN(n){const t=encodeURIComponent;let i="?";for(const r in n)if(n.hasOwnProperty(r)){const o=t(r)+"="+t(n[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Vh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Vh||(Vh={}));function kN(n,t){const i=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return i||o||u}class zN{constructor(t,i,r,o,u,c,m,p,g,v,E,A=!0,C=!1){this.url_=t,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,H)=>{this.resolve_=U,this.reject_=H,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new Wc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===Vh.NO_ERROR,p=u.getStatus();if(!m||kN(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Vh.ABORT;r(!1,new Wc(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new Wc(g,u))})},i=(r,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());LN(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=CN();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?lb():xN();c(p)}else{const p=DN();c(p)}};this.canceled_?i(!1,new Wc(!1,null,!0)):this.backoffId_=ON(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&PN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wc{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function BN(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function jN(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function qN(n,t){t&&(n["X-Firebase-GMPID"]=t)}function HN(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function FN(n,t,i,r,o,u,c=!0,m=!1){const p=UN(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return qN(v,t),BN(v,i),jN(v,u),HN(v,r),new zN(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,m)}function GN(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function KN(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}class Mh{constructor(t,i){this._service=t,i instanceof ai?this._location=i:this._location=ai.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Mh(t,i)}get root(){const t=new ai(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KN(this._location.path)}get storage(){return this._service}get parent(){const t=GN(this._location.path);if(t===null)return null;const i=new ai(this._location.bucket,t);return new Mh(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw IN(t)}}function DE(n,t){const i=t?.[bN];return i==null?null:ai.makeFromBucketSpec(i,n)}function YN(n,t,i,r={}){n.host=`${t}:${i}`;const o=Lh(t);o&&(dA(`https://${n.host}/b`),pA("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(n._overrideAuthToken=typeof u=="string"?u:mA(u,n.app.options.projectId))}class QN{constructor(t,i,r,o,u,c=!1){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=ob,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RN,this._maxUploadRetryTime=wN,this._requests=new Set,o!=null?this._bucket=ai.makeFromBucketSpec(o,this._host):this._bucket=DE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,t):this._bucket=DE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){CE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){CE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(EA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Mh(this,t)}_makeRequest(t,i,r,o,u=!0){if(this._deleted)return new NN(lb());{const c=FN(t,this._appId,r,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,o).getPromise()}}const xE="@firebase/storage",VE="0.14.0";const ub="storage";function XN(n=bA(),t){n=ro(n);const r=TA(n,ub).getImmediate({identifier:t}),o=hA("storage");return o&&ZN(r,...o),r}function ZN(n,t,i,r={}){YN(n,t,i,r)}function $N(n,{instanceIdentifier:t}){const i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new QN(i,r,o,t,AA)}function JN(){$l(new ao(ub,$N,"PUBLIC").setMultipleInstances(!0)),Xs(xE,VE,""),Xs(xE,VE,"esm2020")}JN();const WN={apiKey:"AIzaSyDPf8fYWYOdA1w6r2sn94UCGPB95ljXmlI",authDomain:"kwak-cyworld.firebaseapp.com",projectId:"kwak-cyworld",storageBucket:"kwak-cyworld.firebasestorage.app",messagingSenderId:"1021581704828",appId:"1:1021581704828:web:0287edcfaa66fc80db53f9"},cb=SA(WN),po=rN(cb);XN(cb);function tO(){const[n,t]=st.useState("diary"),[i,r]=st.useState("day"),[o,u]=st.useState(!1);st.useEffect(()=>{const E=new Date().getHours();E>=5&&E<11?r("morning"):E>=11&&E<17?r("day"):E>=17&&E<20?r("evening"):r("night")},[]);const[c,m]=st.useState(0),[p,g]=st.useState(0);st.useEffect(()=>{(async()=>{try{const A=await TN(ZS(po,"visitors","counter"));if(A.exists()){const C=A.data();m(C.today??0),g(C.total??0)}}catch(A){console.error("   :",A)}})()},[]);const v=[{title:"...",artist:"mc",src:"bgm1.mp3"},{title:"",artist:"",src:"bgm2.mp3"},{title:"",artist:"mc",src:"bgm3.mp3"},{title:"",artist:"mc",src:"bgm4.mp3"}];return J.jsxs("div",{className:"min-h-screen flex flex-col transition-all duration-700 "+(i==="morning"?"bg-morning text-[#4a2a2a]":i==="day"?"bg-day text-[#4a2a2a]":i==="evening"?"bg-evening text-[#4a2a2a]":"bg-night text-white"),children:[J.jsx(eO,{today:c,total:p,onMenuOpen:()=>u(!0)}),J.jsx(nO,{}),J.jsxs("nav",{className:"mt-4 mx-4 glass flex justify-around border border-white/40 rounded-2xl py-3 text-sm font-semibold text-pink-700 shadow-md",children:[J.jsx("button",{onClick:()=>t("diary"),className:n==="diary"?"text-pink-900":"opacity-60",children:" "}),J.jsx("button",{onClick:()=>t("photos"),className:n==="photos"?"text-pink-900":"opacity-60",children:" "}),J.jsx("button",{onClick:()=>t("guestbook"),className:n==="guestbook"?"text-pink-900":"opacity-60",children:" "})]}),J.jsx("main",{className:"flex-1 p-6 pb-28",children:J.jsxs(w0,{mode:"wait",children:[n==="diary"&&J.jsx(zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:J.jsx(iO,{})},"diary"),n==="photos"&&J.jsx(zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:J.jsx(sO,{})},"photos"),n==="guestbook"&&J.jsx(zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:J.jsx(rO,{})},"guestbook"),n==="essay"&&J.jsx(zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:J.jsx(aO,{})},"essay"),n==="ideas"&&J.jsx(zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:J.jsx(oO,{})},"ideas"),n==="column"&&J.jsx(zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:J.jsx(lO,{})},"column")]})}),J.jsx(uO,{playlist:v}),J.jsx(w0,{children:o&&J.jsxs(zr.div,{initial:{x:250},animate:{x:0},exit:{x:250},transition:{duration:.25},className:"fixed top-0 right-0 w-64 h-full bg-white/90 backdrop-blur-xl shadow-xl z-[9999] p-6 border-l border-pink-200",children:[J.jsx("button",{onClick:()=>u(!1),className:"absolute right-4 top-4 text-xl",children:""}),J.jsx("h2",{className:"text-lg font-semibold text-pink-700 mt-8 mb-6",children:" "}),J.jsxs("ul",{className:"space-y-4 text-pink-800 font-medium",children:[J.jsx("li",{onClick:()=>{u(!1),t("essay")},className:"cursor-pointer hover:text-pink-600",children:" "}),J.jsx("li",{onClick:()=>{u(!1),t("ideas")},className:"cursor-pointer hover:text-pink-600",children:" "}),J.jsx("li",{onClick:()=>{u(!1),t("column")},className:"cursor-pointer hover:text-pink-600",children:" "})]})]})})]})}function eO({today:n,total:t,onMenuOpen:i}){return J.jsxs("header",{className:"relative w-full px-6 py-7 glass-pink shadow-xl rounded-b-3xl border border-white/40 overflow-hidden",children:[J.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/40 via-transparent to-pink-200/30 opacity-60"}),J.jsxs("div",{className:"relative flex items-center space-x-5",children:[J.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden shadow-lg ring-2 ring-white/50",children:J.jsx("img",{src:"/profile.jpg",className:"w-full h-full object-cover"})}),J.jsxs("div",{className:"flex flex-col",children:[J.jsx("h1",{className:"text-xl font-bold text-pink-900",children:" (east_hyeun)"}),J.jsx("p",{className:"text-sm text-pink-800/90 mt-1 glass px-3 py-1 rounded-full",children:"   ."})]}),J.jsx("button",{onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 text-pink-900 text-3xl font-bold",children:""})]}),J.jsxs("div",{className:"absolute right-6 top-6 flex space-x-3 text-[11px] font-semibold",children:[J.jsxs("span",{className:"px-3 py-1 rounded-full glass text-pink-900",children:["TODAY ",String(n).padStart(3,"0")]}),J.jsxs("span",{className:"px-3 py-1 rounded-full glass text-pink-900",children:["TOTAL ",String(t).padStart(3,"0")]})]})]})}function nO(){return J.jsxs("div",{className:"mx-4 mt-4 glass-pink rounded-2xl p-4 border border-white/40 shadow-lg",children:[J.jsx("div",{className:"w-full aspect-video rounded-xl overflow-hidden bg-white/50 backdrop-blur-lg flex items-center justify-center shadow-inner",children:J.jsx("img",{src:"/miniroom.png",className:"w-full h-full object-cover"})}),J.jsx("p",{className:"text-center mt-2 text-pink-800 text-sm font-semibold",children:"  "})]})}function iO(){const[n,t]=st.useState([]);return st.useEffect(()=>{(async()=>{const o=(await Jh(ru(po,"diary","kwak","posts"))).docs.map(u=>({id:u.id,...u.data()}));t(o)})()},[]),J.jsx("div",{className:"space-y-16",children:n.map(i=>J.jsxs("div",{children:[J.jsx("p",{className:"text-sm mb-3",children:i.date}),J.jsxs("div",{className:"relative pl-6",children:[J.jsx("div",{className:"absolute left-2 top-0 h-full w-[2px] bg-pink-300/80"}),J.jsx("p",{className:"whitespace-pre-line text-[15px]",children:i.content})]})]},i.id))})}function sO(){const[n,t]=st.useState([]);return st.useEffect(()=>{(async()=>{const o=(await Jh(ru(po,"photos","kwak","list"))).docs.map(u=>({id:u.id,...u.data()}));t(o)})()},[]),J.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.map(i=>J.jsxs("div",{className:"glass-pink rounded-2xl border p-2 shadow-md",children:[J.jsx("div",{className:"w-full aspect-square overflow-hidden rounded-lg",children:J.jsx("img",{src:i.imageUrl,className:"w-full h-full object-cover"})}),J.jsx("p",{className:"mt-1 text-[13px] font-semibold truncate",children:i.caption}),J.jsx("p",{className:"text-[10px] text-pink-500",children:i.date})]},i.id))})}function rO(){const[n,t]=st.useState([]),[i,r]=st.useState(""),[o,u]=st.useState(""),[c,m]=st.useState("");st.useEffect(()=>{(async()=>{const E=(await Jh(ru(po,"guestbook"))).docs.map(A=>({id:A.id,...A.data()})).sort((A,C)=>C.createdAt-A.createdAt);t(E)})()},[]);const p=async()=>{if(!o.trim()||!c.trim())return;const g=Date.now(),v={icon:i,name:o,msg:c,createdAt:g,date:new Date(g).toISOString().slice(0,10)},E=await EN(ru(po,"guestbook"),v);t([{id:E.id,...v},...n]),u(""),m("")};return J.jsxs("div",{className:"space-y-5",children:[J.jsxs("div",{className:"glass-pink p-4 rounded-2xl border shadow-md",children:[J.jsxs("div",{className:"flex gap-3 mb-3",children:[J.jsxs("select",{className:"border border-pink-300 rounded-lg px-2 py-1 text-pink-700 bg-pink-50",value:i,onChange:g=>r(g.target.value),children:[J.jsx("option",{children:""}),J.jsx("option",{children:""}),J.jsx("option",{children:""}),J.jsx("option",{children:""}),J.jsx("option",{children:""}),J.jsx("option",{children:""})]}),J.jsx("input",{type:"text",placeholder:"",className:"flex-1 border border-pink-300 rounded-lg px-3 py-1 bg-pink-50 text-pink-700",value:o,onChange:g=>u(g.target.value)})]}),J.jsx("textarea",{placeholder:" ",className:"w-full border border-pink-300 rounded-lg px-3 py-2 h-20 bg-pink-50 text-pink-700 resize-none",value:c,onChange:g=>m(g.target.value)}),J.jsx("button",{onClick:p,className:"w-full mt-3 bg-pink-500 text-white py-2 rounded-lg shadow hover:bg-pink-600 transition",children:"  "})]}),n.map(g=>J.jsxs("div",{className:"glass-pink p-4 rounded-2xl border shadow-md",children:[J.jsxs("div",{className:"flex justify-between",children:[J.jsxs("span",{className:"font-semibold text-pink-800",children:[g.icon," ",g.name]}),J.jsx("span",{className:"text-xs text-pink-400",children:g.date})]}),J.jsx("p",{className:"mt-2 whitespace-pre-line text-gray-900",children:g.msg})]},g.id))]})}function aO(){const[n,t]=st.useState([]),[i,r]=st.useState(""),[o,u]=st.useState("");return st.useEffect(()=>{(async()=>{const p=(await Jh(ru(po,"essays"))).docs.map(g=>{const v=g.data(),E=v.createdAt?.seconds?new Date(v.createdAt.seconds*1e3):new Date,A=Math.floor((Date.now()-E.getTime())/(1e3*60*60*24));let C=A===0?"":A===1?"":`${A} `;return{id:g.id,...v,dateLabel:C}});t(p.sort((g,v)=>g.createdAt<v.createdAt?1:-1))})()},[]),st.useEffect(()=>{o&&fetch(`/essay/${o}`).then(c=>c.text()).then(c=>r(c))},[o]),J.jsxs("div",{className:"space-y-6",children:[!o&&J.jsx("div",{className:"space-y-7 pb-6",children:n.map(c=>J.jsxs("button",{onClick:()=>u(c.file),className:"w-full bg-white/70 backdrop-blur-xl p-6 rounded-3xl shadow-xl border border-pink-200 flex gap-5 items-center",children:[J.jsx("div",{className:"w-32 h-32 rounded-xl overflow-hidden shadow-lg",children:J.jsx("img",{src:c.thumbnail,className:"w-full h-full object-cover"})}),J.jsxs("div",{className:"flex-1 text-left",children:[J.jsx("p",{className:"text-2xl font-bold text-pink-900 truncate",children:c.title}),J.jsx("p",{className:"text-[15px] text-pink-700 mt-1 line-clamp-2",children:c.desc}),J.jsx("p",{className:"text-[13px] text-pink-500 mt-1",children:c.dateLabel})]})]},c.id))}),o&&J.jsxs("div",{className:"relative w-full",children:[J.jsx("button",{onClick:()=>{u(""),r("")},className:`
              fixed top-20 left-4 z-[9999]
              px-4 py-2 rounded-xl 
              bg-white/20 backdrop-blur-xl 
              border border-white/40 shadow-md 
              text-pink-900 font-semibold
            `,children:" "}),J.jsx("div",{className:"w-full mt-4 prose prose-pink max-w-none px-0",dangerouslySetInnerHTML:{__html:i}})]})]})}function oO(){return J.jsx("div",{className:"text-pink-900 text-lg font-semibold",children:"   ()"})}function lO(){return J.jsx("div",{className:"text-pink-900 text-lg font-semibold",children:"   ()"})}function uO({playlist:n}){const[t,i]=st.useState(0),[r,o]=st.useState(!1),[,u]=st.useState(0),c=st.useRef(null),m=st.useRef(null),p=st.useRef(null),g=st.useRef(null),v=n[t];st.useEffect(()=>{if(c.current){if(!p.current){const U=window.AudioContext||window.webkitAudioContext;p.current=new U}g.current||(g.current=p.current.createAnalyser(),g.current.fftSize=128),E()}},[]),st.useEffect(()=>{const C=c.current;if(!C)return;(async()=>{try{C.muted=!0,await C.play(),C.muted=!1,o(!0)}catch{}})()},[t]);const E=()=>{requestAnimationFrame(E);const C=m.current,U=g.current;if(!C||!U)return;const H=C.getContext("2d");if(!H)return;const j=new Uint8Array(U.frequencyBinCount);U.getByteFrequencyData(j),H.clearRect(0,0,C.width,C.height);const X=12,nt=C.width/X*1.4;for(let Q=0;Q<X;Q++){const at=j[Q*2]/255*C.height;H.fillStyle="rgba(255, 90, 160, 0.9)",H.fillRect(Q*nt+2,C.height-at,nt-4,at)}},A=async()=>{const C=c.current,U=p.current;if(!(!C||!U))if(U.state==="suspended"&&await U.resume(),r)C.pause(),o(!1);else try{await C.play(),o(!0)}catch{}};return J.jsx("div",{className:"fixed bottom-0 left-0 w-full pointer-events-none",children:J.jsxs("div",{className:"px-4 pb-4 pointer-events-auto",children:[J.jsxs("div",{className:"glass-pink rounded-2xl border shadow-xl px-4 py-3 flex items-center gap-3",children:[J.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center",children:[J.jsx("div",{className:`absolute inset-0 rounded-full border-[3px] border-pink-400 blur-sm ${r?"animate-spin-slow":""}`}),J.jsx("div",{className:`absolute inset-0 rounded-full border border-pink-300 ${r?"animate-spin-slower":""}`}),J.jsx("div",{className:"w-5 h-5 rounded-full bg-pink-200/60"})]}),J.jsx("canvas",{ref:m,width:110,height:28}),J.jsxs("div",{className:"flex-1 flex flex-col",children:[J.jsx("p",{className:"text-sm font-bold truncate",children:v.title}),J.jsx("p",{className:"text-[10px] opacity-80 truncate",children:v.artist})]}),J.jsx("button",{onClick:A,className:"w-8 h-8 bg-white rounded-full text-pink-600",children:r?"":""}),J.jsx("button",{onClick:()=>i(C=>(C+1)%n.length),className:"px-2 py-1 bg-pink-500 text-white text-[11px] rounded-full",children:""})]}),J.jsx("audio",{ref:c,src:v.src,playsInline:!0,onTimeUpdate:C=>{const U=C.target;U.duration&&u(U.currentTime/U.duration*100)},onEnded:()=>i(C=>(C+1)%n.length)})]})})}ZR.createRoot(document.getElementById("root")).render(J.jsx(st.StrictMode,{children:J.jsx(tO,{})}));
